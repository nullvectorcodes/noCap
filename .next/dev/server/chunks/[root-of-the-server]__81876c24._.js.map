{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/mohammadsaalim/projects/src/lib/convex-client.ts"],"sourcesContent":["import { ConvexHttpClient } from \"convex/browser\";\n\n// Convex Deployment URL (ends in .convex.cloud) is required for mutations/queries\n// Convex Site URL (ends in .convex.site) is only for custom HTTP actions\nconst rawUrl = process.env.NEXT_PUBLIC_CONVEX_URL || process.env.CONVEX_DEPLOYMENT_URL || process.env.CONVEX_SITE_URL;\n\nif (!rawUrl) {\n    throw new Error(\"Convex URL is not set. Please add NEXT_PUBLIC_CONVEX_URL to .env.local\");\n}\n\n// Auto-correct .site to .cloud if using for mutations\nconst convexUrl = rawUrl.replace(\".convex.site\", \".convex.cloud\");\n\nexport const convex = new ConvexHttpClient(convexUrl, {\n    skipConvexDeploymentUrlCheck: true,\n});\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEA,kFAAkF;AAClF,yEAAyE;AACzE,MAAM,SAAS,iFAAsC,QAAQ,GAAG,CAAC,qBAAqB,IAAI,QAAQ,GAAG,CAAC,eAAe;AAErH;;AAIA,sDAAsD;AACtD,MAAM,YAAY,OAAO,OAAO,CAAC,gBAAgB;AAE1C,MAAM,SAAS,IAAI,qLAAgB,CAAC,WAAW;IAClD,8BAA8B;AAClC"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///Users/mohammadsaalim/projects/src/app/auth/callback/route.ts"],"sourcesContent":["import { handleAuth } from '@workos-inc/authkit-nextjs';\nimport { convex } from '@/lib/convex-client';\nimport { NextRequest, NextResponse } from 'next/server';\n\n// Standard App Router Route Handler\nexport async function GET(request: NextRequest) {\n    // Generate the handler with our logic\n    const handler = handleAuth({\n        async onSuccess({ user, state }) {\n            // 1. Sync data (Always succeeds)\n            try {\n                await convex.mutation(\"users:store\" as any, {\n                    userId: user.id,\n                    email: user.email,\n                    firstName: user.firstName || \"\",\n                    lastName: user.lastName || \"\",\n                    profilePictureUrl: user.profilePictureUrl || undefined,\n                });\n            } catch (error) {\n                console.error(\"Auth Sync Error:\", error);\n            }\n\n            // 2. Authorization (Intent Check)\n            const { intent } = state ? JSON.parse(state) : {};\n            if (intent === 'admin') {\n                // We handle role validation on the frontend or a specific admin page\n                // Expert Tip: Avoid redirect() [throw] inside third-party onSuccess callbacks\n                // as they may not catch the Throw properly, leading to \"undefined (reading url)\"\n            }\n        },\n    });\n\n    // Invoke the handler with the explicit request object\n    return handler(request);\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAIO,eAAe,IAAI,OAAoB;IAC1C,sCAAsC;IACtC,MAAM,UAAU,IAAA,mNAAU,EAAC;QACvB,MAAM,WAAU,EAAE,IAAI,EAAE,KAAK,EAAE;YAC3B,iCAAiC;YACjC,IAAI;gBACA,MAAM,0IAAM,CAAC,QAAQ,CAAC,eAAsB;oBACxC,QAAQ,KAAK,EAAE;oBACf,OAAO,KAAK,KAAK;oBACjB,WAAW,KAAK,SAAS,IAAI;oBAC7B,UAAU,KAAK,QAAQ,IAAI;oBAC3B,mBAAmB,KAAK,iBAAiB,IAAI;gBACjD;YACJ,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,oBAAoB;YACtC;YAEA,kCAAkC;YAClC,MAAM,EAAE,MAAM,EAAE,GAAG,QAAQ,KAAK,KAAK,CAAC,SAAS,CAAC;YAChD,IAAI,WAAW,SAAS;YACpB,qEAAqE;YACrE,8EAA8E;YAC9E,iFAAiF;YACrF;QACJ;IACJ;IAEA,sDAAsD;IACtD,OAAO,QAAQ;AACnB"}}]
}
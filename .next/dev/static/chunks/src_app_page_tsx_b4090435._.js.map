{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mohammadsaalim/projects/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef, useEffect, useState, useCallback } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Send, Sparkles, Terminal, ArrowUp, Quote, MessageSquareText, Paperclip, X, Image as ImageIcon, ScanText, Mic, MicOff, Globe, Check, Sun, Moon, Clipboard } from \"lucide-react\";\nimport clsx from \"clsx\";\n\ninterface SlangDef {\n  term: string;\n  meaning: string;\n  example: string;\n}\n\ninterface ParsedResult {\n  sentence_meaning?: string;\n  terms?: SlangDef[];\n}\n\ninterface Message {\n  id: string;\n  role: \"user\" | \"ai\";\n  content: string; // Raw content string\n  image?: string;\n  extractedText?: string;\n  parsed?: ParsedResult; // Structured data if parsing succeeds\n  isError?: boolean;\n}\n\nconst Typewriter = ({ words, className }: { words: string[], className?: string }) => {\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\n  const [currentText, setCurrentText] = useState(\"\");\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  useEffect(() => {\n    const word = words[currentWordIndex];\n\n    // Typing speeds\n    const typeSpeed = 100;\n    const deleteSpeed = 50;\n    const pauseTime = 2000;\n\n    const handleTyping = () => {\n      if (!isDeleting) {\n        // Typing\n        setCurrentText(word.substring(0, currentText.length + 1));\n\n        // Finished typing\n        if (currentText.length === word.length) {\n          setTimeout(() => setIsDeleting(true), pauseTime);\n        }\n      } else {\n        // Deleting\n        setCurrentText(word.substring(0, currentText.length - 1));\n\n        // Finished deleting\n        if (currentText.length === 0) {\n          setIsDeleting(false);\n          setCurrentWordIndex((prev) => (prev + 1) % words.length);\n        }\n      }\n    };\n\n    const timer = setTimeout(handleTyping, isDeleting ? deleteSpeed : typeSpeed);\n    return () => clearTimeout(timer);\n  }, [currentText, isDeleting, currentWordIndex, words]);\n\n  return (\n    <span className={className}>\n      {currentText}\n      <span className=\"w-[2px] h-[1em] bg-violet-400 inline-block ml-0.5 animate-pulse align-middle\" />\n    </span>\n  );\n};\n\nexport default function Home() {\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [loadingText, setLoadingText] = useState(\"Analyzing...\");\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [image, setImage] = useState<File | null>(null);\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\n  const [targetLanguage, setTargetLanguage] = useState(\"English\");\n  const [showLanguageMenu, setShowLanguageMenu] = useState(false);\n  const [theme, setTheme] = useState<'dark' | 'light'>('dark');\n\n  const toggleTheme = () => setTheme(prev => prev === 'dark' ? 'light' : 'dark');\n\n  const LANGUAGES = [\n    { code: \"EN\", name: \"English (Default)\", value: \"English\" },\n    { code: \"HI\", name: \"Hindi\", value: \"Hindi\" },\n    { code: \"BN\", name: \"Bengali\", value: \"Bengali\" },\n    { code: \"TE\", name: \"Telugu\", value: \"Telugu\" },\n    { code: \"MR\", name: \"Marathi\", value: \"Marathi\" },\n    { code: \"TA\", name: \"Tamil\", value: \"Tamil\" },\n    { code: \"UR\", name: \"Urdu\", value: \"Urdu\" },\n    { code: \"GU\", name: \"Gujarati\", value: \"Gujarati\" },\n    { code: \"KN\", name: \"Kannada\", value: \"Kannada\" },\n    { code: \"ML\", name: \"Malayalam\", value: \"Malayalam\" },\n    { code: \"OR\", name: \"Odia\", value: \"Odia\" },\n    { code: \"PA\", name: \"Punjabi\", value: \"Punjabi\" },\n    { code: \"AS\", name: \"Assamese\", value: \"Assamese\" },\n    { code: \"MZ\", name: \"Mizo\", value: \"Mizo\" },\n    { code: \"ES\", name: \"Spanish\", value: \"Spanish\" },\n    { code: \"FR\", name: \"French\", value: \"French\" },\n    { code: \"DE\", name: \"German\", value: \"German\" },\n    { code: \"JP\", name: \"Japanese\", value: \"Japanese\" },\n    { code: \"STD\", name: \"Formal English\", value: \"Standard Formal English\" },\n  ];\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages, loading, imagePreview]);\n\n  // Handle Global Paste\n  useEffect(() => {\n    const handlePaste = (e: ClipboardEvent) => {\n      const items = e.clipboardData?.items;\n      if (items) {\n        for (const item of items) {\n          if (item.type.indexOf(\"image\") !== -1) {\n            const blob = item.getAsFile();\n            if (blob) {\n              handleImageSelect(blob);\n              e.preventDefault();\n            }\n          }\n        }\n      }\n    };\n    window.addEventListener(\"paste\", handlePaste);\n    return () => window.removeEventListener(\"paste\", handlePaste);\n  }, []);\n\n  const handleImageSelect = (file: File) => {\n    if (file.type.startsWith(\"image/\")) {\n      setImage(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const removeImage = () => {\n    setImage(null);\n    setImagePreview(null);\n    if (fileInputRef.current) fileInputRef.current.value = \"\";\n  };\n\n  // LLM Warm-up\n  useEffect(() => {\n    // Send a minimal request to ensure model is loaded\n    fetch(\"/api/chat\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ message: \"ping\" }),\n    }).catch(() => { }); // Ignore errors, just want to trigger load\n  }, []);\n\n\n\n\n\n\n  const processImage = async (file: File): Promise<Blob> => {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.onload = () => {\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return reject(\"Canvas error\");\n\n        // Resize: Max width 1000px\n        const MAX_WIDTH = 1000;\n        let width = img.width;\n        let height = img.height;\n        if (width > MAX_WIDTH) {\n          height *= MAX_WIDTH / width;\n          width = MAX_WIDTH;\n        }\n\n        canvas.width = width;\n        canvas.height = height;\n        ctx.drawImage(img, 0, 0, width, height);\n\n        // Grayscale conversion\n        const imageData = ctx.getImageData(0, 0, width, height);\n        const data = imageData.data;\n        for (let i = 0; i < data.length; i += 4) {\n          const avg = (data[i] + data[i + 1] + data[i + 2]) / 3;\n          data[i] = avg;     // R\n          data[i + 1] = avg; // G\n          data[i + 2] = avg; // B\n          // A is unchanged\n        }\n        ctx.putImageData(imageData, 0, 0);\n\n        canvas.toBlob((blob) => {\n          if (blob) resolve(blob);\n          else reject(\"Blob conversion failed\");\n        }, \"image/jpeg\", 0.8);\n      };\n      img.onerror = reject;\n      img.src = URL.createObjectURL(file);\n    });\n  };\n\n  const handleAnalyze = async () => {\n    if ((!input.trim() && !image) || loading) return;\n\n    const userMsg: Message = {\n      id: Date.now().toString(),\n      role: \"user\",\n      content: input.trim(),\n      image: imagePreview || undefined,\n    };\n\n    setMessages((prev) => [...prev, userMsg]);\n    setInput(\"\");\n    setImage(null);\n    setImagePreview(null);\n    setLoading(true);\n    setLoadingText(\"Thinking...\");\n\n    try {\n      let data;\n\n      if (image) {\n        setLoadingText(\"Optimizing image...\");\n        const processedBlob = await processImage(image);\n\n        const formData = new FormData();\n        formData.append(\"image\", processedBlob, \"image.jpg\");\n        formData.append(\"language\", targetLanguage);\n\n        setLoadingText(\"Reading text...\");\n        const res = await fetch(\"/api/analyze-image\", {\n          method: \"POST\",\n          body: formData,\n        });\n\n        setLoadingText(\"Decyphering slang...\");\n        data = await res.json();\n      } else {\n        const res = await fetch(\"/api/chat\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ message: userMsg.content, language: targetLanguage }),\n        });\n        data = await res.json();\n      }\n\n      // Update user message with extracted text if available\n      if (data.extractedText) {\n        setMessages(prev => prev.map(m => m.id === userMsg.id ? { ...m, extractedText: data.extractedText } : m));\n      }\n\n      let aiContent = \"\";\n      let parsedResult: ParsedResult | undefined = undefined;\n\n      if (data.error) {\n        aiContent = `⚠️ Error: ${data.error}`;\n      } else {\n        aiContent = data.reply;\n\n        // Attempt JSON parsing\n        try {\n          const cleanJson = aiContent.replace(/```json/g, \"\").replace(/```/g, \"\").trim();\n          const jsonStart = cleanJson.indexOf('{');\n\n          if (jsonStart !== -1) {\n            let braceCount = 0;\n            let jsonEnd = -1;\n\n            // robustly find the matching closing brace\n            for (let i = jsonStart; i < cleanJson.length; i++) {\n              if (cleanJson[i] === '{') braceCount++;\n              else if (cleanJson[i] === '}') {\n                braceCount--;\n                if (braceCount === 0) {\n                  jsonEnd = i;\n                  break;\n                }\n              }\n            }\n\n            if (jsonEnd !== -1) {\n              const jsonObj = JSON.parse(cleanJson.substring(jsonStart, jsonEnd + 1));\n\n              // Validate structure\n              if (jsonObj.terms || jsonObj.sentence_meaning) {\n                parsedResult = {\n                  sentence_meaning: jsonObj.sentence_meaning,\n                  terms: Array.isArray(jsonObj.terms) ? jsonObj.terms : []\n                };\n              }\n            }\n          }\n        } catch (e) {\n          console.log(\"Failed to parse AI JSON, falling back to raw text\", e);\n        }\n      }\n\n      const aiMsg: Message = {\n        id: (Date.now() + 1).toString(),\n        role: \"ai\",\n        content: aiContent,\n        parsed: parsedResult,\n        isError: !!data.error\n      };\n\n      setMessages((prev) => [...prev, aiMsg]);\n\n    } catch (err) {\n      setMessages((prev) => [...prev, {\n        id: (Date.now() + 1).toString(),\n        role: \"ai\",\n        content: \"⚠️ Failed to connect to the server. Is LM Studio running?\",\n        isError: true\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleAnalyze();\n    }\n  };\n\n  return (\n    <main className={clsx(\n      \"flex flex-col h-screen overflow-hidden relative font-sans selection:bg-violet-500/20 transition-colors duration-500\",\n      theme === 'dark' ? \"bg-[#050505] text-white\" : \"bg-[#fafafa] text-neutral-900\"\n    )}>\n\n      {/* Background Ambience */}\n      <div className=\"fixed inset-0 z-0 pointer-events-none overflow-hidden\">\n        <div className={clsx(\n          \"absolute top-[-10%] left-[10%] w-[50%] h-[50%] rounded-full blur-[120px] animate-pulse transition-colors duration-500\",\n          theme === 'dark' ? \"bg-violet-600/20\" : \"bg-violet-400/10\"\n        )} />\n        <div className={clsx(\n          \"absolute bottom-[-10%] right-[10%] w-[50%] h-[50%] rounded-full blur-[120px] animate-pulse delay-1000 transition-colors duration-500\",\n          theme === 'dark' ? \"bg-fuchsia-600/20\" : \"bg-fuchsia-400/10\"\n        )} />\n        <div className={clsx(\n          \"absolute top-[40%] left-[40%] w-[30%] h-[30%] rounded-full blur-[100px] transition-colors duration-500\",\n          theme === 'dark' ? \"bg-indigo-600/10\" : \"bg-indigo-400/10\"\n        )} />\n      </div>\n\n      {/* Header */}\n      <header className={clsx(\n        \"fixed top-0 w-full z-50 backdrop-blur-2xl border-b h-16 flex items-center justify-between px-6 transition-all duration-300\",\n        theme === 'dark' ? \"bg-[#050505]/80 border-white/5\" : \"bg-[#fafafa]/80 border-black/5\"\n      )}>\n        <div className=\"w-8\" /> {/* Spacer for centering */}\n\n        <div className=\"flex items-center gap-2.5 opacity-90 hover:opacity-100 transition-opacity cursor-default\">\n          <span className=\"font-bold tracking-tight text-lg bg-gradient-to-r from-fuchsia-400 to-violet-400 bg-clip-text text-transparent\">.nocap</span>\n        </div>\n\n        <button\n          onClick={toggleTheme}\n          className={clsx(\n            \"p-2 rounded-full transition-colors w-8 h-8 flex items-center justify-center\",\n            theme === 'dark' ? \"text-neutral-400 hover:text-white hover:bg-white/10\" : \"text-neutral-500 hover:text-black hover:bg-black/5\"\n          )}\n        >\n          {theme === 'dark' ? <Sun className=\"w-4 h-4\" /> : <Moon className=\"w-4 h-4\" />}\n        </button>\n      </header>\n\n      {/* Chat Area */}\n      <div className=\"flex-1 overflow-y-auto z-10 pt-24 scroll-smooth custom-scrollbar relative\">\n        <div className={clsx(\n          \"min-h-full pb-32 px-4 max-w-2xl mx-auto flex flex-col justify-end gap-6\",\n          messages.length === 0 && \"justify-center\"\n        )}>\n\n          {/* Empty State */}\n          {messages.length === 0 && (\n            <motion.div\n              initial={{ opacity: 0, scale: 0.95 }}\n              animate={{ opacity: 1, scale: 1 }}\n              transition={{ duration: 0.5 }}\n              className=\"flex flex-col items-center justify-center text-center space-y-6 pb-20\"\n            >\n              <div className={clsx(\n                \"w-24 h-24 rounded-[2rem] flex items-center justify-center border ring-4 shadow-2xl relative overflow-hidden group transition-all duration-300\",\n                theme === 'dark'\n                  ? \"bg-gradient-to-br from-violet-500/10 to-fuchsia-500/10 border-white/5 ring-white/5\"\n                  : \"bg-white border-violet-100 ring-violet-50\"\n              )}>\n                <div className={clsx(\n                  \"absolute inset-0 bg-gradient-to-tr to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500\",\n                  theme === 'dark' ? \"from-violet-500/20\" : \"from-violet-500/5\"\n                )} />\n                <Sparkles className={clsx(\n                  \"w-12 h-12 animate-[pulse_3s_ease-in-out_infinite]\",\n                  theme === 'dark' ? \"text-fuchsia-400 fill-fuchsia-400/20\" : \"text-fuchsia-500 fill-fuchsia-500/10\"\n                )} />\n              </div>\n              <div className=\"space-y-3\">\n                <h2 className={clsx(\n                  \"text-4xl font-bold tracking-tight bg-clip-text text-transparent\",\n                  theme === 'dark' ? \"bg-gradient-to-b from-white to-white/60\" : \"bg-gradient-to-b from-neutral-900 to-neutral-600\"\n                )}>\n                  Decode the streets.\n                </h2>\n                <div className=\"h-6 flex items-center justify-center gap-1\">\n                  <span className={clsx(\"text-base transition-colors\", theme === 'dark' ? \"text-neutral-400\" : \"text-neutral-500\")}>Try searching:</span>\n                  <Typewriter\n                    words={[\"\\\"no cap\\\"\", \"\\\"run it back\\\"\", \"\\\"bet\\\"\", \"\\\"it's giving\\\"\", \"\\\"finna\\\"\", \"\\\"rizz\\\"\", \"\\\"simpin\\\"\", \"\\\"slay\\\"\"]}\n                    className={clsx(\"text-base font-mono font-medium\", theme === 'dark' ? \"text-violet-400\" : \"text-violet-600\")}\n                  />\n                </div>\n              </div>\n            </motion.div>\n          )}\n\n          {/* Messages */}\n          <AnimatePresence initial={false}>\n            {messages.map((msg) => (\n              <motion.div\n                key={msg.id}\n                initial={{ opacity: 0, y: 10, scale: 0.98 }}\n                animate={{ opacity: 1, y: 0, scale: 1 }}\n                transition={{ duration: 0.3, ease: \"easeOut\" }}\n                className={clsx(\n                  \"flex w-full group\",\n                  msg.role === \"user\" ? \"justify-end\" : \"justify-start\"\n                )}\n              >\n                <div className={clsx(\n                  \"max-w-[90%] sm:max-w-[85%] p-4 sm:p-5 relative overflow-hidden transition-all duration-300\",\n                  msg.role === \"user\"\n                    ? (theme === 'dark' ? \"rounded-2xl rounded-tr-sm bg-neutral-800 text-white border border-white/5 shadow-sm\" : \"rounded-2xl rounded-tr-sm bg-neutral-900 text-white shadow-md\")\n                    : (theme === 'dark' ? \"rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 w-full\" : \"rounded-2xl bg-white border border-neutral-100 shadow-sm w-full\")\n                )}>\n\n                  {/* User Image */}\n                  {msg.image && (\n                    <div className={clsx(\"mb-3 rounded-lg overflow-hidden border\", theme === 'dark' ? \"border-white/10\" : \"border-neutral-200\")}>\n                      <img src={msg.image} alt=\"User upload\" className=\"w-auto h-auto max-h-48 max-w-full object-contain bg-black/50\" />\n                    </div>\n                  )}\n\n                  {/* Extracted Text Indicator */}\n                  {msg.extractedText && (\n                    <div className={clsx(\"mb-3 pl-3 border-l-2\", theme === 'dark' ? \"border-violet-500/50\" : \"border-violet-500\")}>\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <ScanText className={clsx(\"w-3 h-3\", theme === 'dark' ? \"text-violet-400\" : \"text-violet-600\")} />\n                        <span className={clsx(\"text-[10px] uppercase tracking-widest font-semibold\", theme === 'dark' ? \"text-violet-300/70\" : \"text-violet-600/70\")}>Detected Text</span>\n                      </div>\n                      <p className={clsx(\"text-xs font-mono italic leading-relaxed line-clamp-4 hover:line-clamp-none transition-all\", theme === 'dark' ? \"text-neutral-400\" : \"text-neutral-500\")}>\n                        {msg.extractedText}\n                      </p>\n                    </div>\n                  )}\n\n                  {/* AI Icon */}\n                  {msg.role === \"ai\" && (\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      <div className={clsx(\n                        \"w-6 h-6 rounded-full flex items-center justify-center shadow-lg\",\n                        theme === 'dark' ? \"bg-gradient-to-tr from-purple-500 to-indigo-500 shadow-purple-500/20\" : \"bg-gradient-to-tr from-violet-600 to-fuchsia-600 shadow-violet-500/20\"\n                      )}>\n                        <Sparkles className=\"w-3.5 h-3.5 text-white\" />\n                      </div>\n                      <span className={clsx(\"text-xs font-bold tracking-wider uppercase\", theme === 'dark' ? \"text-neutral-400\" : \"text-neutral-500\")}>Analysis</span>\n                    </div>\n                  )}\n\n                  <div className={clsx(msg.role === \"ai\" ? \"pl-0\" : \"\")}>\n\n                    {/* Structured Result */}\n                    {msg.role === \"ai\" && msg.parsed ? (\n                      <div className=\"flex flex-col gap-6\">\n\n                        {/* Overall Sentence Meaning */}\n                        {msg.parsed.sentence_meaning && (\n                          <div className={clsx(\n                            \"rounded-xl p-5 border shadow-lg transition-colors\",\n                            theme === 'dark' ? \"bg-gradient-to-br from-white/10 to-white/5 border-white/10\" : \"bg-gradient-to-br from-violet-50/50 to-fuchsia-50/50 border-violet-100\"\n                          )}>\n                            <div className=\"flex items-center gap-2 mb-2\">\n                              <MessageSquareText className={clsx(\"w-4 h-4 opacity-80\", theme === 'dark' ? \"text-purple-300\" : \"text-violet-600\")} />\n                              <h3 className={clsx(\"text-xs font-bold uppercase tracking-widest\", theme === 'dark' ? \"text-neutral-400\" : \"text-violet-900/60\")}>Translation</h3>\n                            </div>\n                            <p className={clsx(\"text-lg font-medium leading-relaxed\", theme === 'dark' ? \"text-white\" : \"text-neutral-900\")}>\n                              {msg.parsed.sentence_meaning}\n                            </p>\n                          </div>\n                        )}\n\n                        {/* Term Breakdown */}\n                        {msg.parsed.terms && msg.parsed.terms.length > 0 && (\n                          <div className=\"flex flex-col gap-4\">\n                            <div className=\"px-1\">\n                              <h4 className=\"text-[10px] font-bold text-neutral-500 uppercase tracking-widest mb-2\">Breakdown</h4>\n                            </div>\n                            {msg.parsed.terms.map((item, idx) => (\n                              <div key={idx} className={clsx(\n                                \"border rounded-xl p-4 sm:p-5 transition-colors\",\n                                theme === 'dark' ? \"bg-white/5 border-white/10 hover:bg-white/10\" : \"bg-white border-neutral-200 hover:border-violet-200 hover:shadow-md\"\n                              )}>\n                                <div className=\"flex items-baseline gap-2 mb-2\">\n                                  <h3 className={clsx(\"text-lg font-bold tracking-tight capitalize\", theme === 'dark' ? \"text-white\" : \"text-neutral-900\")}>\n                                    {item.term}\n                                  </h3>\n                                  <span className=\"text-xs text-neutral-500 font-medium uppercase tracking-widest\">Slang</span>\n                                </div>\n\n                                <p className={clsx(\"text-[15px] leading-relaxed mb-4 font-light\", theme === 'dark' ? \"text-neutral-300\" : \"text-neutral-700\")}>\n                                  {item.meaning}\n                                </p>\n\n                                <div className={clsx(\n                                  \"rounded-lg p-3 border-l-2 flex gap-3\",\n                                  theme === 'dark' ? \"bg-black/30 border-purple-500/50\" : \"bg-neutral-50 border-violet-500\"\n                                )}>\n                                  <Quote className={clsx(\"w-4 h-4 flex-shrink-0 mt-0.5 opacity-70\", theme === 'dark' ? \"text-purple-400\" : \"text-violet-600\")} />\n                                  <p className={clsx(\"font-mono text-xs sm:text-sm italic leading-relaxed\", theme === 'dark' ? \"text-neutral-400\" : \"text-neutral-600\")}>\n                                    \"{item.example}\"\n                                  </p>\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    ) : (\n                      // Fallback / Raw Text\n                      <p className={clsx(\n                        \"text-[15px] sm:text-base leading-relaxed whitespace-pre-wrap\",\n                        msg.role === \"user\" ? \"font-normal text-white\" : (theme === 'dark' ? \"text-neutral-300\" : \"text-neutral-700\"),\n                        msg.isError && \"text-red-400\"\n                      )}>\n                        {msg.content}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </motion.div>\n            ))}\n          </AnimatePresence>\n\n          {/* Loading Indicator */}\n          {loading && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"flex justify-start w-full pl-1\"\n            >\n              <div className=\"flex items-center gap-3\">\n                <div className=\"flex items-center gap-1.5 h-8\">\n                  <div className=\"w-1.5 h-1.5 bg-neutral-600 rounded-full animate-pulse\" />\n                  <div className=\"w-1.5 h-1.5 bg-neutral-600 rounded-full animate-pulse delay-75\" />\n                  <div className=\"w-1.5 h-1.5 bg-neutral-600 rounded-full animate-pulse delay-150\" />\n                </div>\n                <span className=\"text-xs font-mono text-neutral-500 animate-pulse\">{loadingText}</span>\n              </div>\n            </motion.div>\n          )}\n\n          <div ref={messagesEndRef} className=\"h-0\" />\n        </div>\n      </div>\n\n      {/* Input Footer */}\n      <div className=\"fixed bottom-0 w-full z-40 px-4 pb-6 sm:pb-8 pt-4\">\n        <div className=\"max-w-2xl mx-auto\">\n          <div className=\"relative\">\n            <div className={clsx(\n              \"absolute inset-0 backdrop-blur-xl rounded-full -m-2 opacity-90 transition-colors\",\n              theme === 'dark' ? \"bg-[#050505]/50\" : \"bg-[#fafafa]/50\"\n            )} />\n            <div className={clsx(\n              \"relative flex items-center backdrop-blur-md rounded-full border p-2 pr-3 transition-all duration-300 shadow-2xl\",\n              theme === 'dark'\n                ? \"bg-[#18181b]/80 border-white/10 focus-within:border-violet-500/50 focus-within:ring-violet-500/10 shadow-violet-900/20\"\n                : \"bg-white/80 border-neutral-200 focus-within:border-violet-500/50 focus-within:ring-violet-500/10 shadow-black/5\"\n            )}>\n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                className=\"hidden\"\n                accept=\"image/*\"\n                onChange={(e) => {\n                  const file = e.target.files?.[0];\n                  if (file) handleImageSelect(file);\n                }}\n              />\n\n              {imagePreview && (\n                <div className=\"absolute bottom-full left-0 mb-3 ml-2\">\n                  <div className=\"relative group\">\n                    <img src={imagePreview} alt=\"Preview\" className={clsx(\"h-16 w-auto rounded-lg border shadow-xl object-cover\", theme === 'dark' ? \"border-white/10 bg-neutral-900\" : \"border-neutral-200 bg-white\")} />\n                    <button onClick={removeImage} className={clsx(\"absolute -top-1.5 -right-1.5 rounded-full p-0.5 border shadow-sm transition-colors\", theme === 'dark' ? \"bg-neutral-800 text-white border-white/20 hover:bg-neutral-700\" : \"bg-white text-neutral-600 border-neutral-200 hover:bg-neutral-50\")}>\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              <input\n                ref={inputRef}\n                type=\"text\"\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                onKeyDown={handleKeyDown}\n                placeholder={image ? \"Add a caption (optional)...\" : \"Type a slang phrase or paste an image...\"}\n                className={clsx(\n                  \"flex-1 bg-transparent border-none outline-none placeholder-neutral-500 h-[44px] px-4 text-[15px]\",\n                  theme === 'dark' ? \"text-white\" : \"text-neutral-900\"\n                )}\n                disabled={loading}\n                autoFocus\n                onPaste={(e) => {\n                  // Let the global listener handle it, or preventDefault if preferred\n                }}\n              />\n\n              <button\n                onClick={async () => {\n                  try {\n                    const text = await navigator.clipboard.readText();\n                    if (text) setInput(prev => prev + text);\n                  } catch (err) {\n                    console.error('Failed to read clipboard', err);\n                  }\n                }}\n                className={clsx(\n                  \"p-2 transition-colors rounded-full mr-1\",\n                  theme === 'dark' ? \"text-neutral-400 hover:text-white hover:bg-white/5\" : \"text-neutral-400 hover:text-neutral-900 hover:bg-black/5\"\n                )}\n                title=\"Paste from Clipboard\"\n              >\n                <Clipboard className=\"w-4 h-4\" />\n              </button>\n\n              <button\n                onClick={() => fileInputRef.current?.click()}\n                className={clsx(\n                  \"p-2 transition-colors rounded-full mr-1\",\n                  theme === 'dark' ? \"text-neutral-400 hover:text-white hover:bg-white/5\" : \"text-neutral-400 hover:text-neutral-900 hover:bg-black/5\"\n                )}\n                title=\"Upload Image\"\n              >\n                <Paperclip className=\"w-4 h-4\" />\n              </button>\n\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowLanguageMenu(!showLanguageMenu)}\n                  className={clsx(\n                    \"p-2 transition-colors rounded-full mr-1 flex items-center gap-1\",\n                    showLanguageMenu\n                      ? (theme === 'dark' ? \"text-white bg-white/10\" : \"text-black bg-black/5\")\n                      : (theme === 'dark' ? \"text-neutral-400 hover:text-white hover:bg-white/5\" : \"text-neutral-400 hover:text-black hover:bg-black/5\")\n                  )}\n                  title=\"Select Output Language\"\n                >\n                  <Globe className=\"w-4 h-4\" />\n                  {targetLanguage !== \"English\" && (\n                    <span className=\"text-[10px] font-bold bg-violet-600 text-white px-1 py-0.5 rounded-sm\">\n                      {LANGUAGES.find(l => l.value === targetLanguage)?.code}\n                    </span>\n                  )}\n                </button>\n\n                <AnimatePresence>\n                  {showLanguageMenu && (\n                    <>\n                      <div\n                        className=\"fixed inset-0 z-40\"\n                        onClick={() => setShowLanguageMenu(false)}\n                      />\n                      <motion.div\n                        initial={{ opacity: 0, scale: 0.95, y: 10 }}\n                        animate={{ opacity: 1, scale: 1, y: 0 }}\n                        exit={{ opacity: 0, scale: 0.95, y: 10 }}\n                        className={clsx(\n                          \"absolute bottom-full mb-3 left-0 w-48 border rounded-xl shadow-2xl overflow-hidden z-50 p-1\",\n                          theme === 'dark' ? \"bg-[#18181b] border-white/10\" : \"bg-white border-neutral-200\"\n                        )}\n                      >\n                        <div className={clsx(\"px-2 py-1.5 border-b mb-1\", theme === 'dark' ? \"border-white/5\" : \"border-neutral-100\")}>\n                          <span className=\"text-[10px] font-bold text-neutral-500 uppercase tracking-widest\">Translate to</span>\n                        </div>\n                        <div className=\"max-h-48 overflow-y-auto custom-scrollbar\">\n                          {LANGUAGES.map((lang) => (\n                            <button\n                              key={lang.code}\n                              onClick={() => {\n                                setTargetLanguage(lang.value);\n                                setShowLanguageMenu(false);\n                              }}\n                              className={clsx(\n                                \"w-full text-left px-3 py-2 text-sm rounded-lg flex items-center justify-between transition-colors\",\n                                targetLanguage === lang.value\n                                  ? \"bg-violet-500/10 text-violet-500 font-medium\"\n                                  : (theme === 'dark' ? \"text-neutral-300 hover:bg-white/5 hover:text-white\" : \"text-neutral-600 hover:bg-neutral-100 hover:text-neutral-900\")\n                              )}\n                            >\n                              {lang.name}\n                              {targetLanguage === lang.value && <Check className=\"w-3.5 h-3.5\" />}\n                            </button>\n                          ))}\n                        </div>\n                      </motion.div>\n                    </>\n                  )}\n                </AnimatePresence>\n              </div>\n\n              <button\n                onClick={handleAnalyze}\n                disabled={(!input && !image) || loading}\n                className={clsx(\n                  \"ml-1 w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200\",\n                  (input.trim() || image) && !loading\n                    ? (theme === 'dark' ? \"bg-white text-black hover:scale-110 active:scale-95 shadow-lg shadow-white/20\" : \"bg-neutral-900 text-white hover:scale-110 active:scale-95 shadow-lg shadow-black/20\")\n                    : (theme === 'dark' ? \"bg-neutral-800 text-neutral-600 cursor-not-allowed\" : \"bg-neutral-200 text-neutral-400 cursor-not-allowed\")\n                )}\n              >\n                {loading ? (\n                  <div className={clsx(\"w-3.5 h-3.5 border-2 border-t-transparent rounded-full animate-spin\", theme === 'dark' ? \"border-neutral-400\" : \"border-neutral-500\")} />\n                ) : (\n                  <ArrowUp className=\"w-4 h-4 stroke-[3]\" />\n                )}\n              </button>\n            </div>\n          </div>\n          <p className={clsx(\"text-center text-[10px] mt-3 font-medium tracking-wide\", theme === 'dark' ? \"text-neutral-700\" : \"text-neutral-400\")}>\n            Powered by Local LM Studio\n          </p>\n        </div>\n      </div>\n\n\n\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}
module.exports=[9254,(e,t,r)=>{"use strict";var i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,s={},c={RequestCookies:()=>y,ResponseCookies:()=>g,parseCookie:()=>d,parseSetCookie:()=>p,stringifyCookie:()=>u};for(var l in c)i(s,l,{get:c[l],enumerable:!0});function u(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),i=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?i:`${i}; ${r.join("; ")}`}function d(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[i,n]=[r.slice(0,e),r.slice(e+1)];try{t.set(i,decodeURIComponent(null!=n?n:"true"))}catch{}}return t}function p(e){if(!e)return;let[[t,r],...i]=d(e),{domain:n,expires:o,httponly:a,maxage:s,path:c,samesite:l,secure:u,partitioned:p,priority:y}=Object.fromEntries(i.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var g,m,v={name:t,value:decodeURIComponent(r),domain:n,...o&&{expires:new Date(o)},...a&&{httpOnly:!0},..."string"==typeof s&&{maxAge:Number(s)},path:c,...l&&{sameSite:h.includes(g=(g=l).toLowerCase())?g:void 0},...u&&{secure:!0},...y&&{priority:f.includes(m=(m=y).toLowerCase())?m:void 0},...p&&{partitioned:!0}};let e={};for(let t in v)v[t]&&(e[t]=v[t]);return e}}t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))a.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(s=n(t,c))||s.enumerable});return e})(i({},"__esModule",{value:!0}),s);var h=["strict","lax","none"],f=["low","medium","high"],y=class{constructor(e){this._parsed=new Map,this._headers=e;const t=e.get("cookie");if(t)for(const[e,r]of d(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===i).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,i=this._parsed;return i.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(i).map(([e,t])=>u(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>u(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},g=class{constructor(e){var t,r,i;this._parsed=new Map,this._headers=e;const n=null!=(i=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?i:[];for(const e of Array.isArray(n)?n:function(e){if(!e)return[];var t,r,i,n,o,a=[],s=0;function c(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,o=!1;c();)if(","===(r=e.charAt(s))){for(i=s,s+=1,c(),n=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(o=!0,s=n,a.push(e.substring(t,i)),t=s):s=i+1}else s+=1;(!o||s>=e.length)&&a.push(e.substring(t,e.length))}return a}(n)){const t=p(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===i)}has(e){return this._parsed.has(e)}set(...e){let[t,r,i]=1===e.length?[e[0].name,e[0].value,e[0]]:e,n=this._parsed;return n.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...i})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=u(r);t.append("set-cookie",e)}}(n,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(u).join("; ")}}},31387,(e,t,r)=>{(()=>{"use strict";let r,i,n,o,a;var s,c,l,u,d,p,h,f,y,g,m,v,b,w,_,S,E={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let i=r(223),n=r(172),o=r(930),a="context",s=new i.NoopContextManager;class c{static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalContextManager(e){return(0,n.registerGlobal)(a,e,o.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...i){return this._getContextManager().with(e,t,r,...i)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,n.getGlobal)(a)||s}disable(){this._getContextManager().disable(),(0,n.unregisterGlobal)(a,o.DiagAPI.instance())}}t.ContextAPI=c},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let i=r(56),n=r(912),o=r(957),a=r(172);class s{constructor(){function e(e){return function(...t){let r=(0,a.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:o.DiagLogLevel.INFO})=>{var i,s,c;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(i=e.stack)?i:e.message),!1}"number"==typeof r&&(r={logLevel:r});let l=(0,a.getGlobal)("diag"),u=(0,n.createLogLevelDiagLogger)(null!=(s=r.logLevel)?s:o.DiagLogLevel.INFO,e);if(l&&!r.suppressOverrideMessage){let e=null!=(c=Error().stack)?c:"<failed to generate stacktrace>";l.warn(`Current logger will be overwritten from ${e}`),u.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,a.registerGlobal)("diag",u,t,!0)},t.disable=()=>{(0,a.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new i.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new s),this._instance}}t.DiagAPI=s},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let i=r(660),n=r(172),o=r(930),a="metrics";class s{static getInstance(){return this._instance||(this._instance=new s),this._instance}setGlobalMeterProvider(e){return(0,n.registerGlobal)(a,e,o.DiagAPI.instance())}getMeterProvider(){return(0,n.getGlobal)(a)||i.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,n.unregisterGlobal)(a,o.DiagAPI.instance())}}t.MetricsAPI=s},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let i=r(172),n=r(874),o=r(194),a=r(277),s=r(369),c=r(930),l="propagation",u=new n.NoopTextMapPropagator;class d{constructor(){this.createBaggage=s.createBaggage,this.getBaggage=a.getBaggage,this.getActiveBaggage=a.getActiveBaggage,this.setBaggage=a.setBaggage,this.deleteBaggage=a.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,i.registerGlobal)(l,e,c.DiagAPI.instance())}inject(e,t,r=o.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=o.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,i.unregisterGlobal)(l,c.DiagAPI.instance())}_getGlobalPropagator(){return(0,i.getGlobal)(l)||u}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let i=r(172),n=r(846),o=r(139),a=r(607),s=r(930),c="trace";class l{constructor(){this._proxyTracerProvider=new n.ProxyTracerProvider,this.wrapSpanContext=o.wrapSpanContext,this.isSpanContextValid=o.isSpanContextValid,this.deleteSpan=a.deleteSpan,this.getSpan=a.getSpan,this.getActiveSpan=a.getActiveSpan,this.getSpanContext=a.getSpanContext,this.setSpan=a.setSpan,this.setSpanContext=a.setSpanContext}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalTracerProvider(e){let t=(0,i.registerGlobal)(c,this._proxyTracerProvider,s.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,i.getGlobal)(c)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,i.unregisterGlobal)(c,s.DiagAPI.instance()),this._proxyTracerProvider=new n.ProxyTracerProvider}}t.TraceAPI=l},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let i=r(491),n=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function o(e){return e.getValue(n)||void 0}t.getBaggage=o,t.getActiveBaggage=function(){return o(i.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(n,t)},t.deleteBaggage=function(e){return e.deleteValue(n)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let i=new r(this._entries);return i._entries.set(e,t),i}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let i=r(930),n=r(993),o=r(830),a=i.DiagAPI.instance();t.createBaggage=function(e={}){return new n.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(a.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:o.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let i=r(780);t.NoopContextManager=class{active(){return i.ROOT_CONTEXT}with(e,t,r,...i){return t.call(r,...i)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,i)=>{let n=new r(t._currentContext);return n._currentContext.set(e,i),n},t.deleteValue=e=>{let i=new r(t._currentContext);return i._currentContext.delete(e),i}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let i=r(172);function n(e,t,r){let n=(0,i.getGlobal)("diag");if(n)return r.unshift(t),n[e](...r)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return n("debug",this._namespace,e)}error(...e){return n("error",this._namespace,e)}info(...e){return n("info",this._namespace,e)}warn(...e){return n("warn",this._namespace,e)}verbose(...e){return n("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let i=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,i){let n=t[r];return"function"==typeof n&&e>=i?n.bind(t):function(){}}return e<i.DiagLogLevel.NONE?e=i.DiagLogLevel.NONE:e>i.DiagLogLevel.ALL&&(e=i.DiagLogLevel.ALL),t=t||{},{error:r("error",i.DiagLogLevel.ERROR),warn:r("warn",i.DiagLogLevel.WARN),info:r("info",i.DiagLogLevel.INFO),debug:r("debug",i.DiagLogLevel.DEBUG),verbose:r("verbose",i.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(r=t.DiagLogLevel||(t.DiagLogLevel={}))[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let i=r(200),n=r(521),o=r(130),a=n.VERSION.split(".")[0],s=Symbol.for(`opentelemetry.js.api.${a}`),c=i._globalThis;t.registerGlobal=function(e,t,r,i=!1){var o;let a=c[s]=null!=(o=c[s])?o:{version:n.VERSION};if(!i&&a[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(a.version!==n.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${a.version} for ${e} does not match previously registered API v${n.VERSION}`);return r.error(t.stack||t.message),!1}return a[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${n.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let i=null==(t=c[s])?void 0:t.version;if(i&&(0,o.isCompatible)(i))return null==(r=c[s])?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${n.VERSION}.`);let r=c[s];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let i=r(521),n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function o(e){let t=new Set([e]),r=new Set,i=e.match(n);if(!i)return()=>!1;let o={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(null!=o.prerelease)return function(t){return t===e};function a(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let i=e.match(n);if(!i)return a(e);let s={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(null!=s.prerelease||o.major!==s.major)return a(e);if(0===o.major)return o.minor===s.minor&&o.patch<=s.patch?(t.add(e),!0):a(e);return o.minor<=s.minor?(t.add(e),!0):a(e)}}t._makeCompatibilityCheck=o,t.isCompatible=o(i.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(r=t.ValueType||(t.ValueType={}))[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class i{}t.NoopMetric=i;class n extends i{add(e,t){}}t.NoopCounterMetric=n;class o extends i{add(e,t){}}t.NoopUpDownCounterMetric=o;class a extends i{record(e,t){}}t.NoopHistogramMetric=a;class s{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=s;class c extends s{}t.NoopObservableCounterMetric=c;class l extends s{}t.NoopObservableGaugeMetric=l;class u extends s{}t.NoopObservableUpDownCounterMetric=u,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new n,t.NOOP_HISTOGRAM_METRIC=new a,t.NOOP_UP_DOWN_COUNTER_METRIC=new o,t.NOOP_OBSERVABLE_COUNTER_METRIC=new c,t.NOOP_OBSERVABLE_GAUGE_METRIC=new l,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new u,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let i=r(102);class n{getMeter(e,t,r){return i.NOOP_METER}}t.NoopMeterProvider=n,t.NOOP_METER_PROVIDER=new n},200:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(46),t)},651:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let i=r(476);t.NonRecordingSpan=class{constructor(e=i.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let i=r(491),n=r(607),o=r(403),a=r(139),s=i.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,r=s.active()){var i;if(null==t?void 0:t.root)return new o.NonRecordingSpan;let c=r&&(0,n.getSpanContext)(r);return"object"==typeof(i=c)&&"string"==typeof i.spanId&&"string"==typeof i.traceId&&"number"==typeof i.traceFlags&&(0,a.isSpanContextValid)(c)?new o.NonRecordingSpan(c):new o.NonRecordingSpan}startActiveSpan(e,t,r,i){let o,a,c;if(arguments.length<2)return;2==arguments.length?c=t:3==arguments.length?(o=t,c=r):(o=t,a=r,c=i);let l=null!=a?a:s.active(),u=this.startSpan(e,o,l),d=(0,n.setSpan)(l,u);return s.with(d,c,void 0,u)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let i=r(614);t.NoopTracerProvider=class{getTracer(e,t,r){return new i.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let i=new(r(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,r,i){this._provider=e,this.name=t,this.version=r,this.options=i}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,i){let n=this._getTracer();return Reflect.apply(n.startActiveSpan,n,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):i}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let i=r(125),n=new(r(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,r){var n;return null!=(n=this.getDelegateTracer(e,t,r))?n:new i.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!=(e=this._delegate)?e:n}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var i;return null==(i=this._delegate)?void 0:i.getTracer(e,t,r)}}},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(r=t.SamplingDecision||(t.SamplingDecision={}))[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let i=r(780),n=r(403),o=r(491),a=(0,i.createContextKey)("OpenTelemetry Context Key SPAN");function s(e){return e.getValue(a)||void 0}function c(e,t){return e.setValue(a,t)}t.getSpan=s,t.getActiveSpan=function(){return s(o.ContextAPI.getInstance().active())},t.setSpan=c,t.deleteSpan=function(e){return e.deleteValue(a)},t.setSpanContext=function(e,t){return c(e,new n.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=s(e))?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let i=r(564);class n{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),n=r.indexOf("=");if(-1!==n){let o=r.slice(0,n),a=r.slice(n+1,t.length);(0,i.validateKey)(o)&&(0,i.validateValue)(a)&&e.set(o,a)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new n;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=n},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",i=`[a-z]${r}{0,255}`,n=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,o=RegExp(`^(?:${i}|${n})$`),a=/^[ -~]{0,255}[!-~]$/,s=/,|=/;t.validateKey=function(e){return o.test(e)},t.validateValue=function(e){return a.test(e)&&!s.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let i=r(325);t.createTraceState=function(e){return new i.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let i=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:i.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let i=r(476),n=r(403),o=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function s(e){return o.test(e)&&e!==i.INVALID_TRACEID}function c(e){return a.test(e)&&e!==i.INVALID_SPANID}t.isValidTraceId=s,t.isValidSpanId=c,t.isSpanContextValid=function(e){return s(e.traceId)&&c(e.spanId)},t.wrapSpanContext=function(e){return new n.NonRecordingSpan(e)}},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(r=t.SpanStatusCode||(t.SpanStatusCode={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},O={};function A(e){var t=O[e];if(void 0!==t)return t.exports;var r=O[e]={exports:{}},i=!0;try{E[e].call(r.exports,r,r.exports,A),i=!1}finally{i&&delete O[e]}return r.exports}A.ab="/ROOT/node_modules/next/dist/compiled/@opentelemetry/api/";var P={};Object.defineProperty(P,"__esModule",{value:!0}),P.trace=P.propagation=P.metrics=P.diag=P.context=P.INVALID_SPAN_CONTEXT=P.INVALID_TRACEID=P.INVALID_SPANID=P.isValidSpanId=P.isValidTraceId=P.isSpanContextValid=P.createTraceState=P.TraceFlags=P.SpanStatusCode=P.SpanKind=P.SamplingDecision=P.ProxyTracerProvider=P.ProxyTracer=P.defaultTextMapSetter=P.defaultTextMapGetter=P.ValueType=P.createNoopMeter=P.DiagLogLevel=P.DiagConsoleLogger=P.ROOT_CONTEXT=P.createContextKey=P.baggageEntryMetadataFromString=void 0,s=A(369),Object.defineProperty(P,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return s.baggageEntryMetadataFromString}}),c=A(780),Object.defineProperty(P,"createContextKey",{enumerable:!0,get:function(){return c.createContextKey}}),Object.defineProperty(P,"ROOT_CONTEXT",{enumerable:!0,get:function(){return c.ROOT_CONTEXT}}),l=A(972),Object.defineProperty(P,"DiagConsoleLogger",{enumerable:!0,get:function(){return l.DiagConsoleLogger}}),u=A(957),Object.defineProperty(P,"DiagLogLevel",{enumerable:!0,get:function(){return u.DiagLogLevel}}),d=A(102),Object.defineProperty(P,"createNoopMeter",{enumerable:!0,get:function(){return d.createNoopMeter}}),p=A(901),Object.defineProperty(P,"ValueType",{enumerable:!0,get:function(){return p.ValueType}}),h=A(194),Object.defineProperty(P,"defaultTextMapGetter",{enumerable:!0,get:function(){return h.defaultTextMapGetter}}),Object.defineProperty(P,"defaultTextMapSetter",{enumerable:!0,get:function(){return h.defaultTextMapSetter}}),f=A(125),Object.defineProperty(P,"ProxyTracer",{enumerable:!0,get:function(){return f.ProxyTracer}}),y=A(846),Object.defineProperty(P,"ProxyTracerProvider",{enumerable:!0,get:function(){return y.ProxyTracerProvider}}),g=A(996),Object.defineProperty(P,"SamplingDecision",{enumerable:!0,get:function(){return g.SamplingDecision}}),m=A(357),Object.defineProperty(P,"SpanKind",{enumerable:!0,get:function(){return m.SpanKind}}),v=A(847),Object.defineProperty(P,"SpanStatusCode",{enumerable:!0,get:function(){return v.SpanStatusCode}}),b=A(475),Object.defineProperty(P,"TraceFlags",{enumerable:!0,get:function(){return b.TraceFlags}}),w=A(98),Object.defineProperty(P,"createTraceState",{enumerable:!0,get:function(){return w.createTraceState}}),_=A(139),Object.defineProperty(P,"isSpanContextValid",{enumerable:!0,get:function(){return _.isSpanContextValid}}),Object.defineProperty(P,"isValidTraceId",{enumerable:!0,get:function(){return _.isValidTraceId}}),Object.defineProperty(P,"isValidSpanId",{enumerable:!0,get:function(){return _.isValidSpanId}}),S=A(476),Object.defineProperty(P,"INVALID_SPANID",{enumerable:!0,get:function(){return S.INVALID_SPANID}}),Object.defineProperty(P,"INVALID_TRACEID",{enumerable:!0,get:function(){return S.INVALID_TRACEID}}),Object.defineProperty(P,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return S.INVALID_SPAN_CONTEXT}}),r=A(67),Object.defineProperty(P,"context",{enumerable:!0,get:function(){return r.context}}),i=A(506),Object.defineProperty(P,"diag",{enumerable:!0,get:function(){return i.diag}}),n=A(886),Object.defineProperty(P,"metrics",{enumerable:!0,get:function(){return n.metrics}}),o=A(939),Object.defineProperty(P,"propagation",{enumerable:!0,get:function(){return o.propagation}}),a=A(845),Object.defineProperty(P,"trace",{enumerable:!0,get:function(){return a.trace}}),P.default={context:r.context,diag:i.diag,metrics:n.metrics,propagation:o.propagation,trace:a.trace},t.exports=P})()},62712,(e,t,r)=>{(()=>{"use strict";"u">typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var e,r,i,n,o={};o.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var n={},o=t.split(i),a=(r||{}).decode||e,s=0;s<o.length;s++){var c=o[s],l=c.indexOf("=");if(!(l<0)){var u=c.substr(0,l).trim(),d=c.substr(++l,c.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==n[u]&&(n[u]=function(e,t){try{return t(e)}catch(t){return e}}(d,a))}}return n},o.serialize=function(e,t,i){var o=i||{},a=o.encode||r;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var s=a(t);if(s&&!n.test(s))throw TypeError("argument val is invalid");var c=e+"="+s;if(null!=o.maxAge){var l=o.maxAge-0;if(isNaN(l)||!isFinite(l))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(o.domain){if(!n.test(o.domain))throw TypeError("option domain is invalid");c+="; Domain="+o.domain}if(o.path){if(!n.test(o.path))throw TypeError("option path is invalid");c+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw TypeError("option expires is invalid");c+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c},e=decodeURIComponent,r=encodeURIComponent,i=/; */,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t.exports=o})()},47413,(e,t,r)=>{(()=>{"use strict";let e,r,i,n,o;var a={993:e=>{var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,i,o,a){if("function"!=typeof i)throw TypeError("The listener must be a function");var s=new n(i,o||e,a),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,a=Array(o);n<o;n++)a[n]=i[n].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},s.prototype.emit=function(e,t,i,n,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,n),!0;case 5:return u.fn.call(u.context,t,i,n,o),!0;case 6:return u.fn.call(u.context,t,i,n,o,a),!0}for(l=1,c=Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var p,h=u.length;for(l=0;l<h;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,i);break;case 4:u[l].fn.call(u[l].context,t,i,n);break;default:if(!c)for(p=1,c=Array(d-1);p<d;p++)c[p-1]=arguments[p];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,i,n){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||n&&!s.once||i&&s.context!==i||a(this,o);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||n&&!s[c].once||i&&s[c].context!==i)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},213:e=>{e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},574:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let i=0,n=e.length;for(;n>0;){let o=n/2|0,a=i+o;0>=r(e[a],t)?(i=++a,n-=o+1):n=o}return i}},821:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});let i=r(574);t.default=class{constructor(){this._queue=[]}enqueue(e,t){let r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);let n=i.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(n,0,r)}dequeue(){let e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},816:(e,t,r)=>{let i=r(213);class n extends Error{constructor(e){super(e),this.name="TimeoutError"}}let o=(e,t,r)=>new Promise((o,a)=>{if("number"!=typeof t||t<0)throw TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void o(e);let s=setTimeout(()=>{if("function"==typeof r){try{o(r())}catch(e){a(e)}return}let i="string"==typeof r?r:`Promise timed out after ${t} milliseconds`,s=r instanceof Error?r:new n(i);"function"==typeof e.cancel&&e.cancel(),a(s)},t);i(e.then(o,a),()=>{clearTimeout(s)})});e.exports=o,e.exports.default=o,e.exports.TimeoutError=n}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},i=!0;try{a[e](r,r.exports,c),i=!1}finally{i&&delete s[e]}return r.exports}c.ab="/ROOT/node_modules/next/dist/compiled/p-queue/";var l={};Object.defineProperty(l,"__esModule",{value:!0}),e=c(993),r=c(816),i=c(821),n=()=>{},o=new r.TimeoutError,l.default=class extends e{constructor(e){var t,r,o,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=n,this._resolveIdle=n,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},e)).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(r=null==(t=e.intervalCap)?void 0:t.toString())?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(a=null==(o=e.interval)?void 0:o.toString())?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=n,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=n,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(void 0===this._intervalId){let t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((i,n)=>{let a=async()=>{this._pendingCount++,this._intervalCount++;try{let a=void 0===this._timeout&&void 0===t.timeout?e():r.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&n(o)});i(await a)}catch(e){n(e)}this._next()};this._queue.enqueue(a,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}},t.exports=l})()},51187,(e,t,r)=>{t.exports=e.x("next/dist/server/lib/incremental-cache/tags-manifest.external.js",()=>require("next/dist/server/lib/incremental-cache/tags-manifest.external.js"))},78500,(e,t,r)=>{t.exports=e.x("node:async_hooks",()=>require("node:async_hooks"))},22947,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={getTestReqInfo:function(){return c},withRequest:function(){return s}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=new(e.r(78500)).AsyncLocalStorage;function a(e,t){let r=t.header(e,"next-test-proxy-port");if(!r)return;let i=t.url(e);return{url:i,proxyPort:Number(r),testData:t.header(e,"next-test-data")||""}}function s(e,t,r){let i=a(e,t);return i?o.run(i,r):r()}function c(e,t){let r=o.getStore();return r||(e&&t?a(e,t):void 0)}},49883,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={handleFetch:function(){return c},interceptFetch:function(){return l},reader:function(){return a}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=e.r(22947),a={url:e=>e.url,header:(e,t)=>e.headers.get(t)};async function s(e,t){let{url:r,method:i,headers:n,body:o,cache:a,credentials:s,integrity:c,mode:l,redirect:u,referrer:d,referrerPolicy:p}=t;return{testData:e,api:"fetch",request:{url:r,method:i,headers:[...Array.from(n),["next-test-stack",function(){let e=(Error().stack??"").split("\n");for(let t=1;t<e.length;t++)if(e[t].length>0){e=e.slice(t);break}return(e=(e=(e=e.filter(e=>!e.includes("/next/dist/"))).slice(0,5)).map(e=>e.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:o?Buffer.from(await t.arrayBuffer()).toString("base64"):null,cache:a,credentials:s,integrity:c,mode:l,redirect:u,referrer:d,referrerPolicy:p}}}async function c(e,t){let r=(0,o.getTestReqInfo)(t,a);if(!r)return e(t);let{testData:i,proxyPort:n}=r,c=await s(i,t),l=await e(`http://localhost:${n}`,{method:"POST",body:JSON.stringify(c),next:{internal:!0}});if(!l.ok)throw Object.defineProperty(Error(`Proxy request failed: ${l.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let u=await l.json(),{api:d}=u;switch(d){case"continue":return e(t);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${t.method} ${t.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":return function(e){let{status:t,headers:r,body:i}=e.response;return new Response(i?Buffer.from(i,"base64"):null,{status:t,headers:new Headers(r)})}(u);default:return d}}function l(t){return e.g.fetch=function(e,r){var i;return(null==r||null==(i=r.next)?void 0:i.internal)?t(e,r):c(t,new Request(e,r))},()=>{e.g.fetch=t}}},72103,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={interceptTestApis:function(){return s},wrapRequestHandler:function(){return c}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=e.r(22947),a=e.r(49883);function s(){return(0,a.interceptFetch)(e.g.fetch)}function c(e){return(t,r)=>(0,o.withRequest)(t,a.reader,()=>e(t,r))}},35231,(e,t,r)=>{"use strict";r.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var r={},i=e.length;if(i<2)return r;var o=t&&t.decode||d,a=0,s=0,c=0;do{if(-1===(s=e.indexOf("=",a)))break;if(-1===(c=e.indexOf(";",a)))c=i;else if(s>c){a=e.lastIndexOf(";",s-1)+1;continue}var p=l(e,a,s),h=u(e,s,p),f=e.slice(p,h);if(!n.call(r,f)){var y=l(e,s+1,c),g=u(e,c,y);34===e.charCodeAt(y)&&34===e.charCodeAt(g-1)&&(y++,g--);var m=e.slice(y,g);r[f]=function(e,t){try{return t(e)}catch(t){return e}}(m,o)}a=c+1}while(a<i)return r},r.serialize=function(e,t,r){var n=r&&r.encode||encodeURIComponent;if("function"!=typeof n)throw TypeError("option encode is invalid");if(!o.test(e))throw TypeError("argument name is invalid");var l=n(t);if(!a.test(l))throw TypeError("argument val is invalid");var u=e+"="+l;if(!r)return u;if(null!=r.maxAge){var d=Math.floor(r.maxAge);if(!isFinite(d))throw TypeError("option maxAge is invalid");u+="; Max-Age="+d}if(r.domain){if(!s.test(r.domain))throw TypeError("option domain is invalid");u+="; Domain="+r.domain}if(r.path){if(!c.test(r.path))throw TypeError("option path is invalid");u+="; Path="+r.path}if(r.expires){var p,h=r.expires;if(p=h,"[object Date]"!==i.call(p)||isNaN(h.valueOf()))throw TypeError("option expires is invalid");u+="; Expires="+h.toUTCString()}if(r.httpOnly&&(u+="; HttpOnly"),r.secure&&(u+="; Secure"),r.partitioned&&(u+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():r.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var i=Object.prototype.toString,n=Object.prototype.hasOwnProperty,o=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,a=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,c=/^[\u0020-\u003A\u003D-\u007E]*$/;function l(e,t,r){do{var i=e.charCodeAt(t);if(32!==i&&9!==i)return t}while(++t<r)return r}function u(e,t,r){for(;t>r;){var i=e.charCodeAt(--t);if(32!==i&&9!==i)return t+1}return r}function d(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},77312,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={RequestCookies:function(){return o.RequestCookies},ResponseCookies:function(){return o.ResponseCookies},stringifyCookie:function(){return o.stringifyCookie}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=e.r(9254)},8126,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReflectAdapter",{enumerable:!0,get:function(){return i}});class i{static get(e,t,r){let i=Reflect.get(e,t,r);return"function"==typeof i?i.bind(e):i}static set(e,t,r,i){return Reflect.set(e,t,r,i)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},53066,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={ActionDidNotRevalidate:function(){return o},ActionDidRevalidateDynamicOnly:function(){return s},ActionDidRevalidateStaticAndDynamic:function(){return a}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=0,a=1,s=2},82126,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={MutableRequestCookiesAdapter:function(){return f},ReadonlyRequestCookiesError:function(){return l},RequestCookiesAdapter:function(){return u},appendMutableCookies:function(){return h},areCookiesMutableInCurrentPhase:function(){return g},createCookiesWithMutableAccessCheck:function(){return y},getModifiedCookieValues:function(){return p},responseCookiesToRequestCookies:function(){return v}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=e.r(77312),a=e.r(8126),s=e.r(56704),c=e.r(53066);class l extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new l}}class u{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return l.callable;default:return a.ReflectAdapter.get(e,t,r)}}})}}let d=Symbol.for("next.mutated.cookies");function p(e){let t=e[d];return t&&Array.isArray(t)&&0!==t.length?t:[]}function h(e,t){let r=p(t);if(0===r.length)return!1;let i=new o.ResponseCookies(e),n=i.getAll();for(let e of r)i.set(e);for(let e of n)i.set(e);return!0}class f{static wrap(e,t){let r=new o.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let i=[],n=new Set,l=()=>{let e=s.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=c.ActionDidRevalidateStaticAndDynamic),i=r.getAll().filter(e=>n.has(e.name)),t){let e=[];for(let t of i){let r=new o.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},u=new Proxy(r,{get(e,t,r){switch(t){case d:return i;case"delete":return function(...t){n.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),u}finally{l()}};case"set":return function(...t){n.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),u}finally{l()}};default:return a.ReflectAdapter.get(e,t,r)}}});return u}}function y(e){let t=new Proxy(e.mutableCookies,{get(r,i,n){switch(i){case"delete":return function(...i){return m(e,"cookies().delete"),r.delete(...i),t};case"set":return function(...i){return m(e,"cookies().set"),r.set(...i),t};default:return a.ReflectAdapter.get(r,i,n)}}});return t}function g(e){return"action"===e.phase}function m(e,t){if(!g(e))throw new l}function v(e){let t=new o.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},73834,(e,t,r)=>{"use strict";t.exports=e.r(18622)},49518,(e,t,r)=>{"use strict";t.exports=e.r(73834).vendored["react-rsc"].React},77753,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={DynamicServerError:function(){return a},isDynamicServerError:function(){return s}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o="DYNAMIC_SERVER_USAGE";class a extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest=o}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===o}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},80773,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={StaticGenBailoutError:function(){return a},isStaticGenBailoutError:function(){return s}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o="NEXT_STATIC_GEN_BAILOUT";class a extends Error{constructor(...e){super(...e),this.code=o}}function s(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===o}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},37138,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={isHangingPromiseRejectionError:function(){return o},makeDevtoolsIOAwarePromise:function(){return d},makeHangingPromise:function(){return l}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===a}let a="HANGING_PROMISE_REJECTION";class s extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=a}}let c=new WeakMap;function l(e,t,r){if(e.aborted)return Promise.reject(new s(t,r));{let i=new Promise((i,n)=>{let o=n.bind(null,new s(t,r)),a=c.get(e);if(a)a.push(o);else{let t=[o];c.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return i.catch(u),i}}function u(){}function d(e,t,r){return t.stagedRendering?t.stagedRendering.delayUntilStage(r,void 0,e):new Promise(t=>{setTimeout(()=>{t(e)},0)})}},13332,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={METADATA_BOUNDARY_NAME:function(){return o},OUTLET_BOUNDARY_NAME:function(){return s},ROOT_LAYOUT_BOUNDARY_NAME:function(){return c},VIEWPORT_BOUNDARY_NAME:function(){return a}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o="__next_metadata_boundary__",a="__next_viewport_boundary__",s="__next_outlet_boundary__",c="__next_root_layout_boundary__"},18697,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={atLeastOneTask:function(){return s},scheduleImmediate:function(){return a},scheduleOnNextTick:function(){return o},waitAtLeastOneReactRenderTask:function(){return c}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},a=e=>{setImmediate(e)};function s(){return new Promise(e=>a(e))}function c(){return new Promise(e=>setImmediate(e))}},39491,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={BailoutToCSRError:function(){return a},isBailoutToCSRError:function(){return s}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o="BAILOUT_TO_CLIENT_SIDE_RENDERING";class a extends Error{constructor(e){super(`Bail out to client-side rendering: ${e}`),this.reason=e,this.digest=o}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===o}},35121,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"InvariantError",{enumerable:!0,get:function(){return i}});class i extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}},21401,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,n,o={Postpone:function(){return k},PreludeState:function(){return Q},abortAndThrowOnSynchronousRequestDataAccess:function(){return P},abortOnSynchronousPlatformIOAccess:function(){return A},accessedDynamicData:function(){return M},annotateDynamicAccess:function(){return L},consumeDynamicAccess:function(){return N},createDynamicTrackingState:function(){return v},createDynamicValidationState:function(){return b},createHangingInputAbortSignal:function(){return U},createRenderInBrowserAbortSignal:function(){return K},delayUntilRuntimeStage:function(){return er},formatDynamicAPIAccesses:function(){return D},getFirstDynamicReason:function(){return w},getStaticShellDisallowedDynamicReasons:function(){return et},isDynamicPostpone:function(){return C},isPrerenderInterruptedError:function(){return B},logDisallowedDynamicError:function(){return Z},markCurrentScopeAsDynamic:function(){return _},postponeWithTracking:function(){return x},throwIfDisallowedDynamic:function(){return ee},throwToInterruptStaticGeneration:function(){return S},trackAllowedDynamicAccess:function(){return G},trackDynamicDataInDynamicRender:function(){return E},trackDynamicHoleInRuntimeShell:function(){return q},trackDynamicHoleInStaticShell:function(){return X},useDynamicRouteParams:function(){return z},useDynamicSearchParams:function(){return H}};for(var a in o)Object.defineProperty(r,a,{enumerable:!0,get:o[a]});let s=(i=e.r(49518))&&i.__esModule?i:{default:i},c=e.r(77753),l=e.r(80773),u=e.r(32319),d=e.r(56704),p=e.r(37138),h=e.r(13332),f=e.r(18697),y=e.r(39491),g=e.r(35121),m="function"==typeof s.default.unstable_postpone;function v(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function b(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,dynamicMetadata:null,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function w(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function _(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new l.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":return x(e.route,r,t.dynamicTracking);case"prerender-legacy":t.revalidate=0;let i=Object.defineProperty(new c.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=i.stack,i}}}function S(e,t,r){let i=Object.defineProperty(new c.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=i.stack,i}function E(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function O(e,t,r){let i=T(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(i);let n=r.dynamicTracking;n&&n.dynamicAccesses.push({stack:n.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function A(e,t,r,i){let n=i.dynamicTracking;O(e,t,i),n&&null===n.syncDynamicErrorWithStack&&(n.syncDynamicErrorWithStack=r)}function P(e,t,r,i){if(!1===i.controller.signal.aborted){O(e,t,i);let n=i.dynamicTracking;n&&null===n.syncDynamicErrorWithStack&&(n.syncDynamicErrorWithStack=r)}throw T(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function k({reason:e,route:t}){let r=u.workUnitAsyncStorage.getStore();x(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function x(e,t,r){(function(){if(!m)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),s.default.unstable_postpone(R(e,t))}function R(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function C(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&j(e.message)}function j(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===j(R("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let I="NEXT_PRERENDER_INTERRUPTED";function T(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=I,t}function B(e){return"object"==typeof e&&null!==e&&e.digest===I&&"name"in e&&"message"in e&&e instanceof Error}function M(e){return e.length>0}function N(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function D(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function K(){let e=new AbortController;return e.abort(Object.defineProperty(new y.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),e.signal}function U(e){switch(e.type){case"prerender":case"prerender-runtime":let t=new AbortController;if(e.cacheSignal)e.cacheSignal.inputReady().then(()=>{t.abort()});else{let r=(0,u.getRuntimeStagePromise)(e);r?r.then(()=>(0,f.scheduleOnNextTick)(()=>t.abort())):(0,f.scheduleOnNextTick)(()=>t.abort())}return t.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function L(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function z(e){let t=d.workAsyncStorage.getStore(),r=u.workUnitAsyncStorage.getStore();if(t&&r)switch(r.type){case"prerender-client":case"prerender":{let i=r.fallbackRouteParams;i&&i.size>0&&s.default.use((0,p.makeHangingPromise)(r.renderSignal,t.route,e));break}case"prerender-ppr":{let i=r.fallbackRouteParams;if(i&&i.size>0)return x(t.route,e,r.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called during a runtime prerender. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function H(e){let t=d.workAsyncStorage.getStore(),r=u.workUnitAsyncStorage.getStore();if(t)switch(!r&&(0,u.throwForMissingRequestStore)(e),r.type){case"prerender-client":s.default.use((0,p.makeHangingPromise)(r.renderSignal,t.route,e));break;case"prerender-legacy":case"prerender-ppr":if(t.forceStatic)return;throw Object.defineProperty(new y.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called from a Server Component. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let W=/\n\s+at Suspense \(<anonymous>\)/,$=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${h.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),J=RegExp(`\\n\\s+at ${h.METADATA_BOUNDARY_NAME}[\\n\\s]`),V=RegExp(`\\n\\s+at ${h.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),F=RegExp(`\\n\\s+at ${h.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function G(e,t,r,i){if(!F.test(t)){if(J.test(t)){r.hasDynamicMetadata=!0;return}if(V.test(t)){r.hasDynamicViewport=!0;return}if($.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(W.test(t)){r.hasAllowedDynamic=!0;return}else{if(i.syncDynamicErrorWithStack)return void r.dynamicErrors.push(i.syncDynamicErrorWithStack);let n=Y(`Route "${e.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(n)}}}function q(e,t,r,i){if(!F.test(t)){if(J.test(t)){r.dynamicMetadata=Y(`Route "${e.route}": Uncached data or \`connection()\` was accessed inside \`generateMetadata\`. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,t);return}if(V.test(t)){let i=Y(`Route "${e.route}": Uncached data or \`connection()\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,t);r.dynamicErrors.push(i);return}if($.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(W.test(t)){r.hasAllowedDynamic=!0;return}else{if(i.syncDynamicErrorWithStack)return void r.dynamicErrors.push(i.syncDynamicErrorWithStack);let n=Y(`Route "${e.route}": Uncached data or \`connection()\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(n)}}}function X(e,t,r,i){if(!F.test(t)){if(J.test(t)){r.dynamicMetadata=Y(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateMetadata\` or you have file-based metadata such as icons that depend on dynamic params segments. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,t);return}if(V.test(t)){let i=Y(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,t);r.dynamicErrors.push(i);return}if($.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(W.test(t)){r.hasAllowedDynamic=!0;return}else{if(i.syncDynamicErrorWithStack)return void r.dynamicErrors.push(i.syncDynamicErrorWithStack);let n=Y(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(n)}}}function Y(e,t){let r=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r.stack=r.name+": "+e+t,r}var Q=((n={})[n.Full=0]="Full",n[n.Empty=1]="Empty",n[n.Errored=2]="Errored",n);function Z(e,t){console.error(t),e.dev||(e.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function ee(e,t,r,i){if(i.syncDynamicErrorWithStack)throw Z(e,i.syncDynamicErrorWithStack),new l.StaticGenBailoutError;if(0!==t){if(r.hasSuspenseAboveBody)return;let i=r.dynamicErrors;if(i.length>0){for(let t=0;t<i.length;t++)Z(e,i[t]);throw new l.StaticGenBailoutError}if(r.hasDynamicViewport)throw console.error(`Route "${e.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new l.StaticGenBailoutError;if(1===t)throw console.error(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new l.StaticGenBailoutError}else if(!1===r.hasAllowedDynamic&&r.hasDynamicMetadata)throw console.error(`Route "${e.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new l.StaticGenBailoutError}function et(e,t,r){if(r.hasSuspenseAboveBody)return[];if(0!==t){let i=r.dynamicErrors;if(i.length>0)return i;if(1===t)return[Object.defineProperty(new g.InvariantError(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason.`),"__NEXT_ERROR_CODE",{value:"E936",enumerable:!1,configurable:!0})]}else if(!1===r.hasAllowedDynamic&&0===r.dynamicErrors.length&&r.dynamicMetadata)return[r.dynamicMetadata];return[]}function er(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}},37348,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return c}});let i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(void 0);if(r&&r.has(e))return r.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(e.r(49518));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}let o={current:null},a="function"==typeof i.cache?i.cache:e=>e,s=console.warn;function c(e){return function(...t){s(e(...t))}}a(e=>{try{s(o.current)}finally{o.current=null}})},19048,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={isRequestAPICallableInsideAfter:function(){return l},throwForSearchParamsAccessInUseCache:function(){return c},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return s}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=e.r(80773),a=e.r(24725);function s(e,t){throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function c(e,t){let r=Object.defineProperty(Error(`Route ${e.route} used \`searchParams\` inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \`searchParams\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E842",enumerable:!1,configurable:!0});throw Error.captureStackTrace(r,t),e.invalidDynamicUsageError??=r,r}function l(){let e=a.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}},45470,(e,t,r)=>{"use strict";function i(){let e,t,r=new Promise((r,i)=>{e=r,t=i});return{resolve:e,reject:t,promise:r}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createPromiseWithResolvers",{enumerable:!0,get:function(){return i}})},98771,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,n={RenderStage:function(){return c},StagedRenderingController:function(){return l}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let a=e.r(35121),s=e.r(45470);var c=((i={})[i.Before=1]="Before",i[i.Static=2]="Static",i[i.Runtime=3]="Runtime",i[i.Dynamic=4]="Dynamic",i[i.Abandoned=5]="Abandoned",i);class l{constructor(e=null,t){this.abortSignal=e,this.hasRuntimePrefetch=t,this.currentStage=1,this.staticInterruptReason=null,this.runtimeInterruptReason=null,this.staticStageEndTime=1/0,this.runtimeStageEndTime=1/0,this.runtimeStageListeners=[],this.dynamicStageListeners=[],this.runtimeStagePromise=(0,s.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,s.createPromiseWithResolvers)(),this.mayAbandon=!1,e&&(e.addEventListener("abort",()=>{let{reason:t}=e;this.currentStage<3&&(this.runtimeStagePromise.promise.catch(u),this.runtimeStagePromise.reject(t)),(this.currentStage<4||5===this.currentStage)&&(this.dynamicStagePromise.promise.catch(u),this.dynamicStagePromise.reject(t))},{once:!0}),this.mayAbandon=!0)}onStage(e,t){if(this.currentStage>=e)t();else if(3===e)this.runtimeStageListeners.push(t);else if(4===e)this.dynamicStageListeners.push(t);else throw Object.defineProperty(new a.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}canSyncInterrupt(){if(1===this.currentStage)return!1;let e=this.hasRuntimePrefetch?4:3;return this.currentStage<e}syncInterruptCurrentStageWithReason(e){if(1!==this.currentStage){if(this.mayAbandon)return this.abandonRenderImpl();switch(this.currentStage){case 2:this.staticInterruptReason=e,this.advanceStage(4);return;case 3:this.hasRuntimePrefetch&&(this.runtimeInterruptReason=e,this.advanceStage(4));return}}}getStaticInterruptReason(){return this.staticInterruptReason}getRuntimeInterruptReason(){return this.runtimeInterruptReason}getStaticStageEndTime(){return this.staticStageEndTime}getRuntimeStageEndTime(){return this.runtimeStageEndTime}abandonRender(){if(!this.mayAbandon)throw Object.defineProperty(new a.InvariantError("`abandonRender` called on a stage controller that cannot be abandoned."),"__NEXT_ERROR_CODE",{value:"E938",enumerable:!1,configurable:!0});this.abandonRenderImpl()}abandonRenderImpl(){let{currentStage:e}=this;switch(e){case 2:this.currentStage=5,this.resolveRuntimeStage();return;case 3:this.currentStage=5;return}}advanceStage(e){if(e<=this.currentStage)return;let t=this.currentStage;if(this.currentStage=e,t<3&&e>=3&&(this.staticStageEndTime=performance.now()+performance.timeOrigin,this.resolveRuntimeStage()),t<4&&e>=4){this.runtimeStageEndTime=performance.now()+performance.timeOrigin,this.resolveDynamicStage();return}}resolveRuntimeStage(){let e=this.runtimeStageListeners;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.runtimeStagePromise.resolve()}resolveDynamicStage(){let e=this.dynamicStageListeners;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.dynamicStagePromise.resolve()}getStagePromise(e){switch(e){case 3:return this.runtimeStagePromise.promise;case 4:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new a.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(e){return this.getStagePromise(e)}delayUntilStage(e,t,r){var i,n,o;let a,s=(i=this.getStagePromise(e),n=t,o=r,a=new Promise((e,t)=>{i.then(e.bind(null,o),t)}),void 0!==n&&(a.displayName=n),a);return this.abortSignal&&s.catch(u),s}}function u(){}},75332,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cookies",{enumerable:!0,get:function(){return h}});let i=e.r(82126),n=e.r(77312),o=e.r(56704),a=e.r(32319),s=e.r(21401),c=e.r(80773),l=e.r(37138),u=e.r(37348),d=e.r(19048),p=e.r(35121);function h(){let e="cookies",t=o.workAsyncStorage.getStore(),r=a.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,d.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`cookies()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E843",enumerable:!1,configurable:!0});if(t.forceStatic)return y(i.RequestCookiesAdapter.seal(new n.RequestCookies(new Headers({}))));if(t.dynamicShouldError)throw Object.defineProperty(new c.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E849",enumerable:!1,configurable:!0});if(r)switch(r.type){case"cache":let o=Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E831",enumerable:!1,configurable:!0});throw Error.captureStackTrace(o,h),t.invalidDynamicUsageError??=o,o;case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E846",enumerable:!1,configurable:!0});case"prerender":var u=t,g=r;let a=f.get(g);if(a)return a;let m=(0,l.makeHangingPromise)(g.renderSignal,u.route,"`cookies()`");return f.set(g,m),m;case"prerender-client":let v="`cookies`";throw Object.defineProperty(new p.InvariantError(`${v} must not be used within a Client Component. Next.js should be preventing ${v} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,s.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,s.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,s.delayUntilRuntimeStage)(r,y(r.cookies));case"private-cache":return y(r.cookies);case"request":return(0,s.trackDynamicDataInDynamicRender)(r),y((0,i.areCookiesMutableInCurrentPhase)(r)?r.userspaceMutableCookies:r.cookies)}}(0,a.throwForMissingRequestStore)(e)}e.r(98771);let f=new WeakMap;function y(e){let t=f.get(e);if(t)return t;let r=Promise.resolve(e);return f.set(e,r),r}(0,u.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E830",enumerable:!1,configurable:!0})})},2620,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={HeadersAdapter:function(){return s},ReadonlyHeadersError:function(){return a}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=e.r(8126);class a extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new a}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return o.ReflectAdapter.get(t,r,i);let n=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===n);if(void 0!==a)return o.ReflectAdapter.get(t,a,i)},set(t,r,i,n){if("symbol"==typeof r)return o.ReflectAdapter.set(t,r,i,n);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);return o.ReflectAdapter.set(t,s??r,i,n)},has(t,r){if("symbol"==typeof r)return o.ReflectAdapter.has(t,r);let i=r.toLowerCase(),n=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==n&&o.ReflectAdapter.has(t,n)},deleteProperty(t,r){if("symbol"==typeof r)return o.ReflectAdapter.deleteProperty(t,r);let i=r.toLowerCase(),n=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===n||o.ReflectAdapter.deleteProperty(t,n)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return a.callable;default:return o.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,i]of this.entries())e.call(t,i,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},87104,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"headers",{enumerable:!0,get:function(){return p}});let i=e.r(2620),n=e.r(56704),o=e.r(32319),a=e.r(21401),s=e.r(80773),c=e.r(37138),l=e.r(37348),u=e.r(19048),d=e.r(35121);function p(){let e="headers",t=n.workAsyncStorage.getStore(),r=o.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,u.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`headers()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E839",enumerable:!1,configurable:!0});if(t.forceStatic)return f(i.HeadersAdapter.seal(new Headers({})));if(r)switch(r.type){case"cache":{let e=Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E833",enumerable:!1,configurable:!0});throw Error.captureStackTrace(e,p),t.invalidDynamicUsageError??=e,e}case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E838",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E828",enumerable:!1,configurable:!0});if(r)switch(r.type){case"prerender":var l=t,y=r;let n=h.get(y);if(n)return n;let o=(0,c.makeHangingPromise)(y.renderSignal,l.route,"`headers()`");return h.set(y,o),o;case"prerender-client":let g="`headers`";throw Object.defineProperty(new d.InvariantError(`${g} must not be used within a client component. Next.js should be preventing ${g} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,a.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,a.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,a.delayUntilRuntimeStage)(r,f(r.headers));case"private-cache":return f(r.headers);case"request":return(0,a.trackDynamicDataInDynamicRender)(r),f(r.headers)}}(0,o.throwForMissingRequestStore)(e)}e.r(98771);let h=new WeakMap;function f(e){let t=h.get(e);if(t)return t;let r=Promise.resolve(e);return h.set(e,r),r}(0,l.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E836",enumerable:!1,configurable:!0})})},70392,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"draftMode",{enumerable:!0,get:function(){return u}});let i=e.r(32319),n=e.r(56704),o=e.r(21401),a=e.r(37348),s=e.r(80773),c=e.r(77753),l=e.r(35121);function u(){let e=n.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();switch((!e||!t)&&(0,i.throwForMissingRequestStore)("draftMode"),t.type){case"prerender-runtime":return(0,o.delayUntilRuntimeStage)(t,d(t.draftMode,e));case"request":return d(t.draftMode,e);case"cache":case"private-cache":case"unstable-cache":let r=(0,i.getDraftModeProviderForCacheScope)(e,t);if(r)return d(r,e);case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return d(null,e);default:return t}}function d(e,t){let r=h.get(e??p);return r||Promise.resolve(new f(e))}e.r(8126);let p={},h=new WeakMap;class f{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){y("draftMode().enable()",this.enable),null!==this._provider&&this._provider.enable()}disable(){y("draftMode().disable()",this.disable),null!==this._provider&&this._provider.disable()}}function y(e,t){let r=n.workAsyncStorage.getStore(),a=i.workUnitAsyncStorage.getStore();if(r){if((null==a?void 0:a.phase)==="after")throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside \`after()\`. The enabled status of \`draftMode()\` can be read inside \`after()\` but you cannot enable or disable \`draftMode()\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E845",enumerable:!1,configurable:!0});if(r.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${r.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(a)switch(a.type){case"cache":case"private-cache":{let i=Object.defineProperty(Error(`Route ${r.route} used "${e}" inside "use cache". The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E829",enumerable:!1,configurable:!0});throw Error.captureStackTrace(i,t),r.invalidDynamicUsageError??=i,i}case"unstable-cache":throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside a function cached with \`unstable_cache()\`. The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E844",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":{let t=Object.defineProperty(Error(`Route ${r.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});return(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r.route,e,t,a)}case"prerender-client":let i="`draftMode`";throw Object.defineProperty(new l.InvariantError(`${i} must not be used within a Client Component. Next.js should be preventing ${i} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,o.postponeWithTracking)(r.route,e,a.dynamicTracking);case"prerender-legacy":a.revalidate=0;let n=Object.defineProperty(new c.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.dynamicUsageDescription=e,r.dynamicUsageStack=n.stack,n;case"request":(0,o.trackDynamicDataInDynamicRender)(a)}}}(0,a.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E835",enumerable:!1,configurable:!0})})},27180,(e,t,r)=>{t.exports.cookies=e.r(75332).cookies,t.exports.headers=e.r(87104).headers,t.exports.draftMode=e.r(70392).draftMode},37542,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReadonlyURLSearchParams",{enumerable:!0,get:function(){return n}});class i extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class n extends URLSearchParams{append(){throw new i}delete(){throw new i}set(){throw new i}sort(){throw new i}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},7698,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return n}});var i,n=((i={})[i.SeeOther=303]="SeeOther",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},71306,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,n={REDIRECT_ERROR_CODE:function(){return s},RedirectType:function(){return c},isRedirectError:function(){return l}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let a=e.r(7698),s="NEXT_REDIRECT";var c=((i={}).push="push",i.replace="replace",i);function l(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,i]=t,n=t.slice(2,-2).join(";"),o=Number(t.at(-2));return r===s&&("replace"===i||"push"===i)&&"string"==typeof n&&!isNaN(o)&&o in a.RedirectStatusCode}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},29389,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={getRedirectError:function(){return c},getRedirectStatusCodeFromError:function(){return h},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return d},permanentRedirect:function(){return u},redirect:function(){return l}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=e.r(7698),a=e.r(71306),s=e.r(20635).actionAsyncStorage;function c(e,t,r=o.RedirectStatusCode.TemporaryRedirect){let i=Object.defineProperty(Error(a.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i.digest=`${a.REDIRECT_ERROR_CODE};${t};${e};${r};`,i}function l(e,t){throw c(e,t??=s?.getStore()?.isAction?a.RedirectType.push:a.RedirectType.replace,o.RedirectStatusCode.TemporaryRedirect)}function u(e,t=a.RedirectType.replace){throw c(e,t,o.RedirectStatusCode.PermanentRedirect)}function d(e){return(0,a.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function p(e){if(!(0,a.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function h(e){if(!(0,a.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},19321,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={HTTPAccessErrorStatus:function(){return o},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return s},getAccessFallbackErrorTypeByStatus:function(){return u},getAccessFallbackHTTPStatus:function(){return l},isHTTPAccessFallbackError:function(){return c}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},a=new Set(Object.values(o)),s="NEXT_HTTP_ERROR_FALLBACK";function c(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===s&&a.has(Number(r))}function l(e){return Number(e.digest.split(";")[1])}function u(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},87646,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"notFound",{enumerable:!0,get:function(){return o}});let i=e.r(19321),n=`${i.HTTP_ERROR_FALLBACK_ERROR_CODE};404`;function o(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},72414,(e,t,r)=>{"use strict";function i(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"forbidden",{enumerable:!0,get:function(){return i}}),e.r(19321).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},52236,(e,t,r)=>{"use strict";function i(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unauthorized",{enumerable:!0,get:function(){return i}}),e.r(19321).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},85867,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isPostpone",{enumerable:!0,get:function(){return n}});let i=Symbol.for("react.postpone");function n(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}},98197,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isNextRouterError",{enumerable:!0,get:function(){return o}});let i=e.r(19321),n=e.r(71306);function o(e){return(0,n.isRedirectError)(e)||(0,i.isHTTPAccessFallbackError)(e)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},13979,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,a.isNextRouterError)(t)||(0,o.isBailoutToCSRError)(t)||(0,c.isDynamicServerError)(t)||(0,s.isDynamicPostpone)(t)||(0,n.isPostpone)(t)||(0,i.isHangingPromiseRejectionError)(t)||(0,s.isPrerenderInterruptedError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let i=e.r(37138),n=e.r(85867),o=e.r(39491),a=e.r(98197),s=e.r(21401),c=e.r(77753);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},50396,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return i}});let i=e.r(13979).unstable_rethrow;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},2318,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={ReadonlyURLSearchParams:function(){return o.ReadonlyURLSearchParams},RedirectType:function(){return s.RedirectType},forbidden:function(){return l.forbidden},notFound:function(){return c.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect},unauthorized:function(){return u.unauthorized},unstable_isUnrecognizedActionError:function(){return p},unstable_rethrow:function(){return d.unstable_rethrow}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=e.r(37542),a=e.r(29389),s=e.r(71306),c=e.r(87646),l=e.r(72414),u=e.r(52236),d=e.r(50396);function p(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},69753,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoProvider=void 0,r.CryptoProvider=class{constructor(){this.encoder=new TextEncoder}}},41788,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},a=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.NodeCryptoProvider=void 0;let s=o(e.r(54799)),c=e.r(69753);class l extends c.CryptoProvider{computeHMACSignature(e,t){return s.createHmac("sha256",t).update(e,"utf8").digest("hex")}computeHMACSignatureAsync(e,t){return a(this,void 0,void 0,function*(){return this.computeHMACSignature(e,t)})}secureCompare(e,t){return a(this,void 0,void 0,function*(){let r=this.encoder.encode(e),i=this.encoder.encode(t);if(r.length!==i.length)return!1;let n=s.randomBytes(32),o=s.createHmac("sha256",n).update(r).digest(),a=s.createHmac("sha256",n).update(i).digest();return s.timingSafeEqual(o,a)})}encrypt(e,t,r,i){return a(this,void 0,void 0,function*(){let n=r||s.randomBytes(32),o=s.createCipheriv("aes-256-gcm",t,n);i&&o.setAAD(Buffer.from(i));let a=Buffer.concat([o.update(Buffer.from(e)),o.final()]),c=o.getAuthTag();return{ciphertext:new Uint8Array(a),iv:new Uint8Array(n),tag:new Uint8Array(c)}})}decrypt(e,t,r,i,n){return a(this,void 0,void 0,function*(){let o=s.createDecipheriv("aes-256-gcm",t,r);return o.setAuthTag(Buffer.from(i)),n&&o.setAAD(Buffer.from(n)),new Uint8Array(Buffer.concat([o.update(Buffer.from(e)),o.final()]))})}randomBytes(e){return new Uint8Array(s.randomBytes(e))}randomUUID(){return s.randomUUID()}}r.NodeCryptoProvider=l},1495,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.SubtleCryptoProvider=void 0;let n=e.r(69753);class o extends n.CryptoProvider{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,t){throw Error("SubleCryptoProvider cannot be used in a synchronous context.")}computeHMACSignatureAsync(e,t){return i(this,void 0,void 0,function*(){let r=new TextEncoder,i=yield this.subtleCrypto.importKey("raw",r.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=new Uint8Array((yield this.subtleCrypto.sign("hmac",i,r.encode(e)))),o=Array(n.length);for(let e=0;e<n.length;e++)o[e]=a[n[e]];return o.join("")})}secureCompare(e,t){return i(this,void 0,void 0,function*(){let r=this.encoder.encode(e),i=this.encoder.encode(t);if(r.length!==i.length)return!1;let n={name:"HMAC",hash:"SHA-256"},o=yield crypto.subtle.generateKey(n,!1,["sign","verify"]),a=yield crypto.subtle.sign(n,o,r);return yield crypto.subtle.verify(n,o,a,i)})}encrypt(e,t,r,n){return i(this,void 0,void 0,function*(){let i=r||crypto.getRandomValues(new Uint8Array(32)),o=yield this.subtleCrypto.importKey("raw",t,{name:"AES-GCM"},!1,["encrypt"]),a={name:"AES-GCM",iv:i};n&&(a.additionalData=n);let s=new Uint8Array((yield this.subtleCrypto.encrypt(a,o,e))),c=s.length-16,l=s.slice(c);return{ciphertext:s.slice(0,c),iv:i,tag:l}})}decrypt(e,t,r,n,o){return i(this,void 0,void 0,function*(){let i=new Uint8Array(e.length+n.length);i.set(e,0),i.set(n,e.length);let a=yield this.subtleCrypto.importKey("raw",t,{name:"AES-GCM"},!1,["decrypt"]),s={name:"AES-GCM",iv:r};return o&&(s.additionalData=o),new Uint8Array((yield this.subtleCrypto.decrypt(s,a,i)))})}randomBytes(e){let t=new Uint8Array(e);return crypto.getRandomValues(t),t}randomUUID(){if("u">typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=this.randomBytes(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=Array.from(e,e=>a[e]).join("");return`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20)}`}}r.SubtleCryptoProvider=o;let a=Array(256);for(let e=0;e<a.length;e++)a[e]=e.toString(16).padStart(2,"0")},89990,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HttpClientError=r.HttpClientResponse=r.HttpClient=void 0;class i{constructor(e,t){this.baseURL=e,this.options=t,this.MAX_RETRY_ATTEMPTS=3,this.BACKOFF_MULTIPLIER=1.5,this.MINIMUM_SLEEP_TIME_IN_MILLISECONDS=500,this.RETRY_STATUS_CODES=[408,500,502,504],this.sleep=e=>new Promise(t=>setTimeout(t,this.getSleepTimeInMilliseconds(e)))}getClientName(){throw Error("getClientName not implemented")}addClientToUserAgent(e){return e.indexOf(" ")>-1?e.replace(/\b\s/,`/${this.getClientName()} `):e+=`/${this.getClientName()}`}static getResourceURL(e,t,r){return new URL([t,i.getQueryString(r)].filter(Boolean).join("?"),e).toString()}static getQueryString(e){if(!e)return;let t={};return Object.entries(e).forEach(([e,r])=>{""!==r&&void 0!==r&&(t[e]=r)}),new URLSearchParams(t).toString()}static getContentTypeHeader(e){if(e instanceof URLSearchParams)return{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}}static getBody(e){return null===e||e instanceof URLSearchParams?e:JSON.stringify(e)}static isPathRetryable(e){return e.startsWith("/fga/")||e.startsWith("/vault/")||e.startsWith("/audit_logs/events")}getSleepTimeInMilliseconds(e){return this.MINIMUM_SLEEP_TIME_IN_MILLISECONDS*Math.pow(this.BACKOFF_MULTIPLIER,e)*(Math.random()+.5)}}r.HttpClient=i,r.HttpClientResponse=class{constructor(e,t){this._statusCode=e,this._headers=t}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}},r.HttpClientError=class extends Error{constructor({message:e,response:t}){super(e),this.name="HttpClientError",this.message="The request could not be completed.",this.message=e,this.response=t}}},95530,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ParseError=void 0,r.ParseError=class extends Error{constructor({message:e,rawBody:t,rawStatus:r,requestID:i}){super(e),this.name="ParseError",this.status=500,this.rawBody=t,this.rawStatus=r,this.requestID=i}}},54174,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.FetchHttpClientResponse=r.FetchHttpClient=void 0;let n=e.r(89990),o=e.r(95530);class a extends n.HttpClient{constructor(e,t,r){if(super(e,t),this.baseURL=e,this.options=t,!r){if(!globalThis.fetch)throw Error("Fetch function not defined in the global scope and no replacement was provided.");r=globalThis.fetch}this._fetchFn=r.bind(globalThis)}getClientName(){return"fetch"}get(e,t){return i(this,void 0,void 0,function*(){let r=n.HttpClient.getResourceURL(this.baseURL,e,t.params);return n.HttpClient.isPathRetryable(e)?yield this.fetchRequestWithRetry(r,"GET",null,t.headers):yield this.fetchRequest(r,"GET",null,t.headers)})}post(e,t,r){return i(this,void 0,void 0,function*(){let i=n.HttpClient.getResourceURL(this.baseURL,e,r.params);return n.HttpClient.isPathRetryable(e)?yield this.fetchRequestWithRetry(i,"POST",n.HttpClient.getBody(t),Object.assign(Object.assign({},n.HttpClient.getContentTypeHeader(t)),r.headers)):yield this.fetchRequest(i,"POST",n.HttpClient.getBody(t),Object.assign(Object.assign({},n.HttpClient.getContentTypeHeader(t)),r.headers))})}put(e,t,r){return i(this,void 0,void 0,function*(){let i=n.HttpClient.getResourceURL(this.baseURL,e,r.params);return n.HttpClient.isPathRetryable(e)?yield this.fetchRequestWithRetry(i,"PUT",n.HttpClient.getBody(t),Object.assign(Object.assign({},n.HttpClient.getContentTypeHeader(t)),r.headers)):yield this.fetchRequest(i,"PUT",n.HttpClient.getBody(t),Object.assign(Object.assign({},n.HttpClient.getContentTypeHeader(t)),r.headers))})}delete(e,t){return i(this,void 0,void 0,function*(){let r=n.HttpClient.getResourceURL(this.baseURL,e,t.params);return n.HttpClient.isPathRetryable(e)?yield this.fetchRequestWithRetry(r,"DELETE",null,t.headers):yield this.fetchRequest(r,"DELETE",null,t.headers)})}fetchRequest(e,t,r,a){var c,l,u,d,p;return i(this,void 0,void 0,function*(){let i,h,f="POST"===t||"PUT"===t||"PATCH"===t,{"User-Agent":y}=(null==(c=this.options)?void 0:c.headers)||{},g=null!=(u=null==(l=this.options)?void 0:l.timeout)?u:6e4;i=new AbortController,h=setTimeout(()=>{null==i||i.abort()},g);try{let c=yield this._fetchFn(e,{method:t,headers:Object.assign(Object.assign(Object.assign({Accept:"application/json, text/plain, */*","Content-Type":"application/json"},null==(d=this.options)?void 0:d.headers),a),{"User-Agent":this.addClientToUserAgent((y||"workos-node").toString())}),body:r||(f?"":void 0),signal:null==i?void 0:i.signal});if(h&&clearTimeout(h),!c.ok){let e,t=null!=(p=c.headers.get("X-Request-ID"))?p:"",r=yield c.text();try{e=JSON.parse(r)}catch(e){if(e instanceof SyntaxError)throw new o.ParseError({message:e.message,rawBody:r,requestID:t,rawStatus:c.status});throw e}throw new n.HttpClientError({message:c.statusText,response:{status:c.status,headers:c.headers,data:e}})}return new s(c)}catch(e){if(h&&clearTimeout(h),e instanceof Error&&"AbortError"===e.name)throw new n.HttpClientError({message:`Request timeout after ${g}ms`,response:{status:408,headers:{},data:{error:"Request timeout"}}});throw e}})}fetchRequestWithRetry(e,t,r,n){return i(this,void 0,void 0,function*(){let o,a=1,s=()=>i(this,void 0,void 0,function*(){let i=null;try{o=yield this.fetchRequest(e,t,r,n)}catch(e){i=e}if(this.shouldRetryRequest(i,a))return a++,yield this.sleep(a),s();if(null!=i)throw i;return o});return s()})}shouldRetryRequest(e,t){return!(t>this.MAX_RETRY_ATTEMPTS)&&(!!(null!=e&&(e instanceof TypeError||e instanceof n.HttpClientError&&this.RETRY_STATUS_CODES.includes(e.response.status)))||!1)}}r.FetchHttpClient=a;class s extends n.HttpClientResponse{constructor(e){super(e.status,s._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toJSON(){let e=this._res.headers.get("content-type");return(null==e?void 0:e.includes("application/json"))?this._res.json():null}static _transformHeadersToObject(e){let t={};for(let r of Object.entries(e)){if(!Array.isArray(r)||2!==r.length)throw Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");t[r[0]]=r[1]}return t}}r.FetchHttpClientResponse=s},44732,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},a=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.NodeHttpClientResponse=r.NodeHttpClient=void 0;let s=e.r(89990),c=o(e.r(47299)),l=o(e.r(43698)),u=c.default||c,d=l.default||l;class p extends s.HttpClient{constructor(e,t){super(e,t),this.baseURL=e,this.options=t,this.httpAgent=new u.Agent({keepAlive:!0}),this.httpsAgent=new d.Agent({keepAlive:!0})}getClientName(){return"node"}static getBody(e){return null==e?null:e instanceof URLSearchParams?e.toString():JSON.stringify(e)}get(e,t){return a(this,void 0,void 0,function*(){let r=s.HttpClient.getResourceURL(this.baseURL,e,t.params);return s.HttpClient.isPathRetryable(e)?yield this.nodeRequestWithRetry(r,"GET",null,t.headers):yield this.nodeRequest(r,"GET",null,t.headers)})}post(e,t,r){return a(this,void 0,void 0,function*(){let i=s.HttpClient.getResourceURL(this.baseURL,e,r.params);return s.HttpClient.isPathRetryable(e)?yield this.nodeRequestWithRetry(i,"POST",p.getBody(t),Object.assign(Object.assign({},s.HttpClient.getContentTypeHeader(t)),r.headers)):yield this.nodeRequest(i,"POST",p.getBody(t),Object.assign(Object.assign({},s.HttpClient.getContentTypeHeader(t)),r.headers))})}put(e,t,r){return a(this,void 0,void 0,function*(){let i=s.HttpClient.getResourceURL(this.baseURL,e,r.params);return s.HttpClient.isPathRetryable(e)?yield this.nodeRequestWithRetry(i,"PUT",p.getBody(t),Object.assign(Object.assign({},s.HttpClient.getContentTypeHeader(t)),r.headers)):yield this.nodeRequest(i,"PUT",p.getBody(t),Object.assign(Object.assign({},s.HttpClient.getContentTypeHeader(t)),r.headers))})}delete(e,t){return a(this,void 0,void 0,function*(){let r=s.HttpClient.getResourceURL(this.baseURL,e,t.params);return s.HttpClient.isPathRetryable(e)?yield this.nodeRequestWithRetry(r,"DELETE",null,t.headers):yield this.nodeRequest(r,"DELETE",null,t.headers)})}nodeRequest(e,t,r,i){return a(this,void 0,void 0,function*(){return new Promise((n,o)=>{var c,l;let p=e.startsWith("https"),f=p?this.httpsAgent:this.httpAgent,y=p?d:u,{"User-Agent":g}=null==(c=this.options)?void 0:c.headers,m={method:t,headers:Object.assign(Object.assign(Object.assign({Accept:"application/json, text/plain, */*","Content-Type":"application/json"},null==(l=this.options)?void 0:l.headers),i),{"User-Agent":this.addClientToUserAgent(g.toString())}),agent:f},v=y.request(e,m,e=>a(this,void 0,void 0,function*(){let t=new h(e);e.statusCode&&(e.statusCode<200||e.statusCode>299)&&o(new s.HttpClientError({message:e.statusMessage,response:{status:e.statusCode,headers:e.headers,data:yield t.toJSON()}})),n(t)}));v.on("error",e=>{o(Error(e.message))}),r&&(v.setHeader("Content-Length",Buffer.byteLength(r)),v.write(r)),v.end()})})}nodeRequestWithRetry(e,t,r,i){var n,o;return a(this,void 0,void 0,function*(){let c=e.startsWith("https"),l=c?this.httpsAgent:this.httpAgent,p=c?d:u,{"User-Agent":f}=null==(n=this.options)?void 0:n.headers,y={method:t,headers:Object.assign(Object.assign(Object.assign({Accept:"application/json, text/plain, */*","Content-Type":"application/json"},null==(o=this.options)?void 0:o.headers),i),{"User-Agent":this.addClientToUserAgent(f.toString())}),agent:l},g=1,m=()=>a(this,void 0,void 0,function*(){return new Promise((t,i)=>{let n=p.request(e,y,e=>a(this,void 0,void 0,function*(){let r=new h(e);if(this.shouldRetryRequest(e,g))return g++,yield this.sleep(g),m().then(t).catch(i);e.statusCode&&(e.statusCode<200||e.statusCode>299)&&i(new s.HttpClientError({message:e.statusMessage,response:{status:e.statusCode,headers:e.headers,data:yield r.toJSON()}})),t(new h(e))}));n.on("error",e=>a(this,void 0,void 0,function*(){if(null!=e&&e instanceof TypeError)return g++,yield this.sleep(g),m().then(t).catch(i);i(Error(e.message))})),r&&(n.setHeader("Content-Length",Buffer.byteLength(r)),n.write(r)),n.end()})});return m()})}shouldRetryRequest(e,t){return!(t>this.MAX_RETRY_ATTEMPTS)&&!!(null!=e&&this.RETRY_STATUS_CODES.includes(e.statusCode))}}r.NodeHttpClient=p;class h extends s.HttpClientResponse{constructor(e){super(e.statusCode,e.headers||{}),this._res=e}getRawResponse(){return this._res}toJSON(){return new Promise((e,t)=>{let r=this._res.headers["content-type"];(null==r?void 0:r.includes("application/json"))||e(null);let i="";this._res.setEncoding("utf8"),this._res.on("data",e=>{i+=e}),this._res.once("end",()=>{try{e(JSON.parse(i))}catch(e){t(e)}})})}}r.NodeHttpClientResponse=h},91853,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GenericServerException=void 0,r.GenericServerException=class extends Error{constructor(e,t,r,i){super(),this.status=e,this.rawData=r,this.requestID=i,this.name="GenericServerException",this.message="The request could not be completed.",t&&(this.message=t)}}},11833,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BadRequestException=void 0,r.BadRequestException=class extends Error{constructor({code:e,errors:t,message:r,requestID:i}){super(),this.status=400,this.name="BadRequestException",this.message="Bad request",this.requestID=i,r&&(this.message=r),e&&(this.code=e),t&&(this.errors=t)}}},96315,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NoApiKeyProvidedException=void 0,r.NoApiKeyProvidedException=class extends Error{constructor(){super(...arguments),this.status=500,this.name="NoApiKeyProvidedException",this.message='Missing API key. Pass it to the constructor (new WorkOS("sk_test_Sz3IQjepeSWaI4cMS4ms4sMuU")) or define it in the WORKOS_API_KEY environment variable.'}}},90175,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NotFoundException=void 0,r.NotFoundException=class extends Error{constructor({code:e,message:t,path:r,requestID:i}){super(),this.status=404,this.name="NotFoundException",this.code=e,this.message=null!=t?t:`The requested path '${r}' could not be found.`,this.requestID=i}}},39701,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OauthException=void 0,r.OauthException=class extends Error{constructor(e,t,r,i,n){super(),this.status=e,this.requestID=t,this.error=r,this.errorDescription=i,this.rawData=n,this.name="OauthException",r&&i?this.message=`Error: ${r}
Error Description: ${i}`:r?this.message=`Error: ${r}`:this.message="An error has occurred."}}},82272,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RateLimitExceededException=void 0;let i=e.r(91853);class n extends i.GenericServerException{constructor(e,t,r){super(429,e,{},t),this.retryAfter=r,this.name="RateLimitExceededException"}}r.RateLimitExceededException=n},59691,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SignatureVerificationException=void 0,r.SignatureVerificationException=class extends Error{constructor(e){super(e||"Signature verification failed."),this.name="SignatureVerificationException"}}},95383,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UnauthorizedException=void 0,r.UnauthorizedException=class extends Error{constructor(e){super(),this.requestID=e,this.status=401,this.name="UnauthorizedException",this.message="Could not authorize the request. Maybe your API key is invalid?"}}},70053,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UnprocessableEntityException=void 0,r.UnprocessableEntityException=class extends Error{constructor({code:e,errors:t,message:r,requestID:i}){if(super(),this.status=422,this.name="UnprocessableEntityException",this.message="Unprocessable entity",this.requestID=i,r&&(this.message=r),e&&(this.code=e),t){const e=1===t.length?"requirement":"requirements";for(const{code:r}of(this.message=`The following ${e} must be met:
`,t))this.message=this.message.concat(`	${r}
`)}}}},76831,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(91853),r),n(e.r(11833),r),n(e.r(96315),r),n(e.r(90175),r),n(e.r(39701),r),n(e.r(82272),r),n(e.r(59691),r),n(e.r(95383),r),n(e.r(70053),r)},12218,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.SignatureProvider=void 0;let n=e.r(76831);r.SignatureProvider=class{constructor(e){this.cryptoProvider=e}verifyHeader({payload:e,sigHeader:t,secret:r,tolerance:o=18e4}){return i(this,void 0,void 0,function*(){let[i,a]=this.getTimestampAndSignatureHash(t);if(!a||0===Object.keys(a).length)throw new n.SignatureVerificationException("No signature hash found with expected scheme v1");if(parseInt(i,10)<Date.now()-o)throw new n.SignatureVerificationException("Timestamp outside the tolerance zone");let s=yield this.computeSignature(i,e,r);if((yield this.cryptoProvider.secureCompare(s,a))===!1)throw new n.SignatureVerificationException("Signature hash does not match the expected signature hash for payload");return!0})}getTimestampAndSignatureHash(e){let[t,r]=e.split(",");if(void 0===t||void 0===r)throw new n.SignatureVerificationException("Signature or timestamp missing");let{1:i}=t.split("="),{1:o}=r.split("=");return[i,o]}computeSignature(e,t,r){return i(this,void 0,void 0,function*(){t=JSON.stringify(t);let i=`${e}.${t}`;return yield this.cryptoProvider.computeHMACSignatureAsync(i,r)})}}},73071,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unreachable=void 0,r.unreachable=(e,t=`Entered unreachable code. Received '${e}'.`)=>{throw TypeError(t)}},13317,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeOrganizationDomain=void 0,r.deserializeOrganizationDomain=e=>({object:e.object,id:e.id,domain:e.domain,organizationId:e.organization_id,state:e.state,verificationToken:e.verification_token,verificationStrategy:e.verification_strategy,createdAt:e.created_at,updatedAt:e.updated_at})},65197,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeOrganization=void 0;let i=e.r(13317);r.deserializeOrganization=e=>{var t,r;return Object.assign(Object.assign({object:e.object,id:e.id,name:e.name,allowProfilesOutsideOrganization:e.allow_profiles_outside_organization,domains:e.domains.map(i.deserializeOrganizationDomain)},void 0===e.stripe_customer_id?void 0:{stripeCustomerId:e.stripe_customer_id}),{createdAt:e.created_at,updatedAt:e.updated_at,externalId:null!=(t=e.external_id)?t:null,metadata:null!=(r=e.metadata)?r:{}})}},64668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeAuthenticateWithCodeOptions=void 0,r.serializeAuthenticateWithCodeOptions=e=>({grant_type:"authorization_code",client_id:e.clientId,client_secret:e.clientSecret,code:e.code,code_verifier:e.codeVerifier,invitation_token:e.invitationToken,ip_address:e.ipAddress,user_agent:e.userAgent})},674,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeAuthenticateWithCodeAndVerifierOptions=void 0,r.serializeAuthenticateWithCodeAndVerifierOptions=e=>({grant_type:"authorization_code",client_id:e.clientId,code:e.code,code_verifier:e.codeVerifier,invitation_token:e.invitationToken,ip_address:e.ipAddress,user_agent:e.userAgent})},51343,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeAuthenticateWithMagicAuthOptions=void 0,r.serializeAuthenticateWithMagicAuthOptions=e=>({grant_type:"urn:workos:oauth:grant-type:magic-auth:code",client_id:e.clientId,client_secret:e.clientSecret,code:e.code,email:e.email,invitation_token:e.invitationToken,link_authorization_code:e.linkAuthorizationCode,ip_address:e.ipAddress,user_agent:e.userAgent})},78672,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeAuthenticateWithPasswordOptions=void 0,r.serializeAuthenticateWithPasswordOptions=e=>({grant_type:"password",client_id:e.clientId,client_secret:e.clientSecret,email:e.email,password:e.password,invitation_token:e.invitationToken,ip_address:e.ipAddress,user_agent:e.userAgent})},58101,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeAuthenticateWithRefreshTokenOptions=void 0,r.serializeAuthenticateWithRefreshTokenOptions=e=>({grant_type:"refresh_token",client_id:e.clientId,client_secret:e.clientSecret,refresh_token:e.refreshToken,organization_id:e.organizationId,ip_address:e.ipAddress,user_agent:e.userAgent})},21667,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeAuthenticateWithTotpOptions=void 0,r.serializeAuthenticateWithTotpOptions=e=>({grant_type:"urn:workos:oauth:grant-type:mfa-totp",client_id:e.clientId,client_secret:e.clientSecret,code:e.code,authentication_challenge_id:e.authenticationChallengeId,pending_authentication_token:e.pendingAuthenticationToken,ip_address:e.ipAddress,user_agent:e.userAgent})},53470,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeAuthenticationEvent=void 0,r.deserializeAuthenticationEvent=e=>({email:e.email,error:e.error,ipAddress:e.ip_address,status:e.status,type:e.type,userAgent:e.user_agent,userId:e.user_id})},2019,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeOauthTokens=void 0,r.deserializeOauthTokens=e=>e?{accessToken:e.access_token,refreshToken:e.refresh_token,expiresAt:e.expires_at,scopes:e.scopes}:void 0},53169,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeUser=void 0,r.deserializeUser=e=>{var t,r;return{object:e.object,id:e.id,email:e.email,emailVerified:e.email_verified,firstName:e.first_name,profilePictureUrl:e.profile_picture_url,lastName:e.last_name,lastSignInAt:e.last_sign_in_at,locale:e.locale,createdAt:e.created_at,updatedAt:e.updated_at,externalId:null!=(t=e.external_id)?t:null,metadata:null!=(r=e.metadata)?r:{}}}},41036,(e,t,r)=>{"use strict";var i=e.e&&e.e.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeAuthenticationResponse=void 0;let n=e.r(2019),o=e.r(53169);r.deserializeAuthenticationResponse=e=>{let{user:t,organization_id:r,access_token:a,refresh_token:s,authentication_method:c,impersonator:l,oauth_tokens:u}=e,d=i(e,["user","organization_id","access_token","refresh_token","authentication_method","impersonator","oauth_tokens"]);return Object.assign({user:(0,o.deserializeUser)(t),organizationId:r,accessToken:a,refreshToken:s,impersonator:l,authenticationMethod:c,oauthTokens:(0,n.deserializeOauthTokens)(u)},d)}},5589,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeCreateMagicAuthOptions=void 0,r.serializeCreateMagicAuthOptions=e=>({email:e.email,invitation_token:e.invitationToken})},29414,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeCreatePasswordResetOptions=void 0,r.serializeCreatePasswordResetOptions=e=>({email:e.email})},82849,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeEmailVerificationEvent=r.deserializeEmailVerification=void 0,r.deserializeEmailVerification=e=>({object:e.object,id:e.id,userId:e.user_id,email:e.email,expiresAt:e.expires_at,code:e.code,createdAt:e.created_at,updatedAt:e.updated_at}),r.deserializeEmailVerificationEvent=e=>({object:e.object,id:e.id,userId:e.user_id,email:e.email,expiresAt:e.expires_at,createdAt:e.created_at,updatedAt:e.updated_at})},75021,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeEnrollAuthFactorOptions=void 0,r.serializeEnrollAuthFactorOptions=e=>({type:e.type,totp_issuer:e.totpIssuer,totp_user:e.totpUser,totp_secret:e.totpSecret})},16258,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeTotpWithSecrets=r.deserializeTotp=void 0,r.deserializeTotp=e=>({issuer:e.issuer,user:e.user}),r.deserializeTotpWithSecrets=e=>({issuer:e.issuer,user:e.user,qrCode:e.qr_code,secret:e.secret,uri:e.uri})},47365,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeFactorWithSecrets=r.deserializeFactor=void 0;let i=e.r(16258);r.deserializeFactor=e=>({object:e.object,id:e.id,createdAt:e.created_at,updatedAt:e.updated_at,type:e.type,totp:(0,i.deserializeTotp)(e.totp),userId:e.user_id}),r.deserializeFactorWithSecrets=e=>({object:e.object,id:e.id,createdAt:e.created_at,updatedAt:e.updated_at,type:e.type,totp:(0,i.deserializeTotpWithSecrets)(e.totp),userId:e.user_id})},51246,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeInvitationEvent=r.deserializeInvitation=void 0,r.deserializeInvitation=e=>({object:e.object,id:e.id,email:e.email,state:e.state,acceptedAt:e.accepted_at,revokedAt:e.revoked_at,expiresAt:e.expires_at,organizationId:e.organization_id,inviterUserId:e.inviter_user_id,acceptedUserId:e.accepted_user_id,token:e.token,acceptInvitationUrl:e.accept_invitation_url,createdAt:e.created_at,updatedAt:e.updated_at}),r.deserializeInvitationEvent=e=>({object:e.object,id:e.id,email:e.email,state:e.state,acceptedAt:e.accepted_at,revokedAt:e.revoked_at,expiresAt:e.expires_at,organizationId:e.organization_id,inviterUserId:e.inviter_user_id,acceptedUserId:e.accepted_user_id,createdAt:e.created_at,updatedAt:e.updated_at})},96866,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeListSessionsOptions=void 0,r.serializeListSessionsOptions=e=>Object.assign({},e)},57287,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeMagicAuthEvent=r.deserializeMagicAuth=void 0,r.deserializeMagicAuth=e=>({object:e.object,id:e.id,userId:e.user_id,email:e.email,expiresAt:e.expires_at,code:e.code,createdAt:e.created_at,updatedAt:e.updated_at}),r.deserializeMagicAuthEvent=e=>({object:e.object,id:e.id,userId:e.user_id,email:e.email,expiresAt:e.expires_at,createdAt:e.created_at,updatedAt:e.updated_at})},20418,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializePasswordResetEvent=r.deserializePasswordReset=void 0,r.deserializePasswordReset=e=>({object:e.object,id:e.id,userId:e.user_id,email:e.email,passwordResetToken:e.password_reset_token,passwordResetUrl:e.password_reset_url,expiresAt:e.expires_at,createdAt:e.created_at}),r.deserializePasswordResetEvent=e=>({object:e.object,id:e.id,userId:e.user_id,email:e.email,expiresAt:e.expires_at,createdAt:e.created_at})},84133,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeResetPasswordOptions=void 0,r.serializeResetPasswordOptions=e=>({token:e.token,new_password:e.newPassword})},3666,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeSendPasswordResetEmailOptions=void 0,r.serializeSendPasswordResetEmailOptions=e=>({email:e.email,password_reset_url:e.passwordResetUrl})},24341,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeSession=void 0,r.deserializeSession=e=>({object:"session",id:e.id,userId:e.user_id,ipAddress:e.ip_address,userAgent:e.user_agent,organizationId:e.organization_id,impersonator:e.impersonator,authMethod:e.auth_method,status:e.status,expiresAt:e.expires_at,endedAt:e.ended_at,createdAt:e.created_at,updatedAt:e.updated_at})},93483,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeCreateUserOptions=void 0,r.serializeCreateUserOptions=e=>({email:e.email,password:e.password,password_hash:e.passwordHash,password_hash_type:e.passwordHashType,first_name:e.firstName,last_name:e.lastName,email_verified:e.emailVerified,external_id:e.externalId,metadata:e.metadata})},82356,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeSendMagicAuthCodeOptions=void 0,r.serializeSendMagicAuthCodeOptions=e=>({email:e.email})},57909,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeUpdateUserOptions=void 0,r.serializeUpdateUserOptions=e=>({email:e.email,email_verified:e.emailVerified,first_name:e.firstName,last_name:e.lastName,password:e.password,password_hash:e.passwordHash,password_hash_type:e.passwordHashType,external_id:e.externalId,locale:e.locale,metadata:e.metadata})},30479,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeUpdateUserPasswordOptions=void 0,r.serializeUpdateUserPasswordOptions=e=>({password:e.password})},61348,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(64668),r),n(e.r(674),r),n(e.r(51343),r),n(e.r(78672),r),n(e.r(58101),r),n(e.r(21667),r),n(e.r(53470),r),n(e.r(41036),r),n(e.r(5589),r),n(e.r(29414),r),n(e.r(82849),r),n(e.r(75021),r),n(e.r(47365),r),n(e.r(51246),r),n(e.r(96866),r),n(e.r(57287),r),n(e.r(20418),r),n(e.r(84133),r),n(e.r(3666),r),n(e.r(24341),r),n(e.r(93483),r),n(e.r(82356),r),n(e.r(57909),r),n(e.r(30479),r),n(e.r(53169),r)},87494,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeOrganizationMembership=void 0,r.deserializeOrganizationMembership=e=>Object.assign({object:e.object,id:e.id,userId:e.user_id,organizationId:e.organization_id,organizationName:e.organization_name,status:e.status,createdAt:e.created_at,updatedAt:e.updated_at,role:e.role},e.roles&&{roles:e.roles})},57949,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeAction=void 0;let i=e.r(65197),n=e.r(61348),o=e.r(87494);r.deserializeAction=e=>{switch(e.object){case"user_registration_action_context":let t;return{id:e.id,object:e.object,userData:{object:(t=e.user_data).object,email:t.email,firstName:t.first_name,lastName:t.last_name},invitation:e.invitation?(0,n.deserializeInvitation)(e.invitation):void 0,ipAddress:e.ip_address,userAgent:e.user_agent,deviceFingerprint:e.device_fingerprint};case"authentication_action_context":return{id:e.id,object:e.object,user:(0,n.deserializeUser)(e.user),organization:e.organization?(0,i.deserializeOrganization)(e.organization):void 0,organizationMembership:e.organization_membership?(0,o.deserializeOrganizationMembership)(e.organization_membership):void 0,ipAddress:e.ip_address,userAgent:e.user_agent,deviceFingerprint:e.device_fingerprint,issuer:e.issuer}}}},88998,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.Actions=void 0;let n=e.r(12218),o=e.r(73071),a=e.r(57949);r.Actions=class{constructor(e){this.signatureProvider=new n.SignatureProvider(e)}get computeSignature(){return this.signatureProvider.computeSignature.bind(this.signatureProvider)}get verifyHeader(){return this.signatureProvider.verifyHeader.bind(this.signatureProvider)}serializeType(e){switch(e){case"authentication":return"authentication_action_response";case"user_registration":return"user_registration_action_response";default:return(0,o.unreachable)(e)}}signResponse(e,t){return i(this,void 0,void 0,function*(){let r,{verdict:i,type:n}=e;"Deny"===i&&e.errorMessage&&(r=e.errorMessage);let o=Object.assign({timestamp:Date.now(),verdict:i},"Deny"===i&&e.errorMessage&&{error_message:r});return{object:this.serializeType(n),payload:o,signature:yield this.computeSignature(o.timestamp,o,t)}})}constructAction({payload:e,sigHeader:t,secret:r,tolerance:n=3e4}){return i(this,void 0,void 0,function*(){return yield this.verifyHeader({payload:e,sigHeader:t,secret:r,tolerance:n}),(0,a.deserializeAction)(e)})}}},40777,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeUpdatedEventDirectoryGroup=r.deserializeDirectoryGroup=void 0,r.deserializeDirectoryGroup=e=>({id:e.id,idpId:e.idp_id,directoryId:e.directory_id,organizationId:e.organization_id,name:e.name,createdAt:e.created_at,updatedAt:e.updated_at,rawAttributes:e.raw_attributes}),r.deserializeUpdatedEventDirectoryGroup=e=>({id:e.id,idpId:e.idp_id,directoryId:e.directory_id,organizationId:e.organization_id,name:e.name,createdAt:e.created_at,updatedAt:e.updated_at,rawAttributes:e.raw_attributes,previousAttributes:e.previous_attributes})},53213,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeUpdatedEventDirectoryUser=r.deserializeDirectoryUserWithGroups=r.deserializeDirectoryUser=void 0;let i=e.r(40777);r.deserializeDirectoryUser=e=>({object:e.object,id:e.id,directoryId:e.directory_id,organizationId:e.organization_id,rawAttributes:e.raw_attributes,customAttributes:e.custom_attributes,idpId:e.idp_id,firstName:e.first_name,email:e.email,emails:e.emails,username:e.username,lastName:e.last_name,jobTitle:e.job_title,state:e.state,role:e.role,roles:e.roles,createdAt:e.created_at,updatedAt:e.updated_at}),r.deserializeDirectoryUserWithGroups=e=>Object.assign(Object.assign({},(0,r.deserializeDirectoryUser)(e)),{groups:e.groups.map(i.deserializeDirectoryGroup)}),r.deserializeUpdatedEventDirectoryUser=e=>({object:"directory_user",id:e.id,directoryId:e.directory_id,organizationId:e.organization_id,rawAttributes:e.raw_attributes,customAttributes:e.custom_attributes,idpId:e.idp_id,firstName:e.first_name,email:e.email,emails:e.emails,username:e.username,lastName:e.last_name,jobTitle:e.job_title,state:e.state,role:e.role,roles:e.roles,createdAt:e.created_at,updatedAt:e.updated_at,previousAttributes:e.previous_attributes})},47705,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeDeletedEventDirectory=r.deserializeEventDirectory=r.deserializeDirectoryState=r.deserializeDirectory=void 0,r.deserializeDirectory=e=>({object:e.object,id:e.id,domain:e.domain,externalKey:e.external_key,name:e.name,organizationId:e.organization_id,state:(0,r.deserializeDirectoryState)(e.state),type:e.type,createdAt:e.created_at,updatedAt:e.updated_at}),r.deserializeDirectoryState=e=>"linked"===e?"active":"unlinked"===e?"inactive":e,r.deserializeEventDirectory=e=>({object:e.object,id:e.id,externalKey:e.external_key,type:e.type,state:e.state,name:e.name,organizationId:e.organization_id,domains:e.domains,createdAt:e.created_at,updatedAt:e.updated_at}),r.deserializeDeletedEventDirectory=e=>({object:e.object,id:e.id,type:e.type,state:e.state,name:e.name,organizationId:e.organization_id,createdAt:e.created_at,updatedAt:e.updated_at})},26059,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeListDirectoriesOptions=void 0,r.serializeListDirectoriesOptions=e=>({organization_id:e.organizationId,search:e.search,limit:e.limit,before:e.before,after:e.after,order:e.order})},62389,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(40777),r),n(e.r(53213),r),n(e.r(47705),r),n(e.r(26059),r)},44104,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeCreateOrganizationOptions=void 0,r.serializeCreateOrganizationOptions=e=>({name:e.name,allow_profiles_outside_organization:e.allowProfilesOutsideOrganization,domain_data:e.domainData,domains:e.domains,external_id:e.externalId,metadata:e.metadata})},18713,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeUpdateOrganizationOptions=void 0,r.serializeUpdateOrganizationOptions=e=>({name:e.name,allow_profiles_outside_organization:e.allowProfilesOutsideOrganization,domain_data:e.domainData,domains:e.domains,stripe_customer_id:e.stripeCustomerId,external_id:e.externalId,metadata:e.metadata})},55642,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(44104),r),n(e.r(65197),r),n(e.r(18713),r)},33818,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeConnection=void 0,r.deserializeConnection=e=>({object:e.object,id:e.id,organizationId:e.organization_id,name:e.name,connectionType:e.connection_type,type:e.connection_type,state:e.state,domains:e.domains,createdAt:e.created_at,updatedAt:e.updated_at})},23648,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeListConnectionsOptions=void 0,r.serializeListConnectionsOptions=e=>({connection_type:e.connectionType,domain:e.domain,organization_id:e.organizationId,limit:e.limit,before:e.before,after:e.after,order:e.order})},11250,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeProfile=void 0,r.deserializeProfile=e=>({id:e.id,idpId:e.idp_id,organizationId:e.organization_id,connectionId:e.connection_id,connectionType:e.connection_type,email:e.email,firstName:e.first_name,lastName:e.last_name,role:e.role,roles:e.roles,groups:e.groups,customAttributes:e.custom_attributes,rawAttributes:e.raw_attributes})},41848,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeProfileAndToken=void 0;let i=e.r(2019),n=e.r(11250);r.deserializeProfileAndToken=e=>({accessToken:e.access_token,profile:(0,n.deserializeProfile)(e.profile),oauthTokens:(0,i.deserializeOauthTokens)(e.oauth_tokens)})},86560,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(33818),r),n(e.r(23648),r),n(e.r(41848),r),n(e.r(11250),r)},33996,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeRoleEvent=void 0,r.deserializeRoleEvent=e=>({object:"role",slug:e.slug,permissions:e.permissions,createdAt:e.created_at,updatedAt:e.updated_at})},12198,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeAuthenticationRadarRiskDetectedEvent=void 0,r.deserializeAuthenticationRadarRiskDetectedEvent=e=>({authMethod:e.auth_method,action:e.action,control:e.control,blocklistType:e.blocklist_type,ipAddress:e.ip_address,userAgent:e.user_agent,userId:e.user_id,email:e.email})},92949,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeApiKey=void 0,r.deserializeApiKey=function(e){return{object:e.object,id:e.id,owner:e.owner,name:e.name,obfuscatedValue:e.obfuscated_value,lastUsedAt:e.last_used_at,permissions:e.permissions,createdAt:e.created_at,updatedAt:e.updated_at}}},66944,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeEvent=void 0;let i=e.r(62389),n=e.r(55642),o=e.r(86560),a=e.r(61348),s=e.r(13317),c=e.r(87494),l=e.r(33996),u=e.r(24341),d=e.r(12198),p=e.r(92949);r.deserializeEvent=e=>{let t={id:e.id,createdAt:e.created_at,context:e.context};switch(e.event){case"authentication.email_verification_succeeded":case"authentication.magic_auth_failed":case"authentication.magic_auth_succeeded":case"authentication.mfa_succeeded":case"authentication.oauth_failed":case"authentication.oauth_succeeded":case"authentication.passkey_failed":case"authentication.passkey_succeeded":case"authentication.password_failed":case"authentication.password_succeeded":case"authentication.sso_failed":case"authentication.sso_succeeded":return Object.assign(Object.assign({},t),{event:e.event,data:(0,a.deserializeAuthenticationEvent)(e.data)});case"authentication.radar_risk_detected":return Object.assign(Object.assign({},t),{event:e.event,data:(0,d.deserializeAuthenticationRadarRiskDetectedEvent)(e.data)});case"connection.activated":case"connection.deactivated":case"connection.deleted":return Object.assign(Object.assign({},t),{event:e.event,data:(0,o.deserializeConnection)(e.data)});case"dsync.activated":case"dsync.deactivated":return Object.assign(Object.assign({},t),{event:e.event,data:(0,i.deserializeEventDirectory)(e.data)});case"dsync.deleted":return Object.assign(Object.assign({},t),{event:e.event,data:(0,i.deserializeDeletedEventDirectory)(e.data)});case"dsync.group.created":case"dsync.group.deleted":return Object.assign(Object.assign({},t),{event:e.event,data:(0,i.deserializeDirectoryGroup)(e.data)});case"dsync.group.updated":return Object.assign(Object.assign({},t),{event:e.event,data:(0,i.deserializeUpdatedEventDirectoryGroup)(e.data)});case"dsync.group.user_added":case"dsync.group.user_removed":return Object.assign(Object.assign({},t),{event:e.event,data:{directoryId:e.data.directory_id,user:(0,i.deserializeDirectoryUser)(e.data.user),group:(0,i.deserializeDirectoryGroup)(e.data.group)}});case"dsync.user.created":case"dsync.user.deleted":return Object.assign(Object.assign({},t),{event:e.event,data:(0,i.deserializeDirectoryUser)(e.data)});case"dsync.user.updated":return Object.assign(Object.assign({},t),{event:e.event,data:(0,i.deserializeUpdatedEventDirectoryUser)(e.data)});case"email_verification.created":return Object.assign(Object.assign({},t),{event:e.event,data:(0,a.deserializeEmailVerificationEvent)(e.data)});case"invitation.accepted":case"invitation.created":case"invitation.revoked":case"invitation.resent":return Object.assign(Object.assign({},t),{event:e.event,data:(0,a.deserializeInvitationEvent)(e.data)});case"magic_auth.created":return Object.assign(Object.assign({},t),{event:e.event,data:(0,a.deserializeMagicAuthEvent)(e.data)});case"password_reset.created":case"password_reset.succeeded":return Object.assign(Object.assign({},t),{event:e.event,data:(0,a.deserializePasswordResetEvent)(e.data)});case"user.created":case"user.updated":case"user.deleted":return Object.assign(Object.assign({},t),{event:e.event,data:(0,a.deserializeUser)(e.data)});case"organization_membership.added":case"organization_membership.created":case"organization_membership.deleted":case"organization_membership.updated":case"organization_membership.removed":return Object.assign(Object.assign({},t),{event:e.event,data:(0,c.deserializeOrganizationMembership)(e.data)});case"role.created":case"role.deleted":case"role.updated":return Object.assign(Object.assign({},t),{event:e.event,data:(0,l.deserializeRoleEvent)(e.data)});case"session.created":case"session.revoked":return Object.assign(Object.assign({},t),{event:e.event,data:(0,u.deserializeSession)(e.data)});case"organization.created":case"organization.updated":case"organization.deleted":return Object.assign(Object.assign({},t),{event:e.event,data:(0,n.deserializeOrganization)(e.data)});case"organization_domain.verified":case"organization_domain.verification_failed":case"organization_domain.created":case"organization_domain.updated":case"organization_domain.deleted":return Object.assign(Object.assign({},t),{event:e.event,data:(0,s.deserializeOrganizationDomain)(e.data)});case"api_key.created":case"api_key.deleted":return Object.assign(Object.assign({},t),{event:e.event,data:(0,p.deserializeApiKey)(e.data)})}}},16772,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeList=void 0,r.deserializeList=(e,t)=>({object:"list",data:e.data.map(t),listMetadata:e.list_metadata})},47643,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(66944),r),n(e.r(16772),r)},18008,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.Webhooks=void 0;let n=e.r(47643),o=e.r(12218);r.Webhooks=class{constructor(e){this.signatureProvider=new o.SignatureProvider(e)}get verifyHeader(){return this.signatureProvider.verifyHeader.bind(this.signatureProvider)}get computeSignature(){return this.signatureProvider.computeSignature.bind(this.signatureProvider)}get getTimestampAndSignatureHash(){return this.signatureProvider.getTimestampAndSignatureHash.bind(this.signatureProvider)}constructEvent({payload:e,sigHeader:t,secret:r,tolerance:o=18e4}){return i(this,void 0,void 0,function*(){return yield this.verifyHeader({payload:e,sigHeader:t,secret:r,tolerance:o}),(0,n.deserializeEvent)(e)})}}},79694,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeValidateApiKeyResponse=void 0;let i=e.r(92949);r.deserializeValidateApiKeyResponse=function(e){return{apiKey:e.api_key?(0,i.deserializeApiKey)(e.api_key):null}}},47682,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.ApiKeys=void 0;let n=e.r(79694);r.ApiKeys=class{constructor(e){this.workos=e}validateApiKey(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/api_keys/validations",e);return(0,n.deserializeValidateApiKeyResponse)(t)})}deleteApiKey(e){return i(this,void 0,void 0,function*(){yield this.workos.delete(`/api_keys/${e}`)})}}},43659,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})},n=e.e&&e.e.__await||function(e){return this instanceof n?(this.v=e,this):new n(e)},o=e.e&&e.e.__asyncValues||function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise(function(i,n){var o,a,s;o=i,a=n,s=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){o({value:e,done:s})},a)})}}},a=e.e&&e.e.__asyncDelegator||function(e){var t,r;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,o){t[i]=e[i]?function(t){return(r=!r)?{value:n(e[i](t)),done:!1}:o?o(t):t}:o}},s=e.e&&e.e.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,o=r.apply(e,t||[]),a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){o[e]&&(i[e]=function(t){return new Promise(function(r,i){a.push([e,t,r,i])>1||c(e,t)})})}function c(e,t){try{var r;(r=o[e](t)).value instanceof n?Promise.resolve(r.value.v).then(l,u):d(a[0][2],r)}catch(e){d(a[0][3],e)}}function l(e){c("next",e)}function u(e){c("throw",e)}function d(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}};Object.defineProperty(r,"__esModule",{value:!0}),r.AutoPaginatable=void 0,r.AutoPaginatable=class{constructor(e,t,r){this.list=e,this.apiCall=t,this.object="list",this.options=Object.assign({},r)}get data(){return this.list.data}get listMetadata(){return this.list.listMetadata}generatePages(e){return s(this,arguments,function*(){let t=yield n(this.apiCall(Object.assign(Object.assign({},this.options),{limit:100,after:e.after})));yield yield n(t.data),t.listMetadata.after&&(yield n(new Promise(e=>setTimeout(e,350))),yield n((yield*a(o(this.generatePages({after:t.listMetadata.after}))))))})}autoPagination(){var e,t,r,n;return i(this,void 0,void 0,function*(){if(this.options.limit)return this.data;let i=[];try{for(var a,s=!0,c=o(this.generatePages({after:this.options.after}));!(e=(a=yield c.next()).done);s=!0)n=a.value,s=!1,i.push(...n)}catch(e){t={error:e}}finally{try{!s&&!e&&(r=c.return)&&(yield r.call(c))}finally{if(t)throw t.error}}return i})}}},92357,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.fetchAndDeserialize=void 0;let n=e.r(47643);r.fetchAndDeserialize=(e,t,r,o,a)=>i(void 0,void 0,void 0,function*(){let{data:i}=yield e.get(t,Object.assign({query:Object.assign(Object.assign({},o),{order:(null==o?void 0:o.order)||"desc"})},a));return(0,n.deserializeList)(i,r)})},49428,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.DirectorySync=void 0;let n=e.r(43659),o=e.r(62389),a=e.r(92357);r.DirectorySync=class{constructor(e){this.workos=e}listDirectories(e){return i(this,void 0,void 0,function*(){return new n.AutoPaginatable((yield(0,a.fetchAndDeserialize)(this.workos,"/directories",o.deserializeDirectory,e?(0,o.serializeListDirectoriesOptions)(e):void 0)),e=>(0,a.fetchAndDeserialize)(this.workos,"/directories",o.deserializeDirectory,e),e?(0,o.serializeListDirectoriesOptions)(e):void 0)})}getDirectory(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/directories/${e}`);return(0,o.deserializeDirectory)(t)})}deleteDirectory(e){return i(this,void 0,void 0,function*(){yield this.workos.delete(`/directories/${e}`)})}listGroups(e){return i(this,void 0,void 0,function*(){return new n.AutoPaginatable((yield(0,a.fetchAndDeserialize)(this.workos,"/directory_groups",o.deserializeDirectoryGroup,e)),e=>(0,a.fetchAndDeserialize)(this.workos,"/directory_groups",o.deserializeDirectoryGroup,e),e)})}listUsers(e){return i(this,void 0,void 0,function*(){return new n.AutoPaginatable((yield(0,a.fetchAndDeserialize)(this.workos,"/directory_users",o.deserializeDirectoryUserWithGroups,e)),e=>(0,a.fetchAndDeserialize)(this.workos,"/directory_users",o.deserializeDirectoryUserWithGroups,e),e)})}getUser(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/directory_users/${e}`);return(0,o.deserializeDirectoryUserWithGroups)(t)})}getGroup(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/directory_groups/${e}`);return(0,o.deserializeDirectoryGroup)(t)})}}},89999,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeListEventOptions=void 0,r.serializeListEventOptions=e=>({events:e.events,organization_id:e.organizationId,range_start:e.rangeStart,range_end:e.rangeEnd,limit:e.limit,after:e.after})},96986,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(89999),r)},54527,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.Events=void 0;let n=e.r(47643),o=e.r(96986);r.Events=class{constructor(e){this.workos=e}listEvents(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get("/events",{query:e?(0,o.serializeListEventOptions)(e):void 0});return(0,n.deserializeList)(t,n.deserializeEvent)})}}},13003,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeRole=void 0,r.deserializeRole=e=>({object:e.object,id:e.id,name:e.name,slug:e.slug,description:e.description,permissions:e.permissions,type:e.type,createdAt:e.created_at,updatedAt:e.updated_at})},5465,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeFeatureFlag=void 0,r.deserializeFeatureFlag=e=>({object:e.object,id:e.id,name:e.name,slug:e.slug,description:e.description,tags:e.tags,enabled:e.enabled,defaultValue:e.default_value,createdAt:e.created_at,updatedAt:e.updated_at})},92855,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(5465),r)},48606,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeCreateOrganizationApiKeyOptions=void 0,r.serializeCreateOrganizationApiKeyOptions=function(e){return{name:e.name,permissions:e.permissions}}},10498,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeCreatedApiKey=void 0,r.deserializeCreatedApiKey=function(e){return{object:e.object,id:e.id,owner:e.owner,name:e.name,obfuscatedValue:e.obfuscated_value,value:e.value,lastUsedAt:e.last_used_at,permissions:e.permissions,createdAt:e.created_at,updatedAt:e.updated_at}}},18617,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(92949),r),n(e.r(48606),r),n(e.r(10498),r),n(e.r(79694),r)},79862,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})},n=e.e&&e.e.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};Object.defineProperty(r,"__esModule",{value:!0}),r.Organizations=void 0;let o=e.r(43659),a=e.r(55642),s=e.r(92357),c=e.r(13003),l=e.r(92855),u=e.r(18617);r.Organizations=class{constructor(e){this.workos=e}listOrganizations(e){return i(this,void 0,void 0,function*(){return new o.AutoPaginatable((yield(0,s.fetchAndDeserialize)(this.workos,"/organizations",a.deserializeOrganization,e)),e=>(0,s.fetchAndDeserialize)(this.workos,"/organizations",a.deserializeOrganization,e),e)})}createOrganization(e,t={}){return i(this,void 0,void 0,function*(){let{data:r}=yield this.workos.post("/organizations",(0,a.serializeCreateOrganizationOptions)(e),t);return(0,a.deserializeOrganization)(r)})}deleteOrganization(e){return i(this,void 0,void 0,function*(){yield this.workos.delete(`/organizations/${e}`)})}getOrganization(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/organizations/${e}`);return(0,a.deserializeOrganization)(t)})}getOrganizationByExternalId(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/organizations/external_id/${e}`);return(0,a.deserializeOrganization)(t)})}updateOrganization(e){return i(this,void 0,void 0,function*(){let{organization:t}=e,r=n(e,["organization"]),{data:i}=yield this.workos.put(`/organizations/${t}`,(0,a.serializeUpdateOrganizationOptions)(r));return(0,a.deserializeOrganization)(i)})}listOrganizationRoles(e){return i(this,void 0,void 0,function*(){let{organizationId:t}=e,{data:r}=yield this.workos.get(`/organizations/${t}/roles`);return{object:"list",data:r.data.map(e=>(0,c.deserializeRole)(e))}})}listOrganizationFeatureFlags(e){return i(this,void 0,void 0,function*(){let{organizationId:t}=e,r=n(e,["organizationId"]);return new o.AutoPaginatable((yield(0,s.fetchAndDeserialize)(this.workos,`/organizations/${t}/feature-flags`,l.deserializeFeatureFlag,r)),e=>(0,s.fetchAndDeserialize)(this.workos,`/organizations/${t}/feature-flags`,l.deserializeFeatureFlag,e),r)})}listOrganizationApiKeys(e){return i(this,void 0,void 0,function*(){let{organizationId:t}=e,r=n(e,["organizationId"]);return new o.AutoPaginatable((yield(0,s.fetchAndDeserialize)(this.workos,`/organizations/${t}/api_keys`,u.deserializeApiKey,r)),e=>(0,s.fetchAndDeserialize)(this.workos,`/organizations/${t}/api_keys`,u.deserializeApiKey,e),r)})}createOrganizationApiKey(e,t={}){return i(this,void 0,void 0,function*(){let{organizationId:r}=e,{data:i}=yield this.workos.post(`/organizations/${r}/api_keys`,(0,u.serializeCreateOrganizationApiKeyOptions)(e),t);return(0,u.deserializeCreatedApiKey)(i)})}}},68334,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeCreateOrganizationDomainOptions=void 0,r.serializeCreateOrganizationDomainOptions=e=>({domain:e.domain,organization_id:e.organizationId})},84977,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.OrganizationDomains=void 0;let n=e.r(68334),o=e.r(13317);r.OrganizationDomains=class{constructor(e){this.workos=e}get(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/organization_domains/${e}`);return(0,o.deserializeOrganizationDomain)(t)})}verify(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post(`/organization_domains/${e}/verify`,{});return(0,o.deserializeOrganizationDomain)(t)})}create(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/organization_domains",(0,n.serializeCreateOrganizationDomainOptions)(e));return(0,o.deserializeOrganizationDomain)(t)})}delete(e){return i(this,void 0,void 0,function*(){yield this.workos.delete(`/organization_domains/${e}`)})}}},3945,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializePasswordlessSession=void 0,r.deserializePasswordlessSession=e=>({id:e.id,email:e.email,expiresAt:e.expires_at,link:e.link,object:e.object})},22459,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})},n=e.e&&e.e.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};Object.defineProperty(r,"__esModule",{value:!0}),r.Passwordless=void 0;let o=e.r(3945);r.Passwordless=class{constructor(e){this.workos=e}createSession(e){var{redirectURI:t,expiresIn:r}=e,a=n(e,["redirectURI","expiresIn"]);return i(this,void 0,void 0,function*(){let{data:e}=yield this.workos.post("/passwordless/sessions",Object.assign(Object.assign({},a),{redirect_uri:t,expires_in:r}));return(0,o.deserializePasswordlessSession)(e)})}sendSession(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post(`/passwordless/sessions/${e}/send`,{});return t})}}},24029,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeAccessToken=void 0,r.deserializeAccessToken=function(e){return{object:"access_token",accessToken:e.access_token,expiresAt:e.expires_at?new Date(Date.parse(e.expires_at)):null,scopes:e.scopes,missingScopes:e.missing_scopes}}},85022,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeGetAccessTokenResponse=r.serializeGetAccessTokenOptions=void 0;let i=e.r(24029);r.serializeGetAccessTokenOptions=function(e){return{user_id:e.userId,organization_id:e.organizationId}},r.deserializeGetAccessTokenResponse=function(e){return e.active?{active:!0,accessToken:(0,i.deserializeAccessToken)(e.access_token)}:{active:!1,error:e.error}}},49479,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})},n=e.e&&e.e.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};Object.defineProperty(r,"__esModule",{value:!0}),r.Pipes=void 0;let o=e.r(85022);r.Pipes=class{constructor(e){this.workos=e}getAccessToken(e){var{provider:t}=e,r=n(e,["provider"]);return i(this,void 0,void 0,function*(){let{data:e}=yield this.workos.post(`data-integrations/${t}/token`,(0,o.serializeGetAccessTokenOptions)(r));return(0,o.deserializeGetAccessTokenResponse)(e)})}}},92706,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.Portal=void 0,r.Portal=class{constructor(e){this.workos=e}generateLink({intent:e,organization:t,returnUrl:r,successUrl:n}){return i(this,void 0,void 0,function*(){let{data:i}=yield this.workos.post("/portal/generate_link",{intent:e,organization:t,return_url:r,success_url:n});return i})}}},55164,(e,t,r)=>{"use strict";t.exports=TypeError},50331,(e,t,r)=>{t.exports=e.r(24361).inspect},88895,(e,t,r)=>{var i="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=i&&n&&"function"==typeof n.get?n.get:null,a=i&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&c&&"function"==typeof c.get?c.get:null,u=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,y=Object.prototype.toString,g=Function.prototype.toString,m=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,_=String.prototype.toLowerCase,S=RegExp.prototype.test,E=Array.prototype.concat,O=Array.prototype.join,A=Array.prototype.slice,P=Math.floor,k="function"==typeof BigInt?BigInt.prototype.valueOf:null,x=Object.getOwnPropertySymbols,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,j="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===C?"object":"symbol")?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,T=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function B(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-P(-e):P(e);if(i!==e){var n=String(i),o=v.call(t,n.length+1);return b.call(n,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var M=e.r(50331),N=M.custom,D=$(N)?N:null,K={__proto__:null,double:'"',single:"'"},U={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function L(e,t,r){var i=K[r.quoteStyle||t];return i+e+i}function z(e){return!j||!("object"==typeof e&&(j in e||void 0!==e[j]))}function H(e){return"[object Array]"===F(e)&&z(e)}function W(e){return"[object RegExp]"===F(e)&&z(e)}function $(e){if(C)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!R)return!1;try{return R.call(e),!0}catch(e){}return!1}t.exports=function t(r,i,n,s){var c,y,w,S,P,x=i||{};if(V(x,"quoteStyle")&&!V(K,x.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(V(x,"maxStringLength")&&("number"==typeof x.maxStringLength?x.maxStringLength<0&&x.maxStringLength!==1/0:null!==x.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var N=!V(x,"customInspect")||x.customInspect;if("boolean"!=typeof N&&"symbol"!==N)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(x,"indent")&&null!==x.indent&&"	"!==x.indent&&!(parseInt(x.indent,10)===x.indent&&x.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(x,"numericSeparator")&&"boolean"!=typeof x.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var J=x.numericSeparator;if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return function e(t,r){if(t.length>r.maxStringLength){var i=t.length-r.maxStringLength;return e(v.call(t,0,r.maxStringLength),r)+("... "+i)+" more character"+(i>1?"s":"")}var n=U[r.quoteStyle||"single"];return n.lastIndex=0,L(b.call(b.call(t,n,"\\$1"),/[\x00-\x1f]/g,q),"single",r)}(r,x);if("number"==typeof r){if(0===r)return 1/0/r>0?"0":"-0";var et=String(r);return J?B(r,et):et}if("bigint"==typeof r){var er=String(r)+"n";return J?B(r,er):er}var ei=void 0===x.depth?5:x.depth;if(void 0===n&&(n=0),n>=ei&&ei>0&&"object"==typeof r)return H(r)?"[Array]":"[Object]";var en=function(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=O.call(Array(e.indent+1)," ")}return{base:r,prev:O.call(Array(t+1),r)}}(x,n);if(void 0===s)s=[];else if(G(s,r)>=0)return"[Circular]";function eo(e,r,i){if(r&&(s=A.call(s)).push(r),i){var o={depth:x.depth};return V(x,"quoteStyle")&&(o.quoteStyle=x.quoteStyle),t(e,o,n+1,s)}return t(e,x,n+1,s)}if("function"==typeof r&&!W(r)){var ea=function(e){if(e.name)return e.name;var t=m.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(r),es=ee(r,eo);return"[Function"+(ea?": "+ea:" (anonymous)")+"]"+(es.length>0?" { "+O.call(es,", ")+" }":"")}if($(r)){var ec=C?b.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):R.call(r);return"object"!=typeof r||C?ec:X(ec)}if((el=r)&&"object"==typeof el&&("u">typeof HTMLElement&&el instanceof HTMLElement||"string"==typeof el.nodeName&&"function"==typeof el.getAttribute)){for(var el,eu,ed="<"+_.call(String(r.nodeName)),ep=r.attributes||[],eh=0;eh<ep.length;eh++){ed+=" "+ep[eh].name+"="+L((eu=ep[eh].value,b.call(String(eu),/"/g,"&quot;")),"double",x)}return ed+=">",r.childNodes&&r.childNodes.length&&(ed+="..."),ed+="</"+_.call(String(r.nodeName))+">"}if(H(r)){if(0===r.length)return"[]";var ef=ee(r,eo);return en&&!function(e){for(var t=0;t<e.length;t++)if(G(e[t],"\n")>=0)return!1;return!0}(ef)?"["+Z(ef,en)+"]":"[ "+O.call(ef,", ")+" ]"}if("[object Error]"===F(c=r)&&z(c)){var ey=ee(r,eo);return"cause"in Error.prototype||!("cause"in r)||I.call(r,"cause")?0===ey.length?"["+String(r)+"]":"{ ["+String(r)+"] "+O.call(ey,", ")+" }":"{ ["+String(r)+"] "+O.call(E.call("[cause]: "+eo(r.cause),ey),", ")+" }"}if("object"==typeof r&&N){if(D&&"function"==typeof r[D]&&M)return M(r,{depth:ei-n});else if("symbol"!==N&&"function"==typeof r.inspect)return r.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{l.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(r)){var eg=[];return a&&a.call(r,function(e,t){eg.push(eo(t,r,!0)+" => "+eo(e,r))}),Q("Map",o.call(r),eg,en)}if(function(e){if(!l||!e||"object"!=typeof e)return!1;try{l.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(r)){var em=[];return u&&u.call(r,function(e){em.push(eo(e,r))}),Q("Set",l.call(r),em,en)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(r))return Y("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(r))return Y("WeakSet");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{return h.call(e),!0}catch(e){}return!1}(r))return Y("WeakRef");if("[object Number]"===F(y=r)&&z(y))return X(eo(Number(r)));if(function(e){if(!e||"object"!=typeof e||!k)return!1;try{return k.call(e),!0}catch(e){}return!1}(r))return X(eo(k.call(r)));if("[object Boolean]"===F(w=r)&&z(w))return X(f.call(r));if("[object String]"===F(S=r)&&z(S))return X(eo(String(r)));if("u">typeof globalThis&&r===globalThis||r===e.g)return"{ [object globalThis] }";if(!("[object Date]"===F(P=r)&&z(P))&&!W(r)){var ev=ee(r,eo),eb=T?T(r)===Object.prototype:r instanceof Object||r.constructor===Object,ew=r instanceof Object?"":"null prototype",e_=!eb&&j&&Object(r)===r&&j in r?v.call(F(r),8,-1):ew?"Object":"",eS=(eb||"function"!=typeof r.constructor?"":r.constructor.name?r.constructor.name+" ":"")+(e_||ew?"["+O.call(E.call([],e_||[],ew||[]),": ")+"] ":"");return 0===ev.length?eS+"{}":en?eS+"{"+Z(ev,en)+"}":eS+"{ "+O.call(ev,", ")+" }"}return String(r)};var J=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return J.call(e,t)}function F(e){return y.call(e)}function G(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}function q(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function X(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function Q(e,t,r,i){return e+" ("+t+") {"+(i?Z(r,i):O.call(r,", "))+"}"}function Z(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+O.call(e,","+r)+"\n"+t.prev}function ee(e,t){var r,i=H(e),n=[];if(i){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=V(e,o)?t(e[o],e):""}var a="function"==typeof x?x(e):[];if(C){r={};for(var s=0;s<a.length;s++)r["$"+a[s]]=a[s]}for(var c in e)if(V(e,c)&&(!i||String(Number(c))!==c||!(c<e.length)))if(C&&r["$"+c]instanceof Symbol)continue;else S.call(/[^\w$]/,c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e));if("function"==typeof x)for(var l=0;l<a.length;l++)I.call(e,a[l])&&n.push("["+t(a[l])+"]: "+t(e[a[l]],e));return n}},29586,(e,t,r)=>{"use strict";var i=e.r(88895),n=e.r(55164),o=function(e,t,r){for(var i,n=e;null!=(i=n.next);n=i)if(i.key===t)return n.next=i.next,r||(i.next=e.next,e.next=i),i},a=function(e,t){if(e){var r=o(e,t);return r&&r.value}},s=function(e,t,r){var i=o(e,t);i?i.value=r:e.next={key:t,next:e.next,value:r}},c=function(e,t){if(e)return o(e,t,!0)};t.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new n("Side channel does not contain "+i(e))},delete:function(t){var r=e&&e.next,i=c(e,t);return i&&r&&r===i&&(e=void 0),!!i},get:function(t){return a(e,t)},has:function(t){var r;return!!(r=e)&&!!o(r,t)},set:function(t,r){e||(e={next:void 0}),s(e,t,r)}};return t}},72187,(e,t,r)=>{"use strict";t.exports=Object},87157,(e,t,r)=>{"use strict";t.exports=Error},95524,(e,t,r)=>{"use strict";t.exports=EvalError},40306,(e,t,r)=>{"use strict";t.exports=RangeError},76123,(e,t,r)=>{"use strict";t.exports=ReferenceError},81995,(e,t,r)=>{"use strict";t.exports=SyntaxError},85587,(e,t,r)=>{"use strict";t.exports=URIError},88478,(e,t,r)=>{"use strict";t.exports=Math.abs},28685,(e,t,r)=>{"use strict";t.exports=Math.floor},61498,(e,t,r)=>{"use strict";t.exports=Math.max},72555,(e,t,r)=>{"use strict";t.exports=Math.min},48782,(e,t,r)=>{"use strict";t.exports=Math.pow},73534,(e,t,r)=>{"use strict";t.exports=Math.round},47385,(e,t,r)=>{"use strict";t.exports=Number.isNaN||function(e){return e!=e}},33393,(e,t,r)=>{"use strict";var i=e.r(47385);t.exports=function(e){return i(e)||0===e?e:e<0?-1:1}},9252,(e,t,r)=>{"use strict";t.exports=Object.getOwnPropertyDescriptor},67244,(e,t,r)=>{"use strict";var i=e.r(9252);if(i)try{i([],"length")}catch(e){i=null}t.exports=i},50797,(e,t,r)=>{"use strict";var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch(e){i=!1}t.exports=i},72666,(e,t,r)=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var i in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},703,(e,t,r)=>{"use strict";var i="u">typeof Symbol&&Symbol,n=e.r(72666);t.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&n()}},90531,(e,t,r)=>{"use strict";t.exports="u">typeof Reflect&&Reflect.getPrototypeOf||null},4955,(e,t,r)=>{"use strict";t.exports=e.r(72187).getPrototypeOf||null},6938,(e,t,r)=>{"use strict";var i=Object.prototype.toString,n=Math.max,o=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var n=0;n<t.length;n+=1)r[n+e.length]=t[n];return r},a=function(e,t){for(var r=[],i=t||0,n=0;i<e.length;i+=1,n+=1)r[n]=e[i];return r},s=function(e,t){for(var r="",i=0;i<e.length;i+=1)r+=e[i],i+1<e.length&&(r+=t);return r};t.exports=function(e){var t,r=this;if("function"!=typeof r||"[object Function]"!==i.apply(r))throw TypeError("Function.prototype.bind called on incompatible "+r);for(var c=a(arguments,1),l=n(0,r.length-c.length),u=[],d=0;d<l;d++)u[d]="$"+d;if(t=Function("binder","return function ("+s(u,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof t){var i=r.apply(this,o(c,arguments));return Object(i)===i?i:this}return r.apply(e,o(c,arguments))}),r.prototype){var p=function(){};p.prototype=r.prototype,t.prototype=new p,p.prototype=null}return t}},89077,(e,t,r)=>{"use strict";var i=e.r(6938);t.exports=Function.prototype.bind||i},39150,(e,t,r)=>{"use strict";t.exports=Function.prototype.call},48948,(e,t,r)=>{"use strict";t.exports=Function.prototype.apply},42998,(e,t,r)=>{"use strict";t.exports="u">typeof Reflect&&Reflect&&Reflect.apply},55315,(e,t,r)=>{"use strict";var i=e.r(89077),n=e.r(48948),o=e.r(39150);t.exports=e.r(42998)||i.call(o,n)},48204,(e,t,r)=>{"use strict";var i=e.r(89077),n=e.r(55164),o=e.r(39150),a=e.r(55315);t.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new n("a function is required");return a(i,o,e)}},94398,(e,t,r)=>{"use strict";var i,n=e.r(48204),o=e.r(67244);try{i=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!!i&&o&&o(Object.prototype,"__proto__"),s=Object,c=s.getPrototypeOf;t.exports=a&&"function"==typeof a.get?n([a.get]):"function"==typeof c&&function(e){return c(null==e?e:s(e))}},63503,(e,t,r)=>{"use strict";var i=e.r(90531),n=e.r(4955),o=e.r(94398);t.exports=i?function(e){return i(e)}:n?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return n(e)}:o?function(e){return o(e)}:null},69841,(e,t,r)=>{"use strict";var i=Function.prototype.call,n=Object.prototype.hasOwnProperty;t.exports=e.r(89077).call(i,n)},21026,(e,t,r)=>{"use strict";var i=e.r(72187),n=e.r(87157),o=e.r(95524),a=e.r(40306),s=e.r(76123),c=e.r(81995),l=e.r(55164),u=e.r(85587),d=e.r(88478),p=e.r(28685),h=e.r(61498),f=e.r(72555),y=e.r(48782),g=e.r(73534),m=e.r(33393),v=Function,b=function(e){try{return v('"use strict"; return ('+e+").constructor;")()}catch(e){}},w=e.r(67244),_=e.r(50797),S=function(){throw new l},E=w?function(){try{return arguments.callee,S}catch(e){try{return w(arguments,"callee").get}catch(e){return S}}}():S,O=e.r(703)(),A=e.r(63503),P=e.r(4955),k=e.r(90531),x=e.r(48948),R=e.r(39150),C={},j="u">typeof Uint8Array&&A?A(Uint8Array):void 0,I={__proto__:null,"%AggregateError%":"u"<typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"u"<typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":O&&A?A([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":C,"%AsyncGenerator%":C,"%AsyncGeneratorFunction%":C,"%AsyncIteratorPrototype%":C,"%Atomics%":"u"<typeof Atomics?void 0:Atomics,"%BigInt%":"u"<typeof BigInt?void 0:BigInt,"%BigInt64Array%":"u"<typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"u"<typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"u"<typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":o,"%Float16Array%":"u"<typeof Float16Array?void 0:Float16Array,"%Float32Array%":"u"<typeof Float32Array?void 0:Float32Array,"%Float64Array%":"u"<typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"u"<typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":C,"%Int8Array%":"u"<typeof Int8Array?void 0:Int8Array,"%Int16Array%":"u"<typeof Int16Array?void 0:Int16Array,"%Int32Array%":"u"<typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":O&&A?A(A([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"u"<typeof Map?void 0:Map,"%MapIteratorPrototype%":"u">typeof Map&&O&&A?A(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"u"<typeof Promise?void 0:Promise,"%Proxy%":"u"<typeof Proxy?void 0:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"u"<typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"u"<typeof Set?void 0:Set,"%SetIteratorPrototype%":"u">typeof Set&&O&&A?A(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"u"<typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":O&&A?A(""[Symbol.iterator]()):void 0,"%Symbol%":O?Symbol:void 0,"%SyntaxError%":c,"%ThrowTypeError%":E,"%TypedArray%":j,"%TypeError%":l,"%Uint8Array%":"u"<typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"u"<typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"u"<typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"u"<typeof Uint32Array?void 0:Uint32Array,"%URIError%":u,"%WeakMap%":"u"<typeof WeakMap?void 0:WeakMap,"%WeakRef%":"u"<typeof WeakRef?void 0:WeakRef,"%WeakSet%":"u"<typeof WeakSet?void 0:WeakSet,"%Function.prototype.call%":R,"%Function.prototype.apply%":x,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":P,"%Math.abs%":d,"%Math.floor%":p,"%Math.max%":h,"%Math.min%":f,"%Math.pow%":y,"%Math.round%":g,"%Math.sign%":m,"%Reflect.getPrototypeOf%":k};if(A)try{null.error}catch(e){var T=A(A(e));I["%Error.prototype%"]=T}var B=function e(t){var r;if("%AsyncFunction%"===t)r=b("async function () {}");else if("%GeneratorFunction%"===t)r=b("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=b("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&A&&(r=A(n.prototype))}return I[t]=r,r},M={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},N=e.r(89077),D=e.r(69841),K=N.call(R,Array.prototype.concat),U=N.call(x,Array.prototype.splice),L=N.call(R,String.prototype.replace),z=N.call(R,String.prototype.slice),H=N.call(R,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$=/\\(\\)?/g,J=function(e){var t=z(e,0,1),r=z(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var i=[];return L(e,W,function(e,t,r,n){i[i.length]=r?L(n,$,"$1"):t||e}),i},V=function(e,t){var r,i=e;if(D(M,i)&&(i="%"+(r=M[i])[0]+"%"),D(I,i)){var n=I[i];if(n===C&&(n=B(i)),void 0===n&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:n}}throw new c("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===H(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=J(e),i=r.length>0?r[0]:"",n=V("%"+i+"%",t),o=n.name,a=n.value,s=!1,u=n.alias;u&&(i=u[0],U(r,K([0,1],u)));for(var d=1,p=!0;d<r.length;d+=1){var h=r[d],f=z(h,0,1),y=z(h,-1);if(('"'===f||"'"===f||"`"===f||'"'===y||"'"===y||"`"===y)&&f!==y)throw new c("property names with quotes must have matching quotes");if("constructor"!==h&&p||(s=!0),i+="."+h,D(I,o="%"+i+"%"))a=I[o];else if(null!=a){if(!(h in a)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(w&&d+1>=r.length){var g=w(a,h);a=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[h]}else p=D(a,h),a=a[h];p&&!s&&(I[o]=a)}}return a}},75530,(e,t,r)=>{"use strict";var i=e.r(21026),n=e.r(48204),o=n([i("%String.prototype.indexOf%")]);t.exports=function(e,t){var r=i(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?n([r]):r}},52379,(e,t,r)=>{"use strict";var i=e.r(21026),n=e.r(75530),o=e.r(88895),a=e.r(55164),s=i("%Map%",!0),c=n("Map.prototype.get",!0),l=n("Map.prototype.set",!0),u=n("Map.prototype.has",!0),d=n("Map.prototype.delete",!0),p=n("Map.prototype.size",!0);t.exports=!!s&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(t){if(e){var r=d(e,t);return 0===p(e)&&(e=void 0),r}return!1},get:function(t){if(e)return c(e,t)},has:function(t){return!!e&&u(e,t)},set:function(t,r){e||(e=new s),l(e,t,r)}};return t}},33187,(e,t,r)=>{"use strict";var i=e.r(21026),n=e.r(75530),o=e.r(88895),a=e.r(52379),s=e.r(55164),c=i("%WeakMap%",!0),l=n("WeakMap.prototype.get",!0),u=n("WeakMap.prototype.set",!0),d=n("WeakMap.prototype.has",!0),p=n("WeakMap.prototype.delete",!0);t.exports=c?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(r){if(c&&r&&("object"==typeof r||"function"==typeof r)){if(e)return p(e,r)}else if(a&&t)return t.delete(r);return!1},get:function(r){return c&&r&&("object"==typeof r||"function"==typeof r)&&e?l(e,r):t&&t.get(r)},has:function(r){return c&&r&&("object"==typeof r||"function"==typeof r)&&e?d(e,r):!!t&&t.has(r)},set:function(r,i){c&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new c),u(e,r,i)):a&&(t||(t=a()),t.set(r,i))}};return r}:a},34836,(e,t,r)=>{"use strict";var i=e.r(55164),n=e.r(88895),o=e.r(29586),a=e.r(52379),s=e.r(33187)||a||o;t.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+n(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=s()),e.set(t,r)}};return t}},24532,(e,t,r)=>{"use strict";var i=String.prototype.replace,n=/%20/g,o="RFC3986";t.exports={default:o,formatters:{RFC1738:function(e){return i.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:o}},4081,(e,t,r)=>{"use strict";var i=e.r(24532),n=e.r(34836),o=Object.prototype.hasOwnProperty,a=Array.isArray,s=n(),c=function(e,t){return s.set(e,t),e},l=function(e){return s.has(e)},u=function(e){return s.get(e)},d=function(e,t){s.set(e,t)},p=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),h=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(a(r)){for(var i=[],n=0;n<r.length;++n)void 0!==r[n]&&i.push(r[n]);t.obj[t.prop]=i}}},f=function(e,t){for(var r=t&&t.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)void 0!==e[i]&&(r[i]=e[i]);return r};t.exports={arrayToObject:f,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t,r,i){if(l(e)){var n=u(e)+1;return e[n]=t,d(e,n),e}var o=[].concat(e,t);return o.length>r?c(f(o,{plainObjects:i}),o.length-1):o},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var n=t[i],o=n.obj[n.prop],a=Object.keys(o),s=0;s<a.length;++s){var c=a[s],l=o[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:o,prop:c}),r.push(l))}return h(t),e},decode:function(e,t,r){var i=e.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,r,n,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",c=0;c<a.length;c+=1024){for(var l=a.length>=1024?a.slice(c,c+1024):a,u=[],d=0;d<l.length;++d){var h=l.charCodeAt(d);if(45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||o===i.RFC1738&&(40===h||41===h)){u[u.length]=l.charAt(d);continue}if(h<128){u[u.length]=p[h];continue}if(h<2048){u[u.length]=p[192|h>>6]+p[128|63&h];continue}if(h<55296||h>=57344){u[u.length]=p[224|h>>12]+p[128|h>>6&63]+p[128|63&h];continue}d+=1,h=65536+((1023&h)<<10|1023&l.charCodeAt(d)),u[u.length]=p[240|h>>18]+p[128|h>>12&63]+p[128|h>>6&63]+p[128|63&h]}s+=u.join("")}return s},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isOverflow:l,isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},merge:function e(t,r,i){if(!r)return t;if("object"!=typeof r&&"function"!=typeof r){if(a(t))t.push(r);else if(!t||"object"!=typeof t)return[t,r];else if(l(t)){var n=u(t)+1;t[n]=r,d(t,n)}else(i&&(i.plainObjects||i.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0);return t}if(!t||"object"!=typeof t){if(l(r)){for(var s=Object.keys(r),p=i&&i.plainObjects?{__proto__:null,0:t}:{0:t},h=0;h<s.length;h++)p[parseInt(s[h],10)+1]=r[s[h]];return c(p,u(r)+1)}return[t].concat(r)}var y=t;return(a(t)&&!a(r)&&(y=f(t,i)),a(t)&&a(r))?(r.forEach(function(r,n){if(o.call(t,n)){var a=t[n];a&&"object"==typeof a&&r&&"object"==typeof r?t[n]=e(a,r,i):t.push(r)}else t[n]=r}),t):Object.keys(r).reduce(function(t,n){var a=r[n];return o.call(t,n)?t[n]=e(t[n],a,i):t[n]=a,t},y)}}},37430,(e,t,r)=>{"use strict";var i=e.r(34836),n=e.r(4081),o=e.r(24532),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,l=Array.prototype.push,u=function(e,t){l.apply(e,c(t)?t:[t])},d=Date.prototype.toISOString,p=o.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:n.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},f={},y=function e(t,r,o,a,s,l,d,p,y,g,m,v,b,w,_,S,E,O){for(var A,P,k=t,x=O,R=0,C=!1;void 0!==(x=x.get(f))&&!C;){var j=x.get(t);if(R+=1,void 0!==j)if(j===R)throw RangeError("Cyclic object value");else C=!0;void 0===x.get(f)&&(R=0)}if("function"==typeof g?k=g(r,k):k instanceof Date?k=b(k):"comma"===o&&c(k)&&(k=n.maybeMap(k,function(e){return e instanceof Date?b(e):e})),null===k){if(l)return y&&!S?y(r,h.encoder,E,"key",w):r;k=""}if("string"==typeof(A=k)||"number"==typeof A||"boolean"==typeof A||"symbol"==typeof A||"bigint"==typeof A||n.isBuffer(k))return y?[_(S?r:y(r,h.encoder,E,"key",w))+"="+_(y(k,h.encoder,E,"value",w))]:[_(r)+"="+_(String(k))];var I=[];if(void 0===k)return I;if("comma"===o&&c(k))S&&y&&(k=n.maybeMap(k,y)),P=[{value:k.length>0?k.join(",")||null:void 0}];else if(c(g))P=g;else{var T=Object.keys(k);P=m?T.sort(m):T}var B=p?String(r).replace(/\./g,"%2E"):String(r),M=a&&c(k)&&1===k.length?B+"[]":B;if(s&&c(k)&&0===k.length)return M+"[]";for(var N=0;N<P.length;++N){var D=P[N],K="object"==typeof D&&D&&void 0!==D.value?D.value:k[D];if(!d||null!==K){var U=v&&p?String(D).replace(/\./g,"%2E"):String(D),L=c(k)?"function"==typeof o?o(M,U):M:M+(v?"."+U:"["+U+"]");O.set(t,R);var z=i();z.set(f,O),u(I,e(K,L,o,a,s,l,d,p,"comma"===o&&S&&c(k)?null:y,g,m,v,b,w,_,S,E,z))}}return I},g=function(e){if(!e)return h;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t,r=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw TypeError("Unknown format option provided.");i=e.format}var n=o.formatters[i],l=h.filter;if(("function"==typeof e.filter||c(e.filter))&&(l=e.filter),t=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":h.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var u=void 0===e.allowDots?!0===e.encodeDotInKeys||h.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:h.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:l,format:i,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}};t.exports=function(e,t){var r,n=e,o=g(t);"function"==typeof o.filter?n=(0,o.filter)("",n):c(o.filter)&&(r=o.filter);var a=[];if("object"!=typeof n||null===n)return"";var l=s[o.arrayFormat],d="comma"===l&&o.commaRoundTrip;r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);for(var p=i(),h=0;h<r.length;++h){var f=r[h],m=n[f];o.skipNulls&&null===m||u(a,y(m,f,l,d,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,p))}var v=a.join(o.delimiter),b=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),v.length>0?b+v:""}},65709,(e,t,r)=>{"use strict";var i=e.r(4081),n=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(e,t,r){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},c=function(e,t){var r={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var l=t.parameterLimit===1/0?void 0:t.parameterLimit,u=c.split(t.delimiter,t.throwOnLimitExceeded?l+1:l);if(t.throwOnLimitExceeded&&u.length>l)throw RangeError("Parameter limit exceeded. Only "+l+" parameter"+(1===l?"":"s")+" allowed.");var d=-1,p=t.charset;if(t.charsetSentinel)for(h=0;h<u.length;++h)0===u[h].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[h]?p="utf-8":"utf8=%26%2310003%3B"===u[h]&&(p="iso-8859-1"),d=h,h=u.length);for(h=0;h<u.length;++h)if(h!==d){var h,f,y,g=u[h],m=g.indexOf("]="),v=-1===m?g.indexOf("="):m+1;if(-1===v?(f=t.decoder(g,a.decoder,p,"key"),y=t.strictNullHandling?null:""):null!==(f=t.decoder(g.slice(0,v),a.decoder,p,"key"))&&(y=i.maybeMap(s(g.slice(v+1),t,o(r[f])?r[f].length:0),function(e){return t.decoder(e,a.decoder,p,"value")})),y&&t.interpretNumericEntities&&"iso-8859-1"===p&&(y=String(y).replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),g.indexOf("[]=")>-1&&(y=o(y)?[y]:y),null!==f){var b=n.call(r,f);b&&"combine"===t.duplicates?r[f]=i.combine(r[f],y,t.arrayLimit,t.plainObjects):b&&"last"!==t.duplicates||(r[f]=y)}}return r},l=function(e,t,r,n){var o=0;if(e.length>0&&"[]"===e[e.length-1]){var a=e.slice(0,-1).join("");o=Array.isArray(t)&&t[a]?t[a].length:0}for(var c=n?t:s(t,r,o),l=e.length-1;l>=0;--l){var u,d=e[l];if("[]"===d&&r.parseArrays)u=i.isOverflow(c)?c:r.allowEmptyArrays&&(""===c||r.strictNullHandling&&null===c)?[]:i.combine([],c,r.arrayLimit,r.plainObjects);else{u=r.plainObjects?{__proto__:null}:{};var p="["===d.charAt(0)&&"]"===d.charAt(d.length-1)?d.slice(1,-1):d,h=r.decodeDotInKeys?p.replace(/%2E/g,"."):p,f=parseInt(h,10);r.parseArrays||""!==h?!isNaN(f)&&d!==h&&String(f)===h&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(u=[])[f]=c:"__proto__"!==h&&(u[h]=c):u={0:c}}c=u}return c},u=function(e,t){var r=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(t.depth<=0){if(!t.plainObjects&&n.call(Object.prototype,r)&&!t.allowPrototypes)return;return[r]}var i=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(r),a=o?r.slice(0,o.index):r,s=[];if(a){if(!t.plainObjects&&n.call(Object.prototype,a)&&!t.allowPrototypes)return;s.push(a)}for(var c=0;null!==(o=i.exec(r))&&c<t.depth;){c+=1;var l=o[1].slice(1,-1);if(!t.plainObjects&&n.call(Object.prototype,l)&&!t.allowPrototypes)return;s.push(o[1])}if(o){if(!0===t.strictDepth)throw RangeError("Input depth exceeded depth option of "+t.depth+" and strictDepth is true");s.push("["+r.slice(o.index)+"]")}return s},d=function(e,t,r,i){if(e){var n=u(e,r);if(n)return l(n,t,r,i)}},p=function(e){if(!e)return a;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?a.charset:e.charset,r=void 0===e.duplicates?a.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}};t.exports=function(e,t){var r=p(t);if(""===e||null==e)return r.plainObjects?{__proto__:null}:{};for(var n="string"==typeof e?c(e,r):e,o=r.plainObjects?{__proto__:null}:{},a=Object.keys(n),s=0;s<a.length;++s){var l=a[s],u=d(l,n[l],r,"string"==typeof e);o=i.merge(o,u,r)}return!0===r.allowSparse?o:i.compact(o)}},96107,(e,t,r)=>{"use strict";var i=e.r(37430),n=e.r(65709);t.exports={formats:e.r(24532),parse:n,stringify:i}},13773,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})},n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.SSO=void 0;let o=n(e.r(96107)),a=e.r(92357),s=e.r(43659),c=e.r(86560);r.SSO=class{constructor(e){this.workos=e}listConnections(e){return i(this,void 0,void 0,function*(){return new s.AutoPaginatable((yield(0,a.fetchAndDeserialize)(this.workos,"/connections",c.deserializeConnection,e?(0,c.serializeListConnectionsOptions)(e):void 0)),e=>(0,a.fetchAndDeserialize)(this.workos,"/connections",c.deserializeConnection,e),e?(0,c.serializeListConnectionsOptions)(e):void 0)})}deleteConnection(e){return i(this,void 0,void 0,function*(){yield this.workos.delete(`/connections/${e}`)})}getAuthorizationUrl({connection:e,clientId:t,domain:r,domainHint:i,loginHint:n,organization:a,provider:s,providerQueryParams:c,providerScopes:l,redirectUri:u,state:d}){let p;if(!r&&!s&&!e&&!a)throw Error("Incomplete arguments. Need to specify either a 'connection', 'organization', 'domain', or 'provider'.");r&&this.workos.emitWarning("The `domain` parameter for `getAuthorizationURL` is deprecated. Please use `organization` instead.");let h=(p={connection:e,organization:a,domain:r,domain_hint:i,login_hint:n,provider:s,provider_query_params:c,provider_scopes:l,client_id:t,redirect_uri:u,response_type:"code",state:d},o.default.stringify(p,{arrayFormat:"repeat",sort:(e,t)=>e.localeCompare(t),format:"RFC1738"}));return`${this.workos.baseURL}/sso/authorize?${h}`}getConnection(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/connections/${e}`);return(0,c.deserializeConnection)(t)})}getProfileAndToken({code:e,clientId:t}){return i(this,void 0,void 0,function*(){let r=new URLSearchParams({client_id:t,client_secret:this.workos.key,grant_type:"authorization_code",code:e}),{data:i}=yield this.workos.post("/sso/token",r);return(0,c.deserializeProfileAndToken)(i)})}getProfile({accessToken:e}){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get("/sso/profile",{accessToken:e});return(0,c.deserializeProfile)(t)})}}},70998,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeChallenge=void 0,r.deserializeChallenge=e=>({object:e.object,id:e.id,createdAt:e.created_at,updatedAt:e.updated_at,expiresAt:e.expires_at,code:e.code,authenticationFactorId:e.authentication_factor_id})},46284,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeSms=void 0,r.deserializeSms=e=>({phoneNumber:e.phone_number})},19392,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeFactorWithSecrets=r.deserializeFactor=void 0;let i=e.r(46284),n=e.r(16258);r.deserializeFactor=e=>Object.assign(Object.assign({object:e.object,id:e.id,createdAt:e.created_at,updatedAt:e.updated_at,type:e.type},e.sms?{sms:(0,i.deserializeSms)(e.sms)}:{}),e.totp?{totp:(0,n.deserializeTotp)(e.totp)}:{}),r.deserializeFactorWithSecrets=e=>Object.assign(Object.assign({object:e.object,id:e.id,createdAt:e.created_at,updatedAt:e.updated_at,type:e.type},e.sms?{sms:(0,i.deserializeSms)(e.sms)}:{}),e.totp?{totp:(0,n.deserializeTotpWithSecrets)(e.totp)}:{})},94612,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeVerifyResponse=void 0;let i=e.r(70998);r.deserializeVerifyResponse=e=>({challenge:(0,i.deserializeChallenge)(e.challenge),valid:e.valid})},52991,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(70998),r),n(e.r(19392),r),n(e.r(94612),r)},64125,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.Mfa=void 0;let n=e.r(52991);r.Mfa=class{constructor(e){this.workos=e}deleteFactor(e){return i(this,void 0,void 0,function*(){yield this.workos.delete(`/auth/factors/${e}`)})}getFactor(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/auth/factors/${e}`);return(0,n.deserializeFactor)(t)})}enrollFactor(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/auth/factors/enroll",Object.assign({type:e.type},(()=>{switch(e.type){case"sms":return{phone_number:e.phoneNumber};case"totp":return{totp_issuer:e.issuer,totp_user:e.user};default:return{}}})()));return(0,n.deserializeFactorWithSecrets)(t)})}challengeFactor(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post(`/auth/factors/${e.authenticationFactorId}/challenge`,{sms_template:"smsTemplate"in e?e.smsTemplate:void 0});return(0,n.deserializeChallenge)(t)})}verifyFactor(e){return i(this,void 0,void 0,function*(){return this.verifyChallenge(e)})}verifyChallenge(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post(`/auth/challenges/${e.authenticationChallengeId}/verify`,{code:e.code});return(0,n.deserializeVerifyResponse)(t)})}}},40331,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeAuditLogExport=void 0,r.deserializeAuditLogExport=e=>({object:e.object,id:e.id,state:e.state,url:e.url,createdAt:e.created_at,updatedAt:e.updated_at})},86668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeAuditLogExportOptions=void 0,r.serializeAuditLogExportOptions=e=>({actions:e.actions,actors:e.actors,actor_names:e.actorNames,actor_ids:e.actorIds,organization_id:e.organizationId,range_end:e.rangeEnd.toISOString(),range_start:e.rangeStart.toISOString(),targets:e.targets})},1642,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeCreateAuditLogEventOptions=void 0,r.serializeCreateAuditLogEventOptions=e=>({action:e.action,version:e.version,occurred_at:e.occurredAt.toISOString(),actor:e.actor,targets:e.targets,context:{location:e.context.location,user_agent:e.context.userAgent},metadata:e.metadata})},19972,(e,t,r)=>{"use strict";function i(e){if(!e)return{};let t={};return Object.keys(e).forEach(r=>{t[r]={type:e[r]}}),t}Object.defineProperty(r,"__esModule",{value:!0}),r.serializeCreateAuditLogSchemaOptions=void 0,r.serializeCreateAuditLogSchemaOptions=e=>{var t;return{actor:{metadata:{type:"object",properties:i(null==(t=e.actor)?void 0:t.metadata)}},targets:e.targets.map(e=>({type:e.type,metadata:e.metadata?{type:"object",properties:i(e.metadata)}:void 0})),metadata:e.metadata?{type:"object",properties:i(e.metadata)}:void 0}}},66239,(e,t,r)=>{"use strict";function i(e){if(!e||!e.properties)return{};let t={};return Object.keys(e.properties).forEach(r=>{e.properties&&(t[r]=e.properties[r].type)}),t}Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeAuditLogSchema=void 0,r.deserializeAuditLogSchema=e=>{var t;return{object:e.object,version:e.version,targets:e.targets.map(e=>({type:e.type,metadata:e.metadata?i(e.metadata):void 0})),actor:{metadata:i(null==(t=e.actor)?void 0:t.metadata)},metadata:e.metadata?i(e.metadata):void 0,createdAt:e.created_at}}},30454,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(40331),r),n(e.r(86668),r),n(e.r(1642),r),n(e.r(19972),r),n(e.r(66239),r)},58265,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.AuditLogs=void 0;let n=e.r(30454);r.AuditLogs=class{constructor(e){this.workos=e}createEvent(e,t,r={}){return i(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},r),{idempotencyKey:r.idempotencyKey||`workos-node-${this.workos.getCryptoProvider().randomUUID()}`});yield this.workos.post("/audit_logs/events",{event:(0,n.serializeCreateAuditLogEventOptions)(t),organization_id:e},i)})}createExport(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/audit_logs/exports",(0,n.serializeAuditLogExportOptions)(e));return(0,n.deserializeAuditLogExport)(t)})}getExport(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/audit_logs/exports/${e}`);return(0,n.deserializeAuditLogExport)(t)})}createSchema(e,t={}){return i(this,void 0,void 0,function*(){let{data:r}=yield this.workos.post(`/audit_logs/actions/${e.action}/schemas`,(0,n.serializeCreateAuditLogSchemaOptions)(e),t);return(0,n.deserializeAuditLogSchema)(r)})}}},78732,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(66680);r.default=(e,t)=>(0,i.createHash)(e).update(t).digest()},87504,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.concatKdf=r.lengthAndInput=r.uint32be=r.uint64be=r.p2s=r.concat=r.decoder=r.encoder=void 0;let i=e.r(78732);function n(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let i of e)t.set(i,r),r+=i.length;return t}function o(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function a(e){let t=new Uint8Array(4);return o(t,e),t}r.encoder=new TextEncoder,r.decoder=new TextDecoder,r.concat=n,r.p2s=function(e,t){return n(r.encoder.encode(e),new Uint8Array([0]),t)},r.uint64be=function(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return o(r,t,0),o(r,e%0x100000000,4),r},r.uint32be=a,r.lengthAndInput=function(e){return n(a(e.length),e)},r.concatKdf=async function(e,t,r){let n=Math.ceil((t>>3)/32),o=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(a(t+1)),n.set(e,4),n.set(r,4+e.length),o.set(await (0,i.default)("sha256",n),32*t)}return o.slice(0,t>>3)}},43090,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decode=r.encode=r.encodeBase64=r.decodeBase64=void 0;let i=e.r(51615),n=e.r(87504);r.encode=e=>i.Buffer.from(e).toString("base64url"),r.decodeBase64=e=>new Uint8Array(i.Buffer.from(e,"base64")),r.encodeBase64=e=>i.Buffer.from(e).toString("base64"),r.decode=e=>{let t;return new Uint8Array(i.Buffer.from(((t=e)instanceof Uint8Array&&(t=n.decoder.decode(t)),t),"base64"))}},63801,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JWSSignatureVerificationFailed=r.JWKSTimeout=r.JWKSMultipleMatchingKeys=r.JWKSNoMatchingKey=r.JWKSInvalid=r.JWKInvalid=r.JWTInvalid=r.JWSInvalid=r.JWEInvalid=r.JWEDecryptionFailed=r.JOSENotSupported=r.JOSEAlgNotAllowed=r.JWTExpired=r.JWTClaimValidationFailed=r.JOSEError=void 0;class i extends Error{static get code(){return"ERR_JOSE_GENERIC"}code="ERR_JOSE_GENERIC";constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}r.JOSEError=i,r.JWTClaimValidationFailed=class extends i{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e),this.claim=r,this.reason=i,this.payload=t}},r.JWTExpired=class extends i{static get code(){return"ERR_JWT_EXPIRED"}code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e),this.claim=r,this.reason=i,this.payload=t}},r.JOSEAlgNotAllowed=class extends i{static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}code="ERR_JOSE_ALG_NOT_ALLOWED"},r.JOSENotSupported=class extends i{static get code(){return"ERR_JOSE_NOT_SUPPORTED"}code="ERR_JOSE_NOT_SUPPORTED"},r.JWEDecryptionFailed=class extends i{static get code(){return"ERR_JWE_DECRYPTION_FAILED"}code="ERR_JWE_DECRYPTION_FAILED";message="decryption operation failed"},r.JWEInvalid=class extends i{static get code(){return"ERR_JWE_INVALID"}code="ERR_JWE_INVALID"},r.JWSInvalid=class extends i{static get code(){return"ERR_JWS_INVALID"}code="ERR_JWS_INVALID"},r.JWTInvalid=class extends i{static get code(){return"ERR_JWT_INVALID"}code="ERR_JWT_INVALID"},r.JWKInvalid=class extends i{static get code(){return"ERR_JWK_INVALID"}code="ERR_JWK_INVALID"},r.JWKSInvalid=class extends i{static get code(){return"ERR_JWKS_INVALID"}code="ERR_JWKS_INVALID"},r.JWKSNoMatchingKey=class extends i{static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}code="ERR_JWKS_NO_MATCHING_KEY";message="no applicable key found in the JSON Web Key Set"};class n extends i{[Symbol.asyncIterator];static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";message="multiple matching keys found in the JSON Web Key Set"}r.JWKSMultipleMatchingKeys=n,r.JWKSTimeout=class extends i{static get code(){return"ERR_JWKS_TIMEOUT"}code="ERR_JWKS_TIMEOUT";message="request timed out"},r.JWSSignatureVerificationFailed=class extends i{static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";message="signature verification failed"}},94162,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e.r(66680);Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i.randomFillSync}})},46225,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bitLength=void 0;let i=e.r(63801),n=e.r(94162);function o(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new i.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}r.bitLength=o,r.default=e=>(0,n.default)(new Uint8Array(o(e)>>3))},80905,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(63801),n=e.r(46225);r.default=(e,t)=>{if(t.length<<3!==(0,n.bitLength)(e))throw new i.JWEInvalid("Invalid Initialization Vector length")}},64963,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(12057);r.default=e=>i.types.isKeyObject(e)},34554,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(63801),n=e.r(64963);r.default=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new i.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==r)throw new i.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}if((0,n.default)(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==r)throw new i.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")}},55837,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e.r(66680).timingSafeEqual},30257,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(66680),n=e.r(87504);r.default=function(e,t,r,o,a,s){let c=(0,n.concat)(e,t,r,(0,n.uint64be)(e.length<<3)),l=(0,i.createHmac)(`sha${o}`,a);return l.update(c),l.digest().slice(0,s>>3)}},62230,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isCryptoKey=void 0;let i=e.r(66680),n=e.r(12057);r.default=i.webcrypto,r.isCryptoKey=e=>n.types.isCryptoKey(e)},96121,(e,t,r)=>{"use strict";function i(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function n(e,t){return e.name===t}function o(e){return parseInt(e.name.slice(4),10)}function a(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}Object.defineProperty(r,"__esModule",{value:!0}),r.checkEncCryptoKey=r.checkSigCryptoKey=void 0,r.checkSigCryptoKey=function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!n(e.algorithm,"HMAC"))throw i("HMAC");let r=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==r)throw i(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!n(e.algorithm,"RSASSA-PKCS1-v1_5"))throw i("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==r)throw i(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!n(e.algorithm,"RSA-PSS"))throw i("RSA-PSS");let r=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==r)throw i(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw i("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!n(e.algorithm,"ECDSA"))throw i("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw i(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}a(e,r)},r.checkEncCryptoKey=function(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!n(e.algorithm,"AES-GCM"))throw i("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw i(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!n(e.algorithm,"AES-KW"))throw i("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw i(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw i("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!n(e.algorithm,"PBKDF2"))throw i("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!n(e.algorithm,"RSA-OAEP"))throw i("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(o(e.algorithm.hash)!==r)throw i(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}a(e,r)}},39989,(e,t,r)=>{"use strict";function i(e,t,...r){if(r.length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}Object.defineProperty(r,"__esModule",{value:!0}),r.withAlg=void 0,r.default=(e,...t)=>i("Key must be ",e,...t),r.withAlg=function(e,t,...r){return i(`Key for the ${e} algorithm must be `,t,...r)}},39804,(e,t,r)=>{"use strict";let i;Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(66680);r.default=e=>(i||=new Set((0,n.getCiphers)())).has(e)},18475,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.types=void 0;let i=e.r(62230),n=e.r(64963);r.default=e=>(0,n.default)(e)||(0,i.isCryptoKey)(e);let o=["KeyObject"];r.types=o,(globalThis.CryptoKey||i.default?.CryptoKey)&&o.push("CryptoKey")},64690,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(66680),n=e.r(80905),o=e.r(34554),a=e.r(87504),s=e.r(63801),c=e.r(55837),l=e.r(30257),u=e.r(62230),d=e.r(96121),p=e.r(64963),h=e.r(39989),f=e.r(39804),y=e.r(18475);r.default=(e,t,r,g,m,v)=>{let b;if((0,u.isCryptoKey)(t))(0,d.checkEncCryptoKey)(t,e,"decrypt"),b=i.KeyObject.from(t);else if(t instanceof Uint8Array||(0,p.default)(t))b=t;else throw TypeError((0,h.default)(t,...y.types,"Uint8Array"));if(!g)throw new s.JWEInvalid("JWE Initialization Vector missing");if(!m)throw new s.JWEInvalid("JWE Authentication Tag missing");switch((0,o.default)(e,b),(0,n.default)(e,g),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,n,o,u){let d,h,y=parseInt(e.slice(1,4),10);(0,p.default)(t)&&(t=t.export());let g=t.subarray(y>>3),m=t.subarray(0,y>>3),v=parseInt(e.slice(-3),10),b=`aes-${y}-cbc`;if(!(0,f.default)(b))throw new s.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let w=(0,l.default)(u,n,r,v,m,y);try{d=(0,c.default)(o,w)}catch{}if(!d)throw new s.JWEDecryptionFailed;try{let e=(0,i.createDecipheriv)(b,g,n);h=(0,a.concat)(e.update(r),e.final())}catch{}if(!h)throw new s.JWEDecryptionFailed;return h}(e,b,r,g,m,v);case"A128GCM":case"A192GCM":case"A256GCM":var w=b;let _=parseInt(e.slice(1,4),10),S=`aes-${_}-gcm`;if(!(0,f.default)(S))throw new s.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,i.createDecipheriv)(S,w,g,{authTagLength:16});e.setAuthTag(m),v.byteLength&&e.setAAD(v,{plaintextLength:r.length});let t=e.update(r);return e.final(),t}catch{throw new s.JWEDecryptionFailed}default:throw new s.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},38241,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0}},63271,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},38375,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unwrap=r.wrap=void 0;let i=e.r(51615),n=e.r(66680),o=e.r(63801),a=e.r(87504),s=e.r(62230),c=e.r(96121),l=e.r(64963),u=e.r(39989),d=e.r(39804),p=e.r(18475);function h(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function f(e,t,r){if((0,l.default)(e))return e;if(e instanceof Uint8Array)return(0,n.createSecretKey)(e);if((0,s.isCryptoKey)(e))return(0,c.checkEncCryptoKey)(e,t,r),n.KeyObject.from(e);throw TypeError((0,u.default)(e,...p.types,"Uint8Array"))}r.wrap=(e,t,r)=>{let s=parseInt(e.slice(1,4),10),c=`aes${s}-wrap`;if(!(0,d.default)(c))throw new o.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let l=f(t,e,"wrapKey");h(l,e);let u=(0,n.createCipheriv)(c,l,i.Buffer.alloc(8,166));return(0,a.concat)(u.update(r),u.final())},r.unwrap=(e,t,r)=>{let s=parseInt(e.slice(1,4),10),c=`aes${s}-wrap`;if(!(0,d.default)(c))throw new o.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let l=f(t,e,"unwrapKey");h(l,e);let u=(0,n.createDecipheriv)(c,l,i.Buffer.alloc(8,166));return(0,a.concat)(u.update(r),u.final())}},78803,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.weakMap=void 0;let i=e.r(66680),n=e.r(63801),o=e.r(62230),a=e.r(64963),s=e.r(39989),c=e.r(18475);r.weakMap=new WeakMap,r.default=(e,t)=>{let r;if((0,o.isCryptoKey)(e))r=i.KeyObject.from(e);else if((0,a.default)(e))r=e;else throw TypeError((0,s.default)(e,...c.types));if("secret"===r.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(r.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${r.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${r.asymmetricKeyType.slice(1)}`;case"ec":{let e=r.asymmetricKeyDetails.namedCurve;if(t)return e;switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new n.JOSENotSupported("Unsupported key curve for this operation")}}default:throw TypeError("Invalid asymmetric key type for this operation")}}},77654,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ecdhAllowed=r.generateEpk=r.deriveKey=void 0;let i=e.r(66680),n=e.r(12057),o=e.r(78803),a=e.r(87504),s=e.r(63801),c=e.r(62230),l=e.r(96121),u=e.r(64963),d=e.r(39989),p=e.r(18475),h=(0,n.promisify)(i.generateKeyPair);r.deriveKey=async function(e,t,r,n,o=new Uint8Array(0),s=new Uint8Array(0)){let h,f;if((0,c.isCryptoKey)(e))(0,l.checkEncCryptoKey)(e,"ECDH"),h=i.KeyObject.from(e);else if((0,u.default)(e))h=e;else throw TypeError((0,d.default)(e,...p.types));if((0,c.isCryptoKey)(t))(0,l.checkEncCryptoKey)(t,"ECDH","deriveBits"),f=i.KeyObject.from(t);else if((0,u.default)(t))f=t;else throw TypeError((0,d.default)(t,...p.types));let y=(0,a.concat)((0,a.lengthAndInput)(a.encoder.encode(r)),(0,a.lengthAndInput)(o),(0,a.lengthAndInput)(s),(0,a.uint32be)(n)),g=(0,i.diffieHellman)({privateKey:f,publicKey:h});return(0,a.concatKdf)(g,n,y)},r.generateEpk=async function(e){let t;if((0,c.isCryptoKey)(e))t=i.KeyObject.from(e);else if((0,u.default)(e))t=e;else throw TypeError((0,d.default)(e,...p.types));switch(t.asymmetricKeyType){case"x25519":return h("x25519");case"x448":return h("x448");case"ec":return h("ec",{namedCurve:(0,o.default)(t)});default:throw new s.JOSENotSupported("Invalid or unsupported EPK")}},r.ecdhAllowed=e=>["P-256","P-384","P-521","X25519","X448"].includes((0,o.default)(e))},67624,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(63801);r.default=function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new i.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}},64296,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decrypt=r.encrypt=void 0;let i=e.r(12057),n=e.r(66680),o=e.r(94162),a=e.r(87504),s=e.r(43090),c=e.r(38375),l=e.r(67624),u=e.r(62230),d=e.r(96121),p=e.r(64963),h=e.r(39989),f=e.r(18475),y=(0,i.promisify)(n.pbkdf2);function g(e,t){if((0,p.default)(e))return e.export();if(e instanceof Uint8Array)return e;if((0,u.isCryptoKey)(e))return(0,d.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),n.KeyObject.from(e).export();throw TypeError((0,h.default)(e,...f.types,"Uint8Array"))}r.encrypt=async(e,t,r,i=2048,n=(0,o.default)(new Uint8Array(16)))=>{(0,l.default)(n);let u=(0,a.p2s)(e,n),d=parseInt(e.slice(13,16),10)>>3,p=g(t,e),h=await y(p,u,i,d,`sha${e.slice(8,11)}`);return{encryptedKey:await (0,c.wrap)(e.slice(-6),h,r),p2c:i,p2s:(0,s.encode)(n)}},r.decrypt=async(e,t,r,i,n)=>{(0,l.default)(n);let o=(0,a.p2s)(e,n),s=parseInt(e.slice(13,16),10)>>3,u=g(t,e),d=await y(u,o,i,s,`sha${e.slice(8,11)}`);return(0,c.unwrap)(e.slice(-6),d,r)}},2839,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(e,t)=>{let{modulusLength:r}=e.asymmetricKeyDetails;if("number"!=typeof r||r<2048)throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},20913,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decrypt=r.encrypt=void 0;let i=e.r(66680),n=e.r(12057),o=e.r(2839),a=e.r(62230),s=e.r(96121),c=e.r(64963),l=e.r(39989),u=e.r(18475),d=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");(0,o.default)(e,t)},p=(0,n.deprecate)(()=>i.constants.RSA_PKCS1_PADDING,'The RSA1_5 "alg" (JWE Algorithm) is deprecated and will be removed in the next major revision.'),h=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return i.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return p();default:return}},f=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function y(e,t,...r){if((0,c.default)(e))return e;if((0,a.isCryptoKey)(e))return(0,s.checkEncCryptoKey)(e,t,...r),i.KeyObject.from(e);throw TypeError((0,l.default)(e,...u.types))}r.encrypt=(e,t,r)=>{let n=h(e),o=f(e),a=y(t,e,"wrapKey","encrypt");return d(a,e),(0,i.publicEncrypt)({key:a,oaepHash:o,padding:n},r)},r.decrypt=(e,t,r)=>{let n=h(e),o=f(e),a=y(t,e,"unwrapKey","decrypt");return d(a,e),(0,i.privateDecrypt)({key:a,oaepHash:o,padding:n},r)}},28884,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={}},9052,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bitLength=void 0;let i=e.r(63801),n=e.r(94162);function o(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new i.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}r.bitLength=o,r.default=e=>(0,n.default)(new Uint8Array(o(e)>>3))},27263,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fromX509=r.fromSPKI=r.fromPKCS8=r.toPKCS8=r.toSPKI=void 0;let i=e.r(66680),n=e.r(51615),o=e.r(62230),a=e.r(64963),s=e.r(39989),c=e.r(18475),l=(e,t,r)=>{let n;if((0,o.isCryptoKey)(r)){if(!r.extractable)throw TypeError("CryptoKey is not extractable");n=i.KeyObject.from(r)}else if((0,a.default)(r))n=r;else throw TypeError((0,s.default)(r,...c.types));if(n.type!==e)throw TypeError(`key is not a ${e} key`);return n.export({format:"pem",type:t})};r.toSPKI=e=>l("public","spki",e),r.toPKCS8=e=>l("private","pkcs8",e),r.fromPKCS8=e=>(0,i.createPrivateKey)({key:n.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"}),r.fromSPKI=e=>(0,i.createPublicKey)({key:n.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"}),r.fromX509=e=>(0,i.createPublicKey)({key:e,type:"spki",format:"pem"})},89192,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(66680);r.default=e=>(e.d?i.createPrivateKey:i.createPublicKey)({format:"jwk",key:e})},14997,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.importJWK=r.importPKCS8=r.importX509=r.importSPKI=void 0;let i=e.r(43090),n=e.r(27263),o=e.r(89192),a=e.r(63801),s=e.r(63271);r.importSPKI=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return(0,n.fromSPKI)(e,t,r)},r.importX509=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');return(0,n.fromX509)(e,t,r)},r.importPKCS8=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,n.fromPKCS8)(e,t,r)},r.importJWK=async function(e,t){if(!(0,s.default)(e))throw TypeError("JWK must be an object");switch(t||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return(0,i.decode)(e.k);case"RSA":if(void 0!==e.oth)throw new a.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,o.default)({...e,alg:t});default:throw new a.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}},59076,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(39989),n=e.r(18475),o=e=>e?.[Symbol.toStringTag];r.default=(e,t,r)=>{if(e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)){if(!(t instanceof Uint8Array)){if(!(0,n.default)(t))throw TypeError((0,i.withAlg)(e,t,...n.types,"Uint8Array"));if("secret"!==t.type)throw TypeError(`${o(t)} instances for symmetric algorithms must be of type "secret"`)}}else{if(!(0,n.default)(t))throw TypeError((0,i.withAlg)(e,t,...n.types));if("secret"===t.type)throw TypeError(`${o(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${o(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${o(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${o(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${o(t)} instances for asymmetric algorithm encryption must be of type "public"`)}}},32561,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(66680),n=e.r(80905),o=e.r(34554),a=e.r(87504),s=e.r(30257),c=e.r(62230),l=e.r(96121),u=e.r(64963),d=e.r(39989),p=e.r(46225),h=e.r(63801),f=e.r(39804),y=e.r(18475);r.default=(e,t,r,g,m)=>{let v;if((0,c.isCryptoKey)(r))(0,l.checkEncCryptoKey)(r,e,"encrypt"),v=i.KeyObject.from(r);else if(r instanceof Uint8Array||(0,u.default)(r))v=r;else throw TypeError((0,d.default)(r,...y.types,"Uint8Array"));switch((0,o.default)(e,v),g?(0,n.default)(e,g):g=(0,p.default)(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,n,o){let c=parseInt(e.slice(1,4),10);(0,u.default)(r)&&(r=r.export());let l=r.subarray(c>>3),d=r.subarray(0,c>>3),p=`aes-${c}-cbc`;if(!(0,f.default)(p))throw new h.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let y=(0,i.createCipheriv)(p,l,n),g=(0,a.concat)(y.update(t),y.final()),m=parseInt(e.slice(-3),10),v=(0,s.default)(o,n,g,m,d,c);return{ciphertext:g,tag:v,iv:n}}(e,t,v,g,m);case"A128GCM":case"A192GCM":case"A256GCM":var b=v,w=g;let _=parseInt(e.slice(1,4),10),S=`aes-${_}-gcm`;if(!(0,f.default)(S))throw new h.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let E=(0,i.createCipheriv)(S,b,w,{authTagLength:16});m.byteLength&&E.setAAD(m,{plaintextLength:t.length});let O=E.update(t);return E.final(),{ciphertext:O,tag:E.getAuthTag(),iv:w};default:throw new h.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},3232,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unwrap=r.wrap=void 0;let i=e.r(32561),n=e.r(64690),o=e.r(43090);r.wrap=async function(e,t,r,n){let a=e.slice(0,7),s=await (0,i.default)(a,r,t,n,new Uint8Array(0));return{encryptedKey:s.ciphertext,iv:(0,o.encode)(s.iv),tag:(0,o.encode)(s.tag)}},r.unwrap=async function(e,t,r,i,o){let a=e.slice(0,7);return(0,n.default)(a,t,r,i,o,new Uint8Array(0))}},91030,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(38375),n=e.r(77654),o=e.r(64296),a=e.r(20913),s=e.r(43090),c=e.r(28884),l=e.r(63801),u=e.r(9052),d=e.r(14997),p=e.r(59076),h=e.r(63271),f=e.r(3232);r.default=async function(e,t,r,y,g){switch((0,p.default)(e,t,"decrypt"),t=await c.default.normalizePrivateKey?.(t,e)||t,e){case"dir":if(void 0!==r)throw new l.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new l.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let o,a;if(!(0,h.default)(y.epk))throw new l.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!n.ecdhAllowed(t))throw new l.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let c=await (0,d.importJWK)(y.epk,e);if(void 0!==y.apu){if("string"!=typeof y.apu)throw new l.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{o=(0,s.decode)(y.apu)}catch{throw new l.JWEInvalid("Failed to base64url decode the apu")}}if(void 0!==y.apv){if("string"!=typeof y.apv)throw new l.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=(0,s.decode)(y.apv)}catch{throw new l.JWEInvalid("Failed to base64url decode the apv")}}let p=await n.deriveKey(c,t,"ECDH-ES"===e?y.enc:e,"ECDH-ES"===e?(0,u.bitLength)(y.enc):parseInt(e.slice(-5,-2),10),o,a);if("ECDH-ES"===e)return p;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,i.unwrap)(e.slice(-6),p,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,a.decrypt)(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let i;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof y.p2c)throw new l.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');let n=g?.maxPBES2Count||1e4;if(y.p2c>n)throw new l.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof y.p2s)throw new l.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{i=(0,s.decode)(y.p2s)}catch{throw new l.JWEInvalid("Failed to base64url decode the p2s")}return(0,o.decrypt)(e,t,r,y.p2c,i)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,i.unwrap)(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,n;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof y.iv)throw new l.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof y.tag)throw new l.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=(0,s.decode)(y.iv)}catch{throw new l.JWEInvalid("Failed to base64url decode the iv")}try{n=(0,s.decode)(y.tag)}catch{throw new l.JWEInvalid("Failed to base64url decode the tag")}return(0,f.unwrap)(e,t,r,i,n)}default:throw new l.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}},59736,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(63801);r.default=function(e,t,r,n,o){let a;if(void 0!==o.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(s))throw new i.JOSENotSupported(`Extension Header Parameter "${s}" is not recognized`);if(void 0===o[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&void 0===n[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(n.crit)}},96545,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}},44442,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flattenedDecrypt=void 0;let i=e.r(43090),n=e.r(64690),o=e.r(63801),a=e.r(38241),s=e.r(63271),c=e.r(91030),l=e.r(87504),u=e.r(9052),d=e.r(59736),p=e.r(96545);r.flattenedDecrypt=async function(e,t,r){let h,f,y,g,m,v,b;if(!(0,s.default)(e))throw new o.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new o.JWEInvalid("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new o.JWEInvalid("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new o.JWEInvalid("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new o.JWEInvalid("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new o.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new o.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new o.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0,s.default)(e.header))throw new o.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0,s.default)(e.unprotected))throw new o.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=(0,i.decode)(e.protected);h=JSON.parse(l.decoder.decode(t))}catch{throw new o.JWEInvalid("JWE Protected Header is invalid")}if(!(0,a.default)(h,e.header,e.unprotected))throw new o.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let w={...h,...e.header,...e.unprotected};if((0,d.default)(o.JWEInvalid,new Map,r?.crit,h,w),void 0!==w.zip)throw new o.JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:_,enc:S}=w;if("string"!=typeof _||!_)throw new o.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof S||!S)throw new o.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");let E=r&&(0,p.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),O=r&&(0,p.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(E&&!E.has(_)||!E&&_.startsWith("PBES2"))throw new o.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter value not allowed');if(O&&!O.has(S))throw new o.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{f=(0,i.decode)(e.encrypted_key)}catch{throw new o.JWEInvalid("Failed to base64url decode the encrypted_key")}let A=!1;"function"==typeof t&&(t=await t(h,e),A=!0);try{y=await (0,c.default)(_,t,f,w,r)}catch(e){if(e instanceof TypeError||e instanceof o.JWEInvalid||e instanceof o.JOSENotSupported)throw e;y=(0,u.default)(S)}if(void 0!==e.iv)try{g=(0,i.decode)(e.iv)}catch{throw new o.JWEInvalid("Failed to base64url decode the iv")}if(void 0!==e.tag)try{m=(0,i.decode)(e.tag)}catch{throw new o.JWEInvalid("Failed to base64url decode the tag")}let P=l.encoder.encode(e.protected??"");v=void 0!==e.aad?(0,l.concat)(P,l.encoder.encode("."),l.encoder.encode(e.aad)):P;try{b=(0,i.decode)(e.ciphertext)}catch{throw new o.JWEInvalid("Failed to base64url decode the ciphertext")}let k={plaintext:await (0,n.default)(S,y,b,g,m,v)};if(void 0!==e.protected&&(k.protectedHeader=h),void 0!==e.aad)try{k.additionalAuthenticatedData=(0,i.decode)(e.aad)}catch{throw new o.JWEInvalid("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(k.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(k.unprotectedHeader=e.header),A)?{...k,key:t}:k}},85198,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compactDecrypt=void 0;let i=e.r(44442),n=e.r(63801),o=e.r(87504);r.compactDecrypt=async function(e,t,r){if(e instanceof Uint8Array&&(e=o.decoder.decode(e)),"string"!=typeof e)throw new n.JWEInvalid("Compact JWE must be a string or Uint8Array");let{0:a,1:s,2:c,3:l,4:u,length:d}=e.split(".");if(5!==d)throw new n.JWEInvalid("Invalid Compact JWE");let p=await (0,i.flattenedDecrypt)({ciphertext:l,iv:c||void 0,protected:a,tag:u||void 0,encrypted_key:s||void 0},t,r),h={plaintext:p.plaintext,protectedHeader:p.protectedHeader};return"function"==typeof t?{...h,key:p.key}:h}},14797,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generalDecrypt=void 0;let i=e.r(44442),n=e.r(63801),o=e.r(63271);r.generalDecrypt=async function(e,t,r){if(!(0,o.default)(e))throw new n.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(o.default))throw new n.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new n.JWEInvalid("JWE Recipients has no members");for(let n of e.recipients)try{return await (0,i.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:n.encrypted_key,header:n.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new n.JWEDecryptionFailed}},11741,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(66680),n=e.r(43090),o=e.r(63801),a=e.r(62230),s=e.r(64963),c=e.r(39989),l=e.r(18475);r.default=e=>{let t;if((0,a.isCryptoKey)(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=i.KeyObject.from(e)}else if((0,s.default)(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:(0,n.encode)(e)};else throw TypeError((0,c.default)(e,...l.types,"Uint8Array"));if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new o.JOSENotSupported("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})}},92327,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.exportJWK=r.exportPKCS8=r.exportSPKI=void 0;let i=e.r(27263),n=e.r(27263),o=e.r(11741);r.exportSPKI=async function(e){return(0,i.toSPKI)(e)},r.exportPKCS8=async function(e){return(0,n.toPKCS8)(e)},r.exportJWK=async function(e){return(0,o.default)(e)}},41701,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(38375),n=e.r(77654),o=e.r(64296),a=e.r(20913),s=e.r(43090),c=e.r(28884),l=e.r(9052),u=e.r(63801),d=e.r(92327),p=e.r(59076),h=e.r(3232);r.default=async function(e,t,r,f,y={}){let g,m,v;switch((0,p.default)(e,r,"encrypt"),r=await c.default.normalizePublicKey?.(r,e)||r,e){case"dir":v=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!n.ecdhAllowed(r))throw new u.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:o,apv:a}=y,{epk:c}=y;c||=(await n.generateEpk(r)).privateKey;let{x:p,y:h,crv:b,kty:w}=await (0,d.exportJWK)(c),_=await n.deriveKey(r,c,"ECDH-ES"===e?t:e,"ECDH-ES"===e?(0,l.bitLength)(t):parseInt(e.slice(-5,-2),10),o,a);if(m={epk:{x:p,crv:b,kty:w}},"EC"===w&&(m.epk.y=h),o&&(m.apu=(0,s.encode)(o)),a&&(m.apv=(0,s.encode)(a)),"ECDH-ES"===e){v=_;break}v=f||(0,l.default)(t);let S=e.slice(-6);g=await (0,i.wrap)(S,_,v);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":v=f||(0,l.default)(t),g=await (0,a.encrypt)(e,r,v);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{v=f||(0,l.default)(t);let{p2c:i,p2s:n}=y;({encryptedKey:g,...m}=await (0,o.encrypt)(e,r,v,i,n));break}case"A128KW":case"A192KW":case"A256KW":v=f||(0,l.default)(t),g=await (0,i.wrap)(e,r,v);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{v=f||(0,l.default)(t);let{iv:i}=y;({encryptedKey:g,...m}=await (0,h.wrap)(e,r,v,i));break}default:throw new u.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:v,encryptedKey:g,parameters:m}}},93202,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FlattenedEncrypt=r.unprotected=void 0;let i=e.r(43090),n=e.r(32561),o=e.r(41701),a=e.r(63801),s=e.r(38241),c=e.r(87504),l=e.r(59736);r.unprotected=Symbol(),r.FlattenedEncrypt=class{_plaintext;_protectedHeader;_sharedUnprotectedHeader;_unprotectedHeader;_aad;_cek;_iv;_keyManagementParameters;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let u,d,p,h,f;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new a.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,s.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new a.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let y={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,l.default)(a.JWEInvalid,new Map,t?.crit,this._protectedHeader,y),void 0!==y.zip)throw new a.JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:g,enc:m}=y;if("string"!=typeof g||!g)throw new a.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof m||!m)throw new a.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===g||"ECDH-ES"===g))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${g}`);{let i;({cek:d,encryptedKey:u,parameters:i}=await (0,o.default)(g,m,e,this._cek,this._keyManagementParameters)),i&&(t&&r.unprotected in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...i}:this.setUnprotectedHeader(i):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...i}:this.setProtectedHeader(i))}h=this._protectedHeader?c.encoder.encode((0,i.encode)(JSON.stringify(this._protectedHeader))):c.encoder.encode(""),this._aad?(f=(0,i.encode)(this._aad),p=(0,c.concat)(h,c.encoder.encode("."),c.encoder.encode(f))):p=h;let{ciphertext:v,tag:b,iv:w}=await (0,n.default)(m,this._plaintext,d,this._iv,p),_={ciphertext:(0,i.encode)(v)};return w&&(_.iv=(0,i.encode)(w)),b&&(_.tag=(0,i.encode)(b)),u&&(_.encrypted_key=(0,i.encode)(u)),f&&(_.aad=f),this._protectedHeader&&(_.protected=c.decoder.decode(h)),this._sharedUnprotectedHeader&&(_.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(_.header=this._unprotectedHeader),_}}},14572,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GeneralEncrypt=void 0;let i=e.r(93202),n=e.r(63801),o=e.r(9052),a=e.r(38241),s=e.r(41701),c=e.r(43090),l=e.r(59736);class u{parent;unprotectedHeader;key;options;constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}r.GeneralEncrypt=class{_plaintext;_recipients=[];_protectedHeader;_unprotectedHeader;_aad;constructor(e){this._plaintext=e}addRecipient(e,t){let r=new u(this,e,{crit:t?.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(){let e;if(!this._recipients.length)throw new n.JWEInvalid("at least one recipient must be added");if(1===this._recipients.length){let[e]=this._recipients,t=await new i.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(e.unprotectedHeader).encrypt(e.key,{...e.options}),r={ciphertext:t.ciphertext,iv:t.iv,recipients:[{}],tag:t.tag};return t.aad&&(r.aad=t.aad),t.protected&&(r.protected=t.protected),t.unprotected&&(r.unprotected=t.unprotected),t.encrypted_key&&(r.recipients[0].encrypted_key=t.encrypted_key),t.header&&(r.recipients[0].header=t.header),r}for(let t=0;t<this._recipients.length;t++){let r=this._recipients[t];if(!(0,a.default)(this._protectedHeader,this._unprotectedHeader,r.unprotectedHeader))throw new n.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let i={...this._protectedHeader,...this._unprotectedHeader,...r.unprotectedHeader},{alg:o}=i;if("string"!=typeof o||!o)throw new n.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===o||"ECDH-ES"===o)throw new n.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof i.enc||!i.enc)throw new n.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(e){if(e!==i.enc)throw new n.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else e=i.enc;if((0,l.default)(n.JWEInvalid,new Map,r.options.crit,this._protectedHeader,i),void 0!==i.zip)throw new n.JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported.')}let t=(0,o.default)(e),r={ciphertext:"",iv:"",recipients:[],tag:""};for(let n=0;n<this._recipients.length;n++){let o=this._recipients[n],a={};r.recipients.push(a);let l=({...this._protectedHeader,...this._unprotectedHeader,...o.unprotectedHeader}).alg.startsWith("PBES2")?2048+n:void 0;if(0===n){let e=await new i.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(t).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(o.unprotectedHeader).setKeyManagementParameters({p2c:l}).encrypt(o.key,{...o.options,[i.unprotected]:!0});r.ciphertext=e.ciphertext,r.iv=e.iv,r.tag=e.tag,e.aad&&(r.aad=e.aad),e.protected&&(r.protected=e.protected),e.unprotected&&(r.unprotected=e.unprotected),a.encrypted_key=e.encrypted_key,e.header&&(a.header=e.header);continue}let{encryptedKey:u,parameters:d}=await (0,s.default)(o.unprotectedHeader?.alg||this._protectedHeader?.alg||this._unprotectedHeader?.alg,e,o.key,t,{p2c:l});a.encrypted_key=(0,c.encode)(u),(o.unprotectedHeader||d)&&(a.header={...o.unprotectedHeader,...d})}return r}}},49947,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(63801);r.default=function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new i.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},56129,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(66680),n=e.r(78803),o=e.r(63801),a=e.r(2839),s={padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},c=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);r.default=function(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");return t;case"RS256":case"RS384":case"RS512":if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,a.default)(t,e),t;case"PS256":case"PS384":case"PS512":if("rsa-pss"===t.asymmetricKeyType){let{hashAlgorithm:r,mgf1HashAlgorithm:i,saltLength:n}=t.asymmetricKeyDetails,o=parseInt(e.slice(-3),10);if(void 0!==r&&(r!==`sha${o}`||i!==r))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==n&&n>o>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");return(0,a.default)(t,e),{key:t,...s};case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let r=(0,n.default)(t),i=c.get(e);if(r!==i)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${i}, got ${r}`);return{dsaEncoding:"ieee-p1363",key:t}}default:throw new o.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},15243,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(63801);r.default=function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new i.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},35308,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(66680),n=e.r(62230),o=e.r(96121),a=e.r(39989),s=e.r(18475);r.default=function(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError((0,a.default)(t,...s.types));return(0,i.createSecretKey)(t)}if(t instanceof i.KeyObject)return t;if((0,n.isCryptoKey)(t))return(0,o.checkSigCryptoKey)(t,e,r),i.KeyObject.from(t);throw TypeError((0,a.default)(t,...s.types,"Uint8Array"))}},72404,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(66680),n=e.r(12057),o=e.r(49947),a=e.r(15243),s=e.r(56129),c=e.r(35308),l=(0,n.promisify)(i.sign);r.default=async(e,t,r)=>{let n=(0,c.default)(e,t,"sign");if(e.startsWith("HS")){let t=i.createHmac((0,a.default)(e),n);return t.update(r),t.digest()}return l((0,o.default)(e),r,(0,s.default)(e,n))}},38038,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(66680),n=e.r(12057),o=e.r(49947),a=e.r(56129),s=e.r(72404),c=e.r(35308),l=(0,n.promisify)(i.verify);r.default=async(e,t,r,n)=>{let u=(0,c.default)(e,t,"verify");if(e.startsWith("HS")){let t=await (0,s.default)(e,u,n);try{return i.timingSafeEqual(r,t)}catch{return!1}}let d=(0,o.default)(e),p=(0,a.default)(e,u);try{return await l(d,n,p,r)}catch{return!1}}},36407,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flattenedVerify=void 0;let i=e.r(43090),n=e.r(38038),o=e.r(63801),a=e.r(87504),s=e.r(38241),c=e.r(63271),l=e.r(59076),u=e.r(59736),d=e.r(96545);r.flattenedVerify=async function(e,t,r){let p,h;if(!(0,c.default)(e))throw new o.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new o.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new o.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new o.JWSInvalid("JWS Payload missing");if("string"!=typeof e.signature)throw new o.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,c.default)(e.header))throw new o.JWSInvalid("JWS Unprotected Header incorrect type");let f={};if(e.protected)try{let t=(0,i.decode)(e.protected);f=JSON.parse(a.decoder.decode(t))}catch{throw new o.JWSInvalid("JWS Protected Header is invalid")}if(!(0,s.default)(f,e.header))throw new o.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let y={...f,...e.header},g=(0,u.default)(o.JWSInvalid,new Map([["b64",!0]]),r?.crit,f,y),m=!0;if(g.has("b64")&&"boolean"!=typeof(m=f.b64))throw new o.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:v}=y;if("string"!=typeof v||!v)throw new o.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');let b=r&&(0,d.default)("algorithms",r.algorithms);if(b&&!b.has(v))throw new o.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter value not allowed');if(m){if("string"!=typeof e.payload)throw new o.JWSInvalid("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new o.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let w=!1;"function"==typeof t&&(t=await t(f,e),w=!0),(0,l.default)(v,t,"verify");let _=(0,a.concat)(a.encoder.encode(e.protected??""),a.encoder.encode("."),"string"==typeof e.payload?a.encoder.encode(e.payload):e.payload);try{p=(0,i.decode)(e.signature)}catch{throw new o.JWSInvalid("Failed to base64url decode the signature")}if(!await (0,n.default)(v,t,p,_))throw new o.JWSSignatureVerificationFailed;if(m)try{h=(0,i.decode)(e.payload)}catch{throw new o.JWSInvalid("Failed to base64url decode the payload")}else h="string"==typeof e.payload?a.encoder.encode(e.payload):e.payload;let S={payload:h};return(void 0!==e.protected&&(S.protectedHeader=f),void 0!==e.header&&(S.unprotectedHeader=e.header),w)?{...S,key:t}:S}},23960,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compactVerify=void 0;let i=e.r(36407),n=e.r(63801),o=e.r(87504);r.compactVerify=async function(e,t,r){if(e instanceof Uint8Array&&(e=o.decoder.decode(e)),"string"!=typeof e)throw new n.JWSInvalid("Compact JWS must be a string or Uint8Array");let{0:a,1:s,2:c,length:l}=e.split(".");if(3!==l)throw new n.JWSInvalid("Invalid Compact JWS");let u=await (0,i.flattenedVerify)({payload:s,protected:a,signature:c},t,r),d={payload:u.payload,protectedHeader:u.protectedHeader};return"function"==typeof t?{...d,key:u.key}:d}},52266,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generalVerify=void 0;let i=e.r(36407),n=e.r(63801),o=e.r(63271);r.generalVerify=async function(e,t,r){if(!(0,o.default)(e))throw new n.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(o.default))throw new n.JWSInvalid("JWS Signatures missing or incorrect type");for(let n of e.signatures)try{return await (0,i.flattenedVerify)({header:n.header,payload:e.payload,protected:n.protected,signature:n.signature},t,r)}catch{}throw new n.JWSSignatureVerificationFailed}},8773,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e=>Math.floor(e.getTime()/1e3)},54681,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;r.default=e=>{let t,r=i.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t}},27641,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(63801),n=e.r(87504),o=e.r(8773),a=e.r(54681),s=e.r(63271),c=e=>e.toLowerCase().replace(/^application\//,"");r.default=(e,t,r={})=>{var l,u;let d,p;try{d=JSON.parse(n.decoder.decode(t))}catch{}if(!(0,s.default)(d))throw new i.JWTInvalid("JWT Claims Set must be a top-level JSON object");let{typ:h}=r;if(h&&("string"!=typeof e.typ||c(e.typ)!==c(h)))throw new i.JWTClaimValidationFailed('unexpected "typ" JWT header value',d,"typ","check_failed");let{requiredClaims:f=[],issuer:y,subject:g,audience:m,maxTokenAge:v}=r,b=[...f];for(let e of(void 0!==v&&b.push("iat"),void 0!==m&&b.push("aud"),void 0!==g&&b.push("sub"),void 0!==y&&b.push("iss"),new Set(b.reverse())))if(!(e in d))throw new i.JWTClaimValidationFailed(`missing required "${e}" claim`,d,e,"missing");if(y&&!(Array.isArray(y)?y:[y]).includes(d.iss))throw new i.JWTClaimValidationFailed('unexpected "iss" claim value',d,"iss","check_failed");if(g&&d.sub!==g)throw new i.JWTClaimValidationFailed('unexpected "sub" claim value',d,"sub","check_failed");if(m&&(l=d.aud,u="string"==typeof m?[m]:m,"string"==typeof l?!u.includes(l):!(Array.isArray(l)&&u.some(Set.prototype.has.bind(new Set(l))))))throw new i.JWTClaimValidationFailed('unexpected "aud" claim value',d,"aud","check_failed");switch(typeof r.clockTolerance){case"string":p=(0,a.default)(r.clockTolerance);break;case"number":p=r.clockTolerance;break;case"undefined":p=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:w}=r,_=(0,o.default)(w||new Date);if((void 0!==d.iat||v)&&"number"!=typeof d.iat)throw new i.JWTClaimValidationFailed('"iat" claim must be a number',d,"iat","invalid");if(void 0!==d.nbf){if("number"!=typeof d.nbf)throw new i.JWTClaimValidationFailed('"nbf" claim must be a number',d,"nbf","invalid");if(d.nbf>_+p)throw new i.JWTClaimValidationFailed('"nbf" claim timestamp check failed',d,"nbf","check_failed")}if(void 0!==d.exp){if("number"!=typeof d.exp)throw new i.JWTClaimValidationFailed('"exp" claim must be a number',d,"exp","invalid");if(d.exp<=_-p)throw new i.JWTExpired('"exp" claim timestamp check failed',d,"exp","check_failed")}if(v){let e=_-d.iat;if(e-p>("number"==typeof v?v:(0,a.default)(v)))throw new i.JWTExpired('"iat" claim timestamp check failed (too far in the past)',d,"iat","check_failed");if(e<0-p)throw new i.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',d,"iat","check_failed")}return d}},99272,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.jwtVerify=void 0;let i=e.r(23960),n=e.r(27641),o=e.r(63801);r.jwtVerify=async function(e,t,r){let a=await (0,i.compactVerify)(e,t,r);if(a.protectedHeader.crit?.includes("b64")&&!1===a.protectedHeader.b64)throw new o.JWTInvalid("JWTs MUST NOT use unencoded payload");let s={payload:(0,n.default)(a.protectedHeader,a.payload,r),protectedHeader:a.protectedHeader};return"function"==typeof t?{...s,key:a.key}:s}},20602,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.jwtDecrypt=void 0;let i=e.r(85198),n=e.r(27641),o=e.r(63801);r.jwtDecrypt=async function(e,t,r){let a=await (0,i.compactDecrypt)(e,t,r),s=(0,n.default)(a.protectedHeader,a.plaintext,r),{protectedHeader:c}=a;if(void 0!==c.iss&&c.iss!==s.iss)throw new o.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',s,"iss","mismatch");if(void 0!==c.sub&&c.sub!==s.sub)throw new o.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',s,"sub","mismatch");if(void 0!==c.aud&&JSON.stringify(c.aud)!==JSON.stringify(s.aud))throw new o.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',s,"aud","mismatch");let l={payload:s,protectedHeader:c};return"function"==typeof t?{...l,key:a.key}:l}},38614,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CompactEncrypt=void 0;let i=e.r(93202);r.CompactEncrypt=class{_flattened;constructor(e){this._flattened=new i.FlattenedEncrypt(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}},58724,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FlattenedSign=void 0;let i=e.r(43090),n=e.r(72404),o=e.r(38241),a=e.r(63801),s=e.r(87504),c=e.r(59076),l=e.r(59736);r.FlattenedSign=class{_payload;_protectedHeader;_unprotectedHeader;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new a.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,o.default)(this._protectedHeader,this._unprotectedHeader))throw new a.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let u={...this._protectedHeader,...this._unprotectedHeader},d=(0,l.default)(a.JWSInvalid,new Map([["b64",!0]]),t?.crit,this._protectedHeader,u),p=!0;if(d.has("b64")&&"boolean"!=typeof(p=this._protectedHeader.b64))throw new a.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:h}=u;if("string"!=typeof h||!h)throw new a.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,c.default)(h,e,"sign");let f=this._payload;p&&(f=s.encoder.encode((0,i.encode)(f))),r=this._protectedHeader?s.encoder.encode((0,i.encode)(JSON.stringify(this._protectedHeader))):s.encoder.encode("");let y=(0,s.concat)(r,s.encoder.encode("."),f),g=await (0,n.default)(h,e,y),m={signature:(0,i.encode)(g),payload:""};return p&&(m.payload=s.decoder.decode(f)),this._unprotectedHeader&&(m.header=this._unprotectedHeader),this._protectedHeader&&(m.protected=s.decoder.decode(r)),m}}},30046,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CompactSign=void 0;let i=e.r(58724);r.CompactSign=class{_flattened;constructor(e){this._flattened=new i.FlattenedSign(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}},82757,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GeneralSign=void 0;let i=e.r(58724),n=e.r(63801);class o{parent;protectedHeader;unprotectedHeader;options;key;constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}r.GeneralSign=class{_payload;_signatures=[];constructor(e){this._payload=e}addSignature(e,t){let r=new o(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new n.JWSInvalid("at least one signature must be added");let e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){let r=this._signatures[t],o=new i.FlattenedSign(this._payload);o.setProtectedHeader(r.protectedHeader),o.setUnprotectedHeader(r.unprotectedHeader);let{payload:a,...s}=await o.sign(r.key,r.options);if(0===t)e.payload=a;else if(e.payload!==a)throw new n.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(s)}return e}}},39297,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ProduceJWT=void 0;let i=e.r(8773),n=e.r(63271),o=e.r(54681);function a(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}r.ProduceJWT=class{_payload;constructor(e={}){if(!(0,n.default)(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:a("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:a("setNotBefore",(0,i.default)(e))}:this._payload={...this._payload,nbf:(0,i.default)(new Date)+(0,o.default)(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:a("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:a("setExpirationTime",(0,i.default)(e))}:this._payload={...this._payload,exp:(0,i.default)(new Date)+(0,o.default)(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:(0,i.default)(new Date)}:e instanceof Date?this._payload={...this._payload,iat:a("setIssuedAt",(0,i.default)(e))}:"string"==typeof e?this._payload={...this._payload,iat:a("setIssuedAt",(0,i.default)(new Date)+(0,o.default)(e))}:this._payload={...this._payload,iat:a("setIssuedAt",e)},this}}},88300,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SignJWT=void 0;let i=e.r(30046),n=e.r(63801),o=e.r(87504),a=e.r(39297);class s extends a.ProduceJWT{_protectedHeader;setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){let r=new i.CompactSign(o.encoder.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new n.JWTInvalid("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}r.SignJWT=s},31209,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EncryptJWT=void 0;let i=e.r(38614),n=e.r(87504),o=e.r(39297);class a extends o.ProduceJWT{_cek;_iv;_keyManagementParameters;_protectedHeader;_replicateIssuerAsHeader;_replicateSubjectAsHeader;_replicateAudienceAsHeader;setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new i.CompactEncrypt(n.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}r.EncryptJWT=a},29330,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.calculateJwkThumbprintUri=r.calculateJwkThumbprint=void 0;let i=e.r(78732),n=e.r(43090),o=e.r(63801),a=e.r(87504),s=e.r(63271),c=(e,t)=>{if("string"!=typeof e||!e)throw new o.JWKInvalid(`${t} missing or invalid`)};async function l(e,t){let r;if(!(0,s.default)(e))throw TypeError("JWK must be an object");if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":c(e.crv,'"crv" (Curve) Parameter'),c(e.x,'"x" (X Coordinate) Parameter'),c(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":c(e.crv,'"crv" (Subtype of Key Pair) Parameter'),c(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":c(e.e,'"e" (Exponent) Parameter'),c(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":c(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new o.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}let l=a.encoder.encode(JSON.stringify(r));return(0,n.encode)(await (0,i.default)(t,l))}r.calculateJwkThumbprint=l,r.calculateJwkThumbprintUri=async function(e,t){t??="sha256";let r=await l(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}},78787,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EmbeddedJWK=void 0;let i=e.r(14997),n=e.r(63271),o=e.r(63801);r.EmbeddedJWK=async function(e,t){let r={...e,...t?.header};if(!(0,n.default)(r.jwk))throw new o.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let a=await (0,i.importJWK)({...r.jwk,ext:!0},r.alg);if(a instanceof Uint8Array||"public"!==a.type)throw new o.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return a}},69559,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createLocalJWKSet=r.LocalJWKSet=void 0;let i=e.r(14997),n=e.r(63801),o=e.r(63271);function a(e){return(0,o.default)(e)}function s(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}class c{_jwks;_cached=new WeakMap;constructor(e){if(!function(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(a)}(e))throw new n.JWKSInvalid("JSON Web Key Set malformed");this._jwks=s(e)}async getKey(e,t){let{alg:r,kid:i}={...e,...t?.header},o=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new n.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(r),a=this._jwks.keys.filter(e=>{let t=o===e.kty;if(t&&"string"==typeof i&&(t=i===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:s,length:c}=a;if(0===c)throw new n.JWKSNoMatchingKey;if(1!==c){let e=new n.JWKSMultipleMatchingKeys,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of a)try{yield await l(t,e,r)}catch{}},e}return l(this._cached,s,r)}}async function l(e,t,r){let o=e.get(t)||e.set(t,{}).get(t);if(void 0===o[r]){let e=await (0,i.importJWK)({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new n.JWKSInvalid("JSON Web Key Set members must be public keys");o[r]=e}return o[r]}r.LocalJWKSet=c,r.createLocalJWKSet=function(e){let t=new c(e),r=async(e,r)=>t.getKey(e,r);return Object.defineProperties(r,{jwks:{value:()=>s(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),r}},68400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(47299),n=e.r(43698),o=e.r(87769),a=e.r(63801),s=e.r(87504);r.default=async(e,t,r)=>{let c;switch(e.protocol){case"https:":c=n.get;break;case"http:":c=i.get;break;default:throw TypeError("Unsupported URL protocol.")}let{agent:l,headers:u}=r,d=c(e.href,{agent:l,timeout:t,headers:u}),[p]=await Promise.race([(0,o.once)(d,"response"),(0,o.once)(d,"timeout")]);if(!p)throw d.destroy(),new a.JWKSTimeout;if(200!==p.statusCode)throw new a.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");let h=[];for await(let e of p)h.push(e);try{return JSON.parse(s.decoder.decode((0,s.concat)(...h)))}catch{throw new a.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}}},6234,(e,t,r)=>{"use strict";let i;Object.defineProperty(r,"__esModule",{value:!0}),r.createRemoteJWKSet=r.experimental_jwksCache=void 0;let n=e.r(68400),o=e.r(63801),a=e.r(69559),s=e.r(63271);("u"<typeof navigator||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(i="jose/v5.6.3"),r.experimental_jwksCache=Symbol();class c{_url;_timeoutDuration;_cooldownDuration;_cacheMaxAge;_jwksTimestamp;_pendingFetch;_options;_local;_cache;constructor(e,t){if(!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:t?.agent,headers:t?.headers},this._timeoutDuration="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this._cooldownDuration="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,t?.[r.experimental_jwksCache]!==void 0&&(this._cache=t?.[r.experimental_jwksCache],function(e,t){return!("object"!=typeof e||null===e||!("uat"in e)||"number"!=typeof e.uat||Date.now()-e.uat>=t)&&"jwks"in e&&!!(0,s.default)(e.jwks)&&!!Array.isArray(e.jwks.keys)&&!!Array.prototype.every.call(e.jwks.keys,s.default)}(t?.[r.experimental_jwksCache],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=(0,a.createLocalJWKSet)(this._cache.jwks)))}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._local&&this.fresh()||await this.reload();try{return await this._local(e,t)}catch(r){if(r instanceof o.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),this._local(e,t);throw r}}async reload(){this._pendingFetch&&("u">typeof WebSocketPair||"u">typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"u">typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0);let e=new Headers(this._options.headers);i&&!e.has("User-Agent")&&(e.set("User-Agent",i),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||=(0,n.default)(this._url,this._timeoutDuration,this._options).then(e=>{this._local=(0,a.createLocalJWKSet)(e),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=e),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e}),await this._pendingFetch}}r.createRemoteJWKSet=function(e,t){let r=new c(e,t),i=async(e,t)=>r.getKey(e,t);return Object.defineProperties(i,{coolingDown:{get:()=>r.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>r.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>r.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!r._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>r._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),i}},11475,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UnsecuredJWT=void 0;let i=e.r(43090),n=e.r(87504),o=e.r(63801),a=e.r(27641),s=e.r(39297);class c extends s.ProduceJWT{encode(){let e=i.encode(JSON.stringify({alg:"none"})),t=i.encode(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){let r;if("string"!=typeof e)throw new o.JWTInvalid("Unsecured JWT must be a string");let{0:s,1:c,2:l,length:u}=e.split(".");if(3!==u||""!==l)throw new o.JWTInvalid("Invalid Unsecured JWT");try{if(r=JSON.parse(n.decoder.decode(i.decode(s))),"none"!==r.alg)throw Error()}catch{throw new o.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,a.default)(r,i.decode(c),t),header:r}}}r.UnsecuredJWT=c},74169,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decode=r.encode=void 0;let i=e.r(43090);r.encode=i.encode,r.decode=i.decode},83962,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decodeProtectedHeader=void 0;let i=e.r(74169),n=e.r(87504),o=e.r(63271);r.decodeProtectedHeader=function(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(n.decoder.decode((0,i.decode)(t)));if(!(0,o.default)(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}},19477,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decodeJwt=void 0;let i=e.r(74169),n=e.r(87504),o=e.r(63271),a=e.r(63801);r.decodeJwt=function(e){let t,r;if("string"!=typeof e)throw new a.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");let{1:s,length:c}=e.split(".");if(5===c)throw new a.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==c)throw new a.JWTInvalid("Invalid JWT");if(!s)throw new a.JWTInvalid("JWTs must contain a payload");try{t=(0,i.decode)(s)}catch{throw new a.JWTInvalid("Failed to base64url decode the payload")}try{r=JSON.parse(n.decoder.decode(t))}catch{throw new a.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,o.default)(r))throw new a.JWTInvalid("Invalid JWT Claims Set");return r}},69957,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateKeyPair=r.generateSecret=void 0;let i=e.r(66680),n=e.r(12057),o=e.r(94162),a=e.r(63801),s=(0,n.promisify)(i.generateKeyPair);r.generateSecret=async function(e,t){let r;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return(0,i.createSecretKey)((0,o.default)(new Uint8Array(r>>3)))},r.generateKeyPair=async function(e,t){switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{let e=t?.modulusLength??2048;if("number"!=typeof e||e<2048)throw new a.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return await s("rsa",{modulusLength:e,publicExponent:65537})}case"ES256":return s("ec",{namedCurve:"P-256"});case"ES256K":return s("ec",{namedCurve:"secp256k1"});case"ES384":return s("ec",{namedCurve:"P-384"});case"ES512":return s("ec",{namedCurve:"P-521"});case"EdDSA":switch(t?.crv){case void 0:case"Ed25519":return s("ed25519");case"Ed448":return s("ed448");default:throw new a.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e=t?.crv??"P-256";switch(e){case void 0:case"P-256":case"P-384":case"P-521":return s("ec",{namedCurve:e});case"X25519":return s("x25519");case"X448":return s("x448");default:throw new a.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}}default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}}},14994,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateKeyPair=void 0;let i=e.r(69957);r.generateKeyPair=async function(e,t){return(0,i.generateKeyPair)(e,t)}},70740,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateSecret=void 0;let i=e.r(69957);r.generateSecret=async function(e,t){return(0,i.generateSecret)(e,t)}},25374,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default="node:crypto"},86774,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e.r(25374).default},83932,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cryptoRuntime=r.base64url=r.generateSecret=r.generateKeyPair=r.errors=r.decodeJwt=r.decodeProtectedHeader=r.importJWK=r.importX509=r.importPKCS8=r.importSPKI=r.exportJWK=r.exportSPKI=r.exportPKCS8=r.UnsecuredJWT=r.experimental_jwksCache=r.createRemoteJWKSet=r.createLocalJWKSet=r.EmbeddedJWK=r.calculateJwkThumbprintUri=r.calculateJwkThumbprint=r.EncryptJWT=r.SignJWT=r.GeneralSign=r.FlattenedSign=r.CompactSign=r.FlattenedEncrypt=r.CompactEncrypt=r.jwtDecrypt=r.jwtVerify=r.generalVerify=r.flattenedVerify=r.compactVerify=r.GeneralEncrypt=r.generalDecrypt=r.flattenedDecrypt=r.compactDecrypt=void 0;var i=e.r(85198);Object.defineProperty(r,"compactDecrypt",{enumerable:!0,get:function(){return i.compactDecrypt}});var n=e.r(44442);Object.defineProperty(r,"flattenedDecrypt",{enumerable:!0,get:function(){return n.flattenedDecrypt}});var o=e.r(14797);Object.defineProperty(r,"generalDecrypt",{enumerable:!0,get:function(){return o.generalDecrypt}});var a=e.r(14572);Object.defineProperty(r,"GeneralEncrypt",{enumerable:!0,get:function(){return a.GeneralEncrypt}});var s=e.r(23960);Object.defineProperty(r,"compactVerify",{enumerable:!0,get:function(){return s.compactVerify}});var c=e.r(36407);Object.defineProperty(r,"flattenedVerify",{enumerable:!0,get:function(){return c.flattenedVerify}});var l=e.r(52266);Object.defineProperty(r,"generalVerify",{enumerable:!0,get:function(){return l.generalVerify}});var u=e.r(99272);Object.defineProperty(r,"jwtVerify",{enumerable:!0,get:function(){return u.jwtVerify}});var d=e.r(20602);Object.defineProperty(r,"jwtDecrypt",{enumerable:!0,get:function(){return d.jwtDecrypt}});var p=e.r(38614);Object.defineProperty(r,"CompactEncrypt",{enumerable:!0,get:function(){return p.CompactEncrypt}});var h=e.r(93202);Object.defineProperty(r,"FlattenedEncrypt",{enumerable:!0,get:function(){return h.FlattenedEncrypt}});var f=e.r(30046);Object.defineProperty(r,"CompactSign",{enumerable:!0,get:function(){return f.CompactSign}});var y=e.r(58724);Object.defineProperty(r,"FlattenedSign",{enumerable:!0,get:function(){return y.FlattenedSign}});var g=e.r(82757);Object.defineProperty(r,"GeneralSign",{enumerable:!0,get:function(){return g.GeneralSign}});var m=e.r(88300);Object.defineProperty(r,"SignJWT",{enumerable:!0,get:function(){return m.SignJWT}});var v=e.r(31209);Object.defineProperty(r,"EncryptJWT",{enumerable:!0,get:function(){return v.EncryptJWT}});var b=e.r(29330);Object.defineProperty(r,"calculateJwkThumbprint",{enumerable:!0,get:function(){return b.calculateJwkThumbprint}}),Object.defineProperty(r,"calculateJwkThumbprintUri",{enumerable:!0,get:function(){return b.calculateJwkThumbprintUri}});var w=e.r(78787);Object.defineProperty(r,"EmbeddedJWK",{enumerable:!0,get:function(){return w.EmbeddedJWK}});var _=e.r(69559);Object.defineProperty(r,"createLocalJWKSet",{enumerable:!0,get:function(){return _.createLocalJWKSet}});var S=e.r(6234);Object.defineProperty(r,"createRemoteJWKSet",{enumerable:!0,get:function(){return S.createRemoteJWKSet}}),Object.defineProperty(r,"experimental_jwksCache",{enumerable:!0,get:function(){return S.experimental_jwksCache}});var E=e.r(11475);Object.defineProperty(r,"UnsecuredJWT",{enumerable:!0,get:function(){return E.UnsecuredJWT}});var O=e.r(92327);Object.defineProperty(r,"exportPKCS8",{enumerable:!0,get:function(){return O.exportPKCS8}}),Object.defineProperty(r,"exportSPKI",{enumerable:!0,get:function(){return O.exportSPKI}}),Object.defineProperty(r,"exportJWK",{enumerable:!0,get:function(){return O.exportJWK}});var A=e.r(14997);Object.defineProperty(r,"importSPKI",{enumerable:!0,get:function(){return A.importSPKI}}),Object.defineProperty(r,"importPKCS8",{enumerable:!0,get:function(){return A.importPKCS8}}),Object.defineProperty(r,"importX509",{enumerable:!0,get:function(){return A.importX509}}),Object.defineProperty(r,"importJWK",{enumerable:!0,get:function(){return A.importJWK}});var P=e.r(83962);Object.defineProperty(r,"decodeProtectedHeader",{enumerable:!0,get:function(){return P.decodeProtectedHeader}});var k=e.r(19477);Object.defineProperty(r,"decodeJwt",{enumerable:!0,get:function(){return k.decodeJwt}}),r.errors=e.r(63801);var x=e.r(14994);Object.defineProperty(r,"generateKeyPair",{enumerable:!0,get:function(){return x.generateKeyPair}});var R=e.r(70740);Object.defineProperty(r,"generateSecret",{enumerable:!0,get:function(){return R.generateSecret}}),r.base64url=e.r(74169);var C=e.r(86774);Object.defineProperty(r,"cryptoRuntime",{enumerable:!0,get:function(){return C.default}})},70525,(e,t,r)=>{"use strict";var i,n;Object.defineProperty(r,"__esModule",{value:!0}),r.AuthenticateWithSessionCookieFailureReason=void 0,(n=i||(r.AuthenticateWithSessionCookieFailureReason=i={})).INVALID_JWT="invalid_jwt",n.INVALID_SESSION_COOKIE="invalid_session_cookie",n.NO_SESSION_COOKIE_PROVIDED="no_session_cookie_provided"},18643,(e,t,r)=>{"use strict";var i,n;Object.defineProperty(r,"__esModule",{value:!0}),r.RefreshAndSealSessionDataFailureReason=void 0,(n=i||(r.RefreshAndSealSessionDataFailureReason=i={})).INVALID_SESSION_COOKE="invalid_session_cookie",n.INVALID_SESSION_COOKIE="invalid_session_cookie",n.NO_SESSION_COOKIE_PROVIDED="no_session_cookie_provided",n.INVALID_GRANT="invalid_grant",n.MFA_ENROLLMENT="mfa_enrollment",n.SSO_REQUIRED="sso_required",n.ORGANIZATION_NOT_AUTHORIZED="organization_not_authorized"},4844,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeRevokeSessionOptions=void 0,r.serializeRevokeSessionOptions=e=>({session_id:e.sessionId})},42858,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeAuthenticateWithEmailVerificationOptions=void 0,r.serializeAuthenticateWithEmailVerificationOptions=e=>({grant_type:"urn:workos:oauth:grant-type:email-verification:code",client_id:e.clientId,client_secret:e.clientSecret,pending_authentication_token:e.pendingAuthenticationToken,code:e.code,ip_address:e.ipAddress,user_agent:e.userAgent})},1193,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeAuthenticateWithOrganizationSelectionOptions=void 0,r.serializeAuthenticateWithOrganizationSelectionOptions=e=>({grant_type:"urn:workos:oauth:grant-type:organization-selection",client_id:e.clientId,client_secret:e.clientSecret,pending_authentication_token:e.pendingAuthenticationToken,organization_id:e.organizationId,ip_address:e.ipAddress,user_agent:e.userAgent})},82732,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeCreateOrganizationMembershipOptions=void 0,r.serializeCreateOrganizationMembershipOptions=e=>({organization_id:e.organizationId,user_id:e.userId,role_slug:e.roleSlug,role_slugs:e.roleSlugs})},43254,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeIdentities=void 0,r.deserializeIdentities=e=>e.map(e=>({idpId:e.idp_id,type:e.type,provider:e.provider}))},43005,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeListInvitationsOptions=void 0,r.serializeListInvitationsOptions=e=>({email:e.email,organization_id:e.organizationId,limit:e.limit,before:e.before,after:e.after,order:e.order})},54955,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeListOrganizationMembershipsOptions=void 0,r.serializeListOrganizationMembershipsOptions=e=>{var t;return{user_id:e.userId,organization_id:e.organizationId,statuses:null==(t=e.statuses)?void 0:t.join(","),limit:e.limit,before:e.before,after:e.after,order:e.order}}},38004,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeListUsersOptions=void 0,r.serializeListUsersOptions=e=>({email:e.email,organization_id:e.organizationId,limit:e.limit,before:e.before,after:e.after,order:e.order})},80954,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeSendInvitationOptions=void 0,r.serializeSendInvitationOptions=e=>({email:e.email,organization_id:e.organizationId,expires_in_days:e.expiresInDays,inviter_user_id:e.inviterUserId,role_slug:e.roleSlug})},63640,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeUpdateOrganizationMembershipOptions=void 0,r.serializeUpdateOrganizationMembershipOptions=e=>({role_slug:e.roleSlug,role_slugs:e.roleSlugs})},24995,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},36255,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},87725,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},23483,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},41793,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},72614,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},43748,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},88581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},26574,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},40277,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},15622,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},18589,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},840,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},12129,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},61325,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},57692,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},61028,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},12280,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},89181,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},34886,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},27278,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},54758,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},29046,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},48446,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},86808,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},83217,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},49667,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},19066,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},37369,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},54256,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},19813,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},74550,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},29506,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},95140,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},9890,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},82254,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},60353,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},76956,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},53292,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},55188,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},33341,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},70793,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},54341,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},60200,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},47141,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(24995),r),n(e.r(36255),r),n(e.r(87725),r),n(e.r(23483),r),n(e.r(41793),r),n(e.r(72614),r),n(e.r(43748),r),n(e.r(88581),r),n(e.r(70525),r),n(e.r(26574),r),n(e.r(40277),r),n(e.r(15622),r),n(e.r(18589),r),n(e.r(840),r),n(e.r(12129),r),n(e.r(61325),r),n(e.r(57692),r),n(e.r(61028),r),n(e.r(12280),r),n(e.r(89181),r),n(e.r(34886),r),n(e.r(27278),r),n(e.r(54758),r),n(e.r(29046),r),n(e.r(48446),r),n(e.r(86808),r),n(e.r(83217),r),n(e.r(49667),r),n(e.r(19066),r),n(e.r(37369),r),n(e.r(54256),r),n(e.r(19813),r),n(e.r(74550),r),n(e.r(29506),r),n(e.r(18643),r),n(e.r(95140),r),n(e.r(4844),r),n(e.r(9890),r),n(e.r(82254),r),n(e.r(60353),r),n(e.r(76956),r),n(e.r(53292),r),n(e.r(55188),r),n(e.r(33341),r),n(e.r(70793),r),n(e.r(54341),r),n(e.r(60200),r)},9325,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.CookieSession=void 0;let n=e.r(83932),o=e.r(39701),a=e.r(47141);r.CookieSession=class{constructor(e,t,r){if(!r)throw Error("cookiePassword is required");this.userManagement=e,this.ironSessionProvider=e.ironSessionProvider,this.cookiePassword=r,this.sessionData=t,this.jwks=this.userManagement.jwks}authenticate(){return i(this,void 0,void 0,function*(){let e;if(!this.sessionData)return{authenticated:!1,reason:a.AuthenticateWithSessionCookieFailureReason.NO_SESSION_COOKIE_PROVIDED};try{e=yield this.ironSessionProvider.unsealData(this.sessionData,{password:this.cookiePassword})}catch(e){return{authenticated:!1,reason:a.AuthenticateWithSessionCookieFailureReason.INVALID_SESSION_COOKIE}}if(!e.accessToken)return{authenticated:!1,reason:a.AuthenticateWithSessionCookieFailureReason.INVALID_SESSION_COOKIE};if(!(yield this.isValidJwt(e.accessToken)))return{authenticated:!1,reason:a.AuthenticateWithSessionCookieFailureReason.INVALID_JWT};let{sid:t,org_id:r,role:i,roles:o,permissions:s,entitlements:c,feature_flags:l}=(0,n.decodeJwt)(e.accessToken);return{authenticated:!0,sessionId:t,organizationId:r,role:i,roles:o,permissions:s,entitlements:c,featureFlags:l,user:e.user,authenticationMethod:e.authenticationMethod,impersonator:e.impersonator,accessToken:e.accessToken}})}refresh(e={}){var t,r;return i(this,void 0,void 0,function*(){let i=yield this.ironSessionProvider.unsealData(this.sessionData,{password:this.cookiePassword});if(!i.refreshToken||!i.user)return{authenticated:!1,reason:a.RefreshAndSealSessionDataFailureReason.INVALID_SESSION_COOKIE};let{org_id:s}=(0,n.decodeJwt)(i.accessToken);try{let o=null!=(t=e.cookiePassword)?t:this.cookiePassword,a=yield this.userManagement.authenticateWithRefreshToken({clientId:this.userManagement.clientId,refreshToken:i.refreshToken,organizationId:null!=(r=e.organizationId)?r:s,session:{sealSession:!0,cookiePassword:o}});e.cookiePassword&&(this.cookiePassword=e.cookiePassword),this.sessionData=a.sealedSession;let{sid:c,org_id:l,role:u,roles:d,permissions:p,entitlements:h,feature_flags:f}=(0,n.decodeJwt)(a.accessToken);return{authenticated:!0,sealedSession:a.sealedSession,session:a,authenticationMethod:a.authenticationMethod,sessionId:c,organizationId:l,role:u,roles:d,permissions:p,entitlements:h,featureFlags:f,user:i.user,impersonator:i.impersonator}}catch(e){if(e instanceof o.OauthException&&(e.error===a.RefreshAndSealSessionDataFailureReason.INVALID_GRANT||e.error===a.RefreshAndSealSessionDataFailureReason.MFA_ENROLLMENT||e.error===a.RefreshAndSealSessionDataFailureReason.SSO_REQUIRED))return{authenticated:!1,reason:e.error};throw e}})}getLogoutUrl({returnTo:e}={}){return i(this,void 0,void 0,function*(){let t=yield this.authenticate();if(!t.authenticated){let{reason:e}=t;throw Error(`Failed to extract session ID for logout URL: ${e}`)}return this.userManagement.getLogoutUrl({sessionId:t.sessionId,returnTo:e})})}isValidJwt(e){return i(this,void 0,void 0,function*(){if(!this.jwks)throw Error("Missing client ID. Did you provide it when initializing WorkOS?");try{return yield(0,n.jwtVerify)(e,this.jwks),!0}catch(e){return!1}})}}},2752,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})},n=e.e&&e.e.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r},o=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagement=void 0;let a=e.r(83932),s=o(e.r(96107)),c=e.r(39701),l=e.r(92357),u=e.r(43659),d=e.r(52991),p=e.r(92855),h=e.r(70525),f=e.r(18643),y=e.r(4844),g=e.r(61348),m=e.r(42858),v=e.r(1193),b=e.r(82732),w=e.r(47365),_=e.r(43254),S=e.r(51246),E=e.r(43005),O=e.r(54955),A=e.r(38004),P=e.r(87494),k=e.r(80954),x=e.r(63640),R=e.r(9325);r.UserManagement=class{constructor(e,t){this.workos=e;const{clientId:r}=e.options;this.clientId=r,this.ironSessionProvider=t}get jwks(){if(this.clientId)return null!=this._jwks||(this._jwks=(0,a.createRemoteJWKSet)(new URL(this.getJwksUrl(this.clientId)),{cooldownDuration:3e5})),this._jwks}loadSealedSession(e){return new R.CookieSession(this,e.sessionData,e.cookiePassword)}getUser(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/user_management/users/${e}`);return(0,g.deserializeUser)(t)})}getUserByExternalId(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/user_management/users/external_id/${e}`);return(0,g.deserializeUser)(t)})}listUsers(e){return i(this,void 0,void 0,function*(){return new u.AutoPaginatable((yield(0,l.fetchAndDeserialize)(this.workos,"/user_management/users",g.deserializeUser,e?(0,A.serializeListUsersOptions)(e):void 0)),e=>(0,l.fetchAndDeserialize)(this.workos,"/user_management/users",g.deserializeUser,e),e?(0,A.serializeListUsersOptions)(e):void 0)})}createUser(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/user_management/users",(0,g.serializeCreateUserOptions)(e));return(0,g.deserializeUser)(t)})}authenticateWithMagicAuth(e){return i(this,void 0,void 0,function*(){let{session:t}=e,r=n(e,["session"]),{data:i}=yield this.workos.post("/user_management/authenticate",(0,g.serializeAuthenticateWithMagicAuthOptions)(Object.assign(Object.assign({},r),{clientSecret:this.workos.key})));return this.prepareAuthenticationResponse({authenticationResponse:(0,g.deserializeAuthenticationResponse)(i),session:t})})}authenticateWithPassword(e){return i(this,void 0,void 0,function*(){let{session:t}=e,r=n(e,["session"]),{data:i}=yield this.workos.post("/user_management/authenticate",(0,g.serializeAuthenticateWithPasswordOptions)(Object.assign(Object.assign({},r),{clientSecret:this.workos.key})));return this.prepareAuthenticationResponse({authenticationResponse:(0,g.deserializeAuthenticationResponse)(i),session:t})})}authenticateWithCode(e){return i(this,void 0,void 0,function*(){let{session:t}=e,r=n(e,["session"]),{data:i}=yield this.workos.post("/user_management/authenticate",(0,g.serializeAuthenticateWithCodeOptions)(Object.assign(Object.assign({},r),{clientSecret:this.workos.key})));return this.prepareAuthenticationResponse({authenticationResponse:(0,g.deserializeAuthenticationResponse)(i),session:t})})}authenticateWithCodeAndVerifier(e){return i(this,void 0,void 0,function*(){let{session:t}=e,r=n(e,["session"]),{data:i}=yield this.workos.post("/user_management/authenticate",(0,g.serializeAuthenticateWithCodeAndVerifierOptions)(r));return this.prepareAuthenticationResponse({authenticationResponse:(0,g.deserializeAuthenticationResponse)(i),session:t})})}authenticateWithRefreshToken(e){return i(this,void 0,void 0,function*(){let{session:t}=e,r=n(e,["session"]),{data:i}=yield this.workos.post("/user_management/authenticate",(0,g.serializeAuthenticateWithRefreshTokenOptions)(Object.assign(Object.assign({},r),{clientSecret:this.workos.key})));return this.prepareAuthenticationResponse({authenticationResponse:(0,g.deserializeAuthenticationResponse)(i),session:t})})}authenticateWithTotp(e){return i(this,void 0,void 0,function*(){let{session:t}=e,r=n(e,["session"]),{data:i}=yield this.workos.post("/user_management/authenticate",(0,g.serializeAuthenticateWithTotpOptions)(Object.assign(Object.assign({},r),{clientSecret:this.workos.key})));return this.prepareAuthenticationResponse({authenticationResponse:(0,g.deserializeAuthenticationResponse)(i),session:t})})}authenticateWithEmailVerification(e){return i(this,void 0,void 0,function*(){let{session:t}=e,r=n(e,["session"]),{data:i}=yield this.workos.post("/user_management/authenticate",(0,m.serializeAuthenticateWithEmailVerificationOptions)(Object.assign(Object.assign({},r),{clientSecret:this.workos.key})));return this.prepareAuthenticationResponse({authenticationResponse:(0,g.deserializeAuthenticationResponse)(i),session:t})})}authenticateWithOrganizationSelection(e){return i(this,void 0,void 0,function*(){let{session:t}=e,r=n(e,["session"]),{data:i}=yield this.workos.post("/user_management/authenticate",(0,v.serializeAuthenticateWithOrganizationSelectionOptions)(Object.assign(Object.assign({},r),{clientSecret:this.workos.key})));return this.prepareAuthenticationResponse({authenticationResponse:(0,g.deserializeAuthenticationResponse)(i),session:t})})}authenticateWithSessionCookie({sessionData:e,cookiePassword:t=process.env.WORKOS_COOKIE_PASSWORD}){return i(this,void 0,void 0,function*(){if(!t)throw Error("Cookie password is required");if(!this.jwks)throw Error("Must provide clientId to initialize JWKS");if(!e)return{authenticated:!1,reason:h.AuthenticateWithSessionCookieFailureReason.NO_SESSION_COOKIE_PROVIDED};let r=yield this.ironSessionProvider.unsealData(e,{password:t});if(!r.accessToken)return{authenticated:!1,reason:h.AuthenticateWithSessionCookieFailureReason.INVALID_SESSION_COOKIE};if(!(yield this.isValidJwt(r.accessToken)))return{authenticated:!1,reason:h.AuthenticateWithSessionCookieFailureReason.INVALID_JWT};let{sid:i,org_id:n,role:o,roles:s,permissions:c,entitlements:l,feature_flags:u}=(0,a.decodeJwt)(r.accessToken);return{authenticated:!0,sessionId:i,organizationId:n,role:o,roles:s,user:r.user,permissions:c,entitlements:l,featureFlags:u,accessToken:r.accessToken,authenticationMethod:r.authenticationMethod}})}isValidJwt(e){return i(this,void 0,void 0,function*(){if(!this.jwks)throw Error("Must provide clientId to initialize JWKS");try{return yield(0,a.jwtVerify)(e,this.jwks),!0}catch(e){return!1}})}refreshAndSealSessionData({sessionData:e,organizationId:t,cookiePassword:r=process.env.WORKOS_COOKIE_PASSWORD}){return i(this,void 0,void 0,function*(){if(!r)throw Error("Cookie password is required");if(!e)return{authenticated:!1,reason:f.RefreshAndSealSessionDataFailureReason.NO_SESSION_COOKIE_PROVIDED};let i=yield this.ironSessionProvider.unsealData(e,{password:r});if(!i.refreshToken||!i.user)return{authenticated:!1,reason:f.RefreshAndSealSessionDataFailureReason.INVALID_SESSION_COOKIE};let{org_id:n}=(0,a.decodeJwt)(i.accessToken);try{let{sealedSession:e}=yield this.authenticateWithRefreshToken({clientId:this.workos.clientId,refreshToken:i.refreshToken,organizationId:null!=t?t:n,session:{sealSession:!0,cookiePassword:r}});if(!e)return{authenticated:!1,reason:f.RefreshAndSealSessionDataFailureReason.INVALID_SESSION_COOKIE};return{authenticated:!0,sealedSession:e}}catch(e){if(e instanceof c.OauthException&&(e.error===f.RefreshAndSealSessionDataFailureReason.INVALID_GRANT||e.error===f.RefreshAndSealSessionDataFailureReason.MFA_ENROLLMENT||e.error===f.RefreshAndSealSessionDataFailureReason.SSO_REQUIRED))return{authenticated:!1,reason:e.error};throw e}})}prepareAuthenticationResponse({authenticationResponse:e,session:t}){return i(this,void 0,void 0,function*(){return(null==t?void 0:t.sealSession)?Object.assign(Object.assign({},e),{sealedSession:yield this.sealSessionDataFromAuthenticationResponse({authenticationResponse:e,cookiePassword:t.cookiePassword})}):e})}sealSessionDataFromAuthenticationResponse({authenticationResponse:e,cookiePassword:t}){return i(this,void 0,void 0,function*(){if(!t)throw Error("Cookie password is required");let{org_id:r}=(0,a.decodeJwt)(e.accessToken),i={organizationId:r,user:e.user,accessToken:e.accessToken,refreshToken:e.refreshToken,authenticationMethod:e.authenticationMethod,impersonator:e.impersonator};return this.ironSessionProvider.sealData(i,{password:t})})}getSessionFromCookie({sessionData:e,cookiePassword:t=process.env.WORKOS_COOKIE_PASSWORD}){return i(this,void 0,void 0,function*(){if(!t)throw Error("Cookie password is required");if(e)return this.ironSessionProvider.unsealData(e,{password:t})})}getEmailVerification(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/user_management/email_verification/${e}`);return(0,g.deserializeEmailVerification)(t)})}sendVerificationEmail({userId:e}){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post(`/user_management/users/${e}/email_verification/send`,{});return{user:(0,g.deserializeUser)(t.user)}})}getMagicAuth(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/user_management/magic_auth/${e}`);return(0,g.deserializeMagicAuth)(t)})}createMagicAuth(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/user_management/magic_auth",(0,g.serializeCreateMagicAuthOptions)(Object.assign({},e)));return(0,g.deserializeMagicAuth)(t)})}sendMagicAuthCode(e){return i(this,void 0,void 0,function*(){yield this.workos.post("/user_management/magic_auth/send",(0,g.serializeSendMagicAuthCodeOptions)(e))})}verifyEmail({code:e,userId:t}){return i(this,void 0,void 0,function*(){let{data:r}=yield this.workos.post(`/user_management/users/${t}/email_verification/confirm`,{code:e});return{user:(0,g.deserializeUser)(r.user)}})}getPasswordReset(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/user_management/password_reset/${e}`);return(0,g.deserializePasswordReset)(t)})}createPasswordReset(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/user_management/password_reset",(0,g.serializeCreatePasswordResetOptions)(Object.assign({},e)));return(0,g.deserializePasswordReset)(t)})}sendPasswordResetEmail(e){return i(this,void 0,void 0,function*(){yield this.workos.post("/user_management/password_reset/send",(0,g.serializeSendPasswordResetEmailOptions)(e))})}resetPassword(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/user_management/password_reset/confirm",(0,g.serializeResetPasswordOptions)(e));return{user:(0,g.deserializeUser)(t.user)}})}updateUser(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.put(`/user_management/users/${e.userId}`,(0,g.serializeUpdateUserOptions)(e));return(0,g.deserializeUser)(t)})}enrollAuthFactor(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post(`/user_management/users/${e.userId}/auth_factors`,(0,g.serializeEnrollAuthFactorOptions)(e));return{authenticationFactor:(0,g.deserializeFactorWithSecrets)(t.authentication_factor),authenticationChallenge:(0,d.deserializeChallenge)(t.authentication_challenge)}})}listAuthFactors(e){return i(this,void 0,void 0,function*(){let{userId:t}=e,r=n(e,["userId"]);return new u.AutoPaginatable((yield(0,l.fetchAndDeserialize)(this.workos,`/user_management/users/${t}/auth_factors`,w.deserializeFactor,r)),e=>(0,l.fetchAndDeserialize)(this.workos,`/user_management/users/${t}/auth_factors`,w.deserializeFactor,e),r)})}listUserFeatureFlags(e){return i(this,void 0,void 0,function*(){let{userId:t}=e,r=n(e,["userId"]);return new u.AutoPaginatable((yield(0,l.fetchAndDeserialize)(this.workos,`/user_management/users/${t}/feature-flags`,p.deserializeFeatureFlag,r)),e=>(0,l.fetchAndDeserialize)(this.workos,`/user_management/users/${t}/feature-flags`,p.deserializeFeatureFlag,e),r)})}listSessions(e,t){return i(this,void 0,void 0,function*(){return new u.AutoPaginatable((yield(0,l.fetchAndDeserialize)(this.workos,`/user_management/users/${e}/sessions`,g.deserializeSession,t?(0,g.serializeListSessionsOptions)(t):void 0)),t=>(0,l.fetchAndDeserialize)(this.workos,`/user_management/users/${e}/sessions`,g.deserializeSession,t),t?(0,g.serializeListSessionsOptions)(t):void 0)})}deleteUser(e){return i(this,void 0,void 0,function*(){yield this.workos.delete(`/user_management/users/${e}`)})}getUserIdentities(e){return i(this,void 0,void 0,function*(){if(!e)throw TypeError("Incomplete arguments. Need to specify 'userId'.");let{data:t}=yield this.workos.get(`/user_management/users/${e}/identities`);return(0,_.deserializeIdentities)(t)})}getOrganizationMembership(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/user_management/organization_memberships/${e}`);return(0,P.deserializeOrganizationMembership)(t)})}listOrganizationMemberships(e){return i(this,void 0,void 0,function*(){return new u.AutoPaginatable((yield(0,l.fetchAndDeserialize)(this.workos,"/user_management/organization_memberships",P.deserializeOrganizationMembership,e?(0,O.serializeListOrganizationMembershipsOptions)(e):void 0)),e=>(0,l.fetchAndDeserialize)(this.workos,"/user_management/organization_memberships",P.deserializeOrganizationMembership,e),e?(0,O.serializeListOrganizationMembershipsOptions)(e):void 0)})}createOrganizationMembership(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/user_management/organization_memberships",(0,b.serializeCreateOrganizationMembershipOptions)(e));return(0,P.deserializeOrganizationMembership)(t)})}updateOrganizationMembership(e,t){return i(this,void 0,void 0,function*(){let{data:r}=yield this.workos.put(`/user_management/organization_memberships/${e}`,(0,x.serializeUpdateOrganizationMembershipOptions)(t));return(0,P.deserializeOrganizationMembership)(r)})}deleteOrganizationMembership(e){return i(this,void 0,void 0,function*(){yield this.workos.delete(`/user_management/organization_memberships/${e}`)})}deactivateOrganizationMembership(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.put(`/user_management/organization_memberships/${e}/deactivate`,{});return(0,P.deserializeOrganizationMembership)(t)})}reactivateOrganizationMembership(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.put(`/user_management/organization_memberships/${e}/reactivate`,{});return(0,P.deserializeOrganizationMembership)(t)})}getInvitation(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/user_management/invitations/${e}`);return(0,S.deserializeInvitation)(t)})}findInvitationByToken(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/user_management/invitations/by_token/${e}`);return(0,S.deserializeInvitation)(t)})}listInvitations(e){return i(this,void 0,void 0,function*(){return new u.AutoPaginatable((yield(0,l.fetchAndDeserialize)(this.workos,"/user_management/invitations",S.deserializeInvitation,e?(0,E.serializeListInvitationsOptions)(e):void 0)),e=>(0,l.fetchAndDeserialize)(this.workos,"/user_management/invitations",S.deserializeInvitation,e),e?(0,E.serializeListInvitationsOptions)(e):void 0)})}sendInvitation(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/user_management/invitations",(0,k.serializeSendInvitationOptions)(Object.assign({},e)));return(0,S.deserializeInvitation)(t)})}acceptInvitation(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post(`/user_management/invitations/${e}/accept`,null);return(0,S.deserializeInvitation)(t)})}revokeInvitation(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post(`/user_management/invitations/${e}/revoke`,null);return(0,S.deserializeInvitation)(t)})}resendInvitation(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post(`/user_management/invitations/${e}/resend`,null);return(0,S.deserializeInvitation)(t)})}revokeSession(e){return i(this,void 0,void 0,function*(){yield this.workos.post("/user_management/sessions/revoke",(0,y.serializeRevokeSessionOptions)(e))})}getAuthorizationUrl({connectionId:e,codeChallenge:t,codeChallengeMethod:r,context:i,clientId:n,domainHint:o,loginHint:a,organizationId:c,provider:l,providerQueryParams:u,providerScopes:d,prompt:p,redirectUri:h,state:f,screenHint:y}){let g;if(!l&&!e&&!c)throw TypeError("Incomplete arguments. Need to specify either a 'connectionId', 'organizationId', or 'provider'.");if("authkit"!==l&&y)throw TypeError("'screenHint' is only supported for 'authkit' provider");i&&this.workos.emitWarning(`\`context\` is deprecated. We previously required initiate login endpoints to return the
\`context\` query parameter when getting the authorization URL. This is no longer necessary.`);let m=(g={connection_id:e,code_challenge:t,code_challenge_method:r,context:i,organization_id:c,domain_hint:o,login_hint:a,provider:l,provider_query_params:u,provider_scopes:d,prompt:p,client_id:n,redirect_uri:h,response_type:"code",state:f,screen_hint:y},s.default.stringify(g,{arrayFormat:"repeat",sort:(e,t)=>e.localeCompare(t),format:"RFC1738"}));return`${this.workos.baseURL}/user_management/authorize?${m}`}getLogoutUrl({sessionId:e,returnTo:t}){if(!e)throw TypeError("Incomplete arguments. Need to specify 'sessionId'.");let r=new URL("/user_management/sessions/logout",this.workos.baseURL);return r.searchParams.set("session_id",e),t&&r.searchParams.set("return_to",t),r.toString()}getLogoutUrlFromSessionCookie({sessionData:e,cookiePassword:t=process.env.WORKOS_COOKIE_PASSWORD}){return i(this,void 0,void 0,function*(){let r=yield this.authenticateWithSessionCookie({sessionData:e,cookiePassword:t});if(!r.authenticated){let{reason:e}=r;throw Error(`Failed to extract session ID for logout URL: ${e}`)}return this.getLogoutUrl({sessionId:r.sessionId})})}getJwksUrl(e){if(!e)throw TypeError("clientId must be a valid clientId");return`${this.workos.baseURL}/sso/jwks/${e}`}}},54161,(e,t,r)=>{"use strict";var i,n;Object.defineProperty(r,"__esModule",{value:!0}),r.CheckOp=void 0,(n=i||(r.CheckOp=i={})).AllOf="all_of",n.AnyOf="any_of"},67387,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isResourceInterface=r.isSubject=void 0,r.isSubject=function(e){return Object.prototype.hasOwnProperty.call(e,"resourceType")&&Object.prototype.hasOwnProperty.call(e,"resourceId")},r.isResourceInterface=function(e){return!!e&&"object"==typeof e&&"getResouceType"in e&&"getResourceId"in e}},56025,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeDecisionTreeNode=r.serializeCheckBatchOptions=r.serializeCheckOptions=void 0;let i=e.r(67387);r.serializeCheckOptions=e=>({op:e.op,checks:e.checks.map(n),debug:e.debug}),r.serializeCheckBatchOptions=e=>({op:"batch",checks:e.checks.map(n),debug:e.debug});let n=e=>{var t;return{resource_type:(0,i.isResourceInterface)(e.resource)?e.resource.getResourceType():e.resource.resourceType,resource_id:(0,i.isResourceInterface)(e.resource)?e.resource.getResourceId():e.resource.resourceId?e.resource.resourceId:"",relation:e.relation,subject:(0,i.isSubject)(e.subject)?{resource_type:e.subject.resourceType,resource_id:e.subject.resourceId}:{resource_type:e.subject.getResourceType(),resource_id:e.subject.getResourceId()},context:null!=(t=e.context)?t:{}}};r.deserializeDecisionTreeNode=e=>({check:{resource:{resourceType:e.check.resource_type,resourceId:e.check.resource_id},relation:e.check.relation,subject:{resourceType:e.check.subject.resource_type,resourceId:e.check.subject.resource_id},context:e.check.context},policy:e.policy,decision:e.decision,processingTime:e.processing_time,children:e.children.map(r.deserializeDecisionTreeNode)})},74506,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CheckResult=void 0;let i=e.r(56025);r.CheckResult=class{constructor(e){this.result=e.result,this.isImplicit=e.is_implicit,this.warrantToken=e.warrant_token,this.debugInfo=e.debug_info?{processingTime:e.debug_info.processing_time,decisionTree:(0,i.deserializeDecisionTreeNode)(e.debug_info.decision_tree)}:void 0,this.warnings=e.warnings}isAuthorized(){return"authorized"===this.result}}},57738,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},76784,(e,t,r)=>{"use strict";var i,n;Object.defineProperty(r,"__esModule",{value:!0}),r.ResourceOp=void 0,(n=i||(r.ResourceOp=i={})).Create="create",n.Delete="delete"},83806,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},37246,(e,t,r)=>{"use strict";var i,n;Object.defineProperty(r,"__esModule",{value:!0}),r.WarrantOp=void 0,(n=i||(r.WarrantOp=i={})).Create="create",n.Delete="delete"},67137,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},3528,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},49866,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(54161),r),n(e.r(74506),r),n(e.r(57738),r),n(e.r(76784),r),n(e.r(83806),r),n(e.r(37246),r),n(e.r(67137),r),n(e.r(3528),r)},66128,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeCreateResourceOptions=void 0;let i=e.r(67387);r.serializeCreateResourceOptions=e=>({resource_type:(0,i.isResourceInterface)(e.resource)?e.resource.getResourceType():e.resource.resourceType,resource_id:(0,i.isResourceInterface)(e.resource)?e.resource.getResourceId():e.resource.resourceId?e.resource.resourceId:"",meta:e.meta})},99817,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeDeleteResourceOptions=void 0;let i=e.r(67387);r.serializeDeleteResourceOptions=e=>({resource_type:(0,i.isResourceInterface)(e)?e.getResourceType():e.resourceType,resource_id:(0,i.isResourceInterface)(e)?e.getResourceId():e.resourceId?e.resourceId:""})},73134,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeBatchWriteResourcesOptions=void 0;let i=e.r(49866),n=e.r(66128),o=e.r(99817);r.serializeBatchWriteResourcesOptions=e=>{let t=[];return e.op===i.ResourceOp.Create?t=e.resources.map(e=>(0,n.serializeCreateResourceOptions)(e)):e.op===i.ResourceOp.Delete&&(t=e.resources.map(e=>(0,o.serializeDeleteResourceOptions)(e))),{op:e.op,resources:t}}},96997,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeListResourceOptions=void 0,r.serializeListResourceOptions=e=>({resource_type:e.resourceType,search:e.search,limit:e.limit,before:e.before,after:e.after,order:e.order})},82627,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeListWarrantsOptions=void 0,r.serializeListWarrantsOptions=e=>({resource_type:e.resourceType,resource_id:e.resourceId,relation:e.relation,subject_type:e.subjectType,subject_id:e.subjectId,subject_relation:e.subjectRelation,limit:e.limit,after:e.after})},33992,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeQueryOptions=void 0,r.serializeQueryOptions=e=>({q:e.q,context:JSON.stringify(e.context),limit:e.limit,before:e.before,after:e.after,order:e.order})},99852,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeQueryResult=void 0,r.deserializeQueryResult=e=>({resourceType:e.resource_type,resourceId:e.resource_id,relation:e.relation,warrant:{resourceType:e.warrant.resource_type,resourceId:e.warrant.resource_id,relation:e.warrant.relation,subject:{resourceType:e.warrant.subject.resource_type,resourceId:e.warrant.subject.resource_id,relation:e.warrant.subject.relation}},isImplicit:e.is_implicit,meta:e.meta})},67225,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeBatchWriteResourcesResponse=r.deserializeResource=void 0,r.deserializeResource=e=>({resourceType:e.resource_type,resourceId:e.resource_id,meta:e.meta}),r.deserializeBatchWriteResourcesResponse=e=>e.data.map(e=>(0,r.deserializeResource)(e))},79302,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeWarrantToken=void 0,r.deserializeWarrantToken=e=>({warrantToken:e.warrant_token})},34677,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeWarrant=void 0,r.deserializeWarrant=e=>({resourceType:e.resource_type,resourceId:e.resource_id,relation:e.relation,subject:{resourceType:e.subject.resource_type,resourceId:e.subject.resource_id,relation:e.subject.relation},policy:e.policy})},35362,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeWriteWarrantOptions=void 0;let i=e.r(67387);r.serializeWriteWarrantOptions=e=>({op:e.op,resource_type:(0,i.isResourceInterface)(e.resource)?e.resource.getResourceType():e.resource.resourceType,resource_id:(0,i.isResourceInterface)(e.resource)?e.resource.getResourceId():e.resource.resourceId?e.resource.resourceId:"",relation:e.relation,subject:(0,i.isSubject)(e.subject)?{resource_type:e.subject.resourceType,resource_id:e.subject.resourceId}:{resource_type:e.subject.getResourceType(),resource_id:e.subject.getResourceId()},policy:e.policy})},54455,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeFGAList=void 0,r.deserializeFGAList=(e,t)=>({object:"list",data:e.data.map(t),listMetadata:e.list_metadata,warnings:e.warnings})},20692,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(56025),r),n(e.r(73134),r),n(e.r(66128),r),n(e.r(99817),r),n(e.r(96997),r),n(e.r(82627),r),n(e.r(33992),r),n(e.r(99852),r),n(e.r(67225),r),n(e.r(79302),r),n(e.r(34677),r),n(e.r(35362),r),n(e.r(54455),r)},20454,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FgaPaginatable=void 0;let i=e.r(43659);class n extends i.AutoPaginatable{constructor(e,t,r){super(e,t,r)}get warnings(){return this.list.warnings}}r.FgaPaginatable=n},17032,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.fetchAndDeserializeFGAList=void 0;let n=e.r(54455);r.fetchAndDeserializeFGAList=(e,t,r,o,a)=>i(void 0,void 0,void 0,function*(){let{data:i}=yield e.get(t,Object.assign({query:o},a));return(0,n.deserializeFGAList)(i,r)})},54583,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.FGA=void 0;let n=e.r(49866),o=e.r(20692),a=e.r(67387),s=e.r(43659),c=e.r(92357),l=e.r(20454),u=e.r(17032);r.FGA=class{constructor(e){this.workos=e}check(e,t={}){return i(this,void 0,void 0,function*(){let{data:r}=yield this.workos.post("/fga/v1/check",(0,o.serializeCheckOptions)(e),t);return new n.CheckResult(r)})}checkBatch(e,t={}){return i(this,void 0,void 0,function*(){let{data:r}=yield this.workos.post("/fga/v1/check",(0,o.serializeCheckBatchOptions)(e),t);return r.map(e=>new n.CheckResult(e))})}createResource(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/fga/v1/resources",(0,o.serializeCreateResourceOptions)(e));return(0,o.deserializeResource)(t)})}getResource(e){return i(this,void 0,void 0,function*(){let t=(0,a.isResourceInterface)(e)?e.getResourceType():e.resourceType,r=(0,a.isResourceInterface)(e)?e.getResourceId():e.resourceId,{data:i}=yield this.workos.get(`/fga/v1/resources/${t}/${r}`);return(0,o.deserializeResource)(i)})}listResources(e){return i(this,void 0,void 0,function*(){return new s.AutoPaginatable((yield(0,c.fetchAndDeserialize)(this.workos,"/fga/v1/resources",o.deserializeResource,e?(0,o.serializeListResourceOptions)(e):void 0)),e=>(0,c.fetchAndDeserialize)(this.workos,"/fga/v1/resources",o.deserializeResource,e),e?(0,o.serializeListResourceOptions)(e):void 0)})}updateResource(e){return i(this,void 0,void 0,function*(){let t=(0,a.isResourceInterface)(e.resource)?e.resource.getResourceType():e.resource.resourceType,r=(0,a.isResourceInterface)(e.resource)?e.resource.getResourceId():e.resource.resourceId,{data:i}=yield this.workos.put(`/fga/v1/resources/${t}/${r}`,{meta:e.meta});return(0,o.deserializeResource)(i)})}deleteResource(e){return i(this,void 0,void 0,function*(){let t=(0,a.isResourceInterface)(e)?e.getResourceType():e.resourceType,r=(0,a.isResourceInterface)(e)?e.getResourceId():e.resourceId;yield this.workos.delete(`/fga/v1/resources/${t}/${r}`)})}batchWriteResources(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/fga/v1/resources/batch",(0,o.serializeBatchWriteResourcesOptions)(e));return(0,o.deserializeBatchWriteResourcesResponse)(t)})}writeWarrant(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/fga/v1/warrants",(0,o.serializeWriteWarrantOptions)(e));return(0,o.deserializeWarrantToken)(t)})}batchWriteWarrants(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/fga/v1/warrants",e.map(o.serializeWriteWarrantOptions));return(0,o.deserializeWarrantToken)(t)})}listWarrants(e,t){return i(this,void 0,void 0,function*(){return new s.AutoPaginatable((yield(0,c.fetchAndDeserialize)(this.workos,"/fga/v1/warrants",o.deserializeWarrant,e?(0,o.serializeListWarrantsOptions)(e):void 0,t)),e=>(0,c.fetchAndDeserialize)(this.workos,"/fga/v1/warrants",o.deserializeWarrant,e,t),e?(0,o.serializeListWarrantsOptions)(e):void 0)})}query(e,t={}){return i(this,void 0,void 0,function*(){return new l.FgaPaginatable((yield(0,u.fetchAndDeserializeFGAList)(this.workos,"/fga/v1/query",o.deserializeQueryResult,(0,o.serializeQueryOptions)(e),t)),e=>(0,u.fetchAndDeserializeFGAList)(this.workos,"/fga/v1/query",o.deserializeQueryResult,e,t),(0,o.serializeQueryOptions)(e))})}}},54552,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.FeatureFlags=void 0;let n=e.r(43659),o=e.r(92855),a=e.r(92357);r.FeatureFlags=class{constructor(e){this.workos=e}listFeatureFlags(e){return i(this,void 0,void 0,function*(){return new n.AutoPaginatable((yield(0,a.fetchAndDeserialize)(this.workos,"/feature-flags",o.deserializeFeatureFlag,e)),e=>(0,a.fetchAndDeserialize)(this.workos,"/feature-flags",o.deserializeFeatureFlag,e),e)})}getFeatureFlag(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/feature-flags/${e}`);return(0,o.deserializeFeatureFlag)(t)})}enableFeatureFlag(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.put(`/feature-flags/${e}/enable`,{});return(0,o.deserializeFeatureFlag)(t)})}disableFeatureFlag(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.put(`/feature-flags/${e}/disable`,{});return(0,o.deserializeFeatureFlag)(t)})}addFlagTarget(e){return i(this,void 0,void 0,function*(){let{slug:t,targetId:r}=e;yield this.workos.post(`/feature-flags/${t}/targets/${r}`,{})})}removeFlagTarget(e){return i(this,void 0,void 0,function*(){let{slug:t,targetId:r}=e;yield this.workos.delete(`/feature-flags/${t}/targets/${r}`)})}}},4768,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeGetTokenResponse=r.serializeGetTokenOptions=void 0,r.serializeGetTokenOptions=e=>({organization_id:e.organizationId,user_id:e.userId,scopes:e.scopes}),r.deserializeGetTokenResponse=e=>({token:e.token})},19795,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.Widgets=void 0;let n=e.r(4768);r.Widgets=class{constructor(e){this.workos=e}getToken(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/widgets/token",(0,n.serializeGetTokenOptions)(e));return(0,n.deserializeGetTokenResponse)(t).token})}}},61936,(e,t,r)=>{"use strict";t.exports={extract:function(e,t,r,i){if(r<0||r>32)throw Error("Bad value for bitLength.");if(void 0===i)i=0;else if(0!==i&&1!==i)throw Error("Bad value for defaultBit.");var n=255*i,o=0,a=t+r,s=Math.floor(t/8),c=Math.floor(a/8),l=a%8;for(0!==l&&(o=u(c)&(1<<l)-1);c>s;)o=o<<8|u(--c);return o>>>t%8;function u(t){var r=e[t];return void 0===r?n:r}},inject:function(e,t,r,i){if(r<0||r>32)throw Error("Bad value for bitLength.");var n=Math.floor((t+r-1)/8);if(t<0||n>=e.length)throw Error("Index out of range.");for(var o=Math.floor(t/8),a=t%8;r>0;)1&i?e[o]|=1<<a:e[o]&=~(1<<a),i>>=1,r--,0==(a=(a+1)%8)&&o++},getSign:function(e){return e[e.length-1]>>>7},highOrder:function(e,t){for(var r=t.length,i=(1^e)*255;r>0&&t[r-1]===i;)r--;if(0===r)return -1;for(var n=t[r-1],o=8*r-1,a=7;a>0&&(n>>a&1)!==e;a--)o--;return o}}},21003,(e,t,r)=>{"use strict";var i=[];function n(e,t){if(0===t)return!1;var r=t&-t,i=e+r;return i===e||i-r!==e}function o(e){var t=i[e];return t?i[e]=void 0:t=Buffer.alloc(e),t.fill(0),t}function a(e){var t=e.length;t<20&&(i[t]=e)}function s(e,t){if(e<0||e>0xfffffffffffff800)throw Error("Value out of range.");var r=Math.floor(e/0x100000000);t.writeUInt32LE(e%0x100000000,0),t.writeUInt32LE(r,4)}t.exports={alloc:o,free:a,readInt:function(e){var t=e.length,r=e[t-1]<128?0:-1,i=!1;if(t<7)for(var o=t-1;o>=0;o--)r=256*r+e[o];else for(var o=t-1;o>=0;o--){var a=e[o];n(r*=256,a)&&(i=!0),r+=a}return{value:r,lossy:i}},readUInt:function(e){var t=e.length,r=0,i=!1;if(t<7)for(var o=t-1;o>=0;o--)r=256*r+e[o];else for(var o=t-1;o>=0;o--){var a=e[o];n(r*=256,a)&&(i=!0),r+=a}return{value:r,lossy:i}},resize:function(e,t){if(t===e.length)return e;var r=o(t);return e.copy(r),a(e),r},writeInt64:function(e,t){if(e<-0x8000000000000000||e>0x7ffffffffffffc00)throw Error("Value out of range.");e<0&&(e+=0xffffffffffffffff),s(e,t)},writeUInt64:s}},25140,(e,t,r)=>{"use strict";var i=e.r(61936),n=e.r(21003);function o(e,t){t?(o=i.getSign(e),a=i.highOrder(1^i.getSign(e),e)+2):(o=0,a=i.highOrder(1,e)+1||1);for(var r,o,a,s=Math.ceil(a/7),c=n.alloc(s),l=0;l<s;l++){var u=i.extract(e,7*l,7,o);c[l]=128|u}return c[s-1]&=127,c}function a(e,t,r){for(var o,a,s=function(e,t){for(var r=0;e[t+r]>=128;)r++;if(t+ ++r>e.length)throw Error("Bogus encoding");return r}(e,t=void 0===t?0:t),c=Math.ceil(7*s/8),l=n.alloc(c),u=0;s>0;)i.inject(l,u,7,e[t]),u+=7,t++,s--;if(r){var d=l[c-1],p=u%8;if(0!==p){var h=32-p;d=l[c-1]=d<<h>>h&255}a=255*(o=d>>7)}else o=0,a=0;for(;c>1&&l[c-1]===a&&(!r||l[c-2]>>7===o);)c--;return{value:l=n.resize(l,c),nextIndex:t}}function s(e){return o(e,!0)}function c(e,t){return a(e,t,!0)}function l(e){return o(e,!1)}function u(e,t){return a(e,t,!1)}t.exports={decodeInt32:function(e,t){var r=c(e,t),i=n.readInt(r.value).value;if(n.free(r.value),i<-0x80000000||i>0x7fffffff)throw Error("Result out of range");return{value:i,nextIndex:r.nextIndex}},decodeInt64:function(e,t){var r=c(e,t),i=n.readInt(r.value),o=i.value;if(n.free(r.value),o<-0x8000000000000000||o>0x7ffffffffffffc00)throw Error("Result out of range");return{value:o,nextIndex:r.nextIndex,lossy:i.lossy}},decodeIntBuffer:c,decodeUInt32:function(e,t){var r=u(e,t),i=n.readUInt(r.value).value;if(n.free(r.value),i>0xffffffff)throw Error("Result out of range");return{value:i,nextIndex:r.nextIndex}},decodeUInt64:function(e,t){var r=u(e,t),i=n.readUInt(r.value),o=i.value;if(n.free(r.value),o>0xfffffffffffff800)throw Error("Result out of range");return{value:o,nextIndex:r.nextIndex,lossy:i.lossy}},decodeUIntBuffer:u,encodeInt32:function(e){var t=n.alloc(4);t.writeInt32LE(e,0);var r=s(t);return n.free(t),r},encodeInt64:function(e){var t=n.alloc(8);n.writeInt64(e,t);var r=s(t);return n.free(t),r},encodeIntBuffer:s,encodeUInt32:function(e){var t=n.alloc(4);t.writeUInt32LE(e,0);var r=l(t);return n.free(t),r},encodeUInt64:function(e){var t=n.alloc(8);n.writeUInt64(e,t);var r=l(t);return n.free(t),r},encodeUIntBuffer:l}},94841,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.uint8ArrayToBase64=r.base64ToUint8Array=void 0,r.base64ToUint8Array=function(e){if("function"==typeof atob){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}if("u">typeof Buffer)return new Uint8Array(Buffer.from(e,"base64"));throw Error("No base64 decoding implementation available")},r.uint8ArrayToBase64=function(e){if("function"==typeof btoa){let t="";for(let r=0;r<e.byteLength;r++)t+=String.fromCharCode(e[r]);return btoa(t)}if("u">typeof Buffer)return Buffer.from(e).toString("base64");throw Error("No base64 encoding implementation available")}},3601,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeDecryptDataKeyResponse=r.deserializeCreateDataKeyResponse=void 0,r.deserializeCreateDataKeyResponse=e=>({context:e.context,dataKey:{key:e.data_key,id:e.id},encryptedKeys:e.encrypted_keys}),r.deserializeDecryptDataKeyResponse=e=>({key:e.data_key,id:e.id})},52198,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeUpdateObjectEntity=r.serializeCreateObjectEntity=r.desrializeListObjectVersions=r.deserializeListObjects=r.deserializeObject=r.deserializeObjectMetadata=void 0,r.deserializeObjectMetadata=e=>({context:e.context,environmentId:e.environment_id,id:e.id,keyId:e.key_id,updatedAt:new Date(Date.parse(e.updated_at)),updatedBy:e.updated_by,versionId:e.version_id}),r.deserializeObject=e=>({id:e.id,name:e.name,value:e.value,metadata:(0,r.deserializeObjectMetadata)(e.metadata)});let i=e=>({id:e.id,name:e.name,updatedAt:new Date(Date.parse(e.updated_at))});r.deserializeListObjects=e=>{var t,r;return{object:"list",data:e.data.map(i),listMetadata:{after:null!=(t=e.list_metadata.after)?t:void 0,before:null!=(r=e.list_metadata.before)?r:void 0}}},r.desrializeListObjectVersions=e=>e.data.map(n);let n=e=>({createdAt:new Date(Date.parse(e.created_at)),currentVersion:e.current_version,id:e.id});r.serializeCreateObjectEntity=e=>({name:e.name,value:e.value,key_context:e.context}),r.serializeUpdateObjectEntity=e=>({value:e.value,version_check:e.versionCheck})},75399,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.Vault=void 0;let n=e.r(25140),o=e.r(94841),a=e.r(3601),s=e.r(52198);r.Vault=class{constructor(e){this.workos=e,this.createSecret=this.createObject,this.listSecrets=this.listObjects,this.listSecretVersions=this.listObjectVersions,this.readSecret=this.readObject,this.describeSecret=this.describeObject,this.updateSecret=this.updateObject,this.deleteSecret=this.deleteObject,this.cryptoProvider=e.getCryptoProvider()}decode(e){let t=(0,o.base64ToUint8Array)(e),r=new Uint8Array(t.subarray(0,12)),i=new Uint8Array(t.subarray(12,28)),{value:a,nextIndex:s}=(0,n.decodeUInt32)(t,28),c=t.subarray(s,s+a);return{iv:r,tag:i,keys:(0,o.uint8ArrayToBase64)(c),ciphertext:new Uint8Array(t.subarray(s+a))}}createObject(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/vault/v1/kv",(0,s.serializeCreateObjectEntity)(e));return(0,s.deserializeObjectMetadata)(t)})}listObjects(e){return i(this,void 0,void 0,function*(){let t=new URL("/vault/v1/kv",this.workos.baseURL);(null==e?void 0:e.after)&&t.searchParams.set("after",e.after),(null==e?void 0:e.limit)&&t.searchParams.set("limit",e.limit.toString());let{data:r}=yield this.workos.get(t.toString());return(0,s.deserializeListObjects)(r)})}listObjectVersions(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/vault/v1/kv/${encodeURIComponent(e.id)}/versions`);return(0,s.desrializeListObjectVersions)(t)})}readObject(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/vault/v1/kv/${encodeURIComponent(e.id)}`);return(0,s.deserializeObject)(t)})}readObjectByName(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/vault/v1/kv/name/${encodeURIComponent(e)}`);return(0,s.deserializeObject)(t)})}describeObject(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.get(`/vault/v1/kv/${encodeURIComponent(e.id)}/metadata`);return(0,s.deserializeObject)(t)})}updateObject(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.put(`/vault/v1/kv/${encodeURIComponent(e.id)}`,(0,s.serializeUpdateObjectEntity)(e));return(0,s.deserializeObject)(t)})}deleteObject(e){return i(this,void 0,void 0,function*(){return this.workos.delete(`/vault/v1/kv/${encodeURIComponent(e.id)}`)})}createDataKey(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/vault/v1/keys/data-key",e);return(0,a.deserializeCreateDataKeyResponse)(t)})}decryptDataKey(e){return i(this,void 0,void 0,function*(){let{data:t}=yield this.workos.post("/vault/v1/keys/decrypt",e);return(0,a.deserializeDecryptDataKeyResponse)(t)})}encrypt(e,t,r){return i(this,void 0,void 0,function*(){let i=yield this.createDataKey({context:t}),a=new TextEncoder,s=(0,o.base64ToUint8Array)(i.dataKey.key),c=(0,o.base64ToUint8Array)(i.encryptedKeys),l=(0,n.encodeUInt32)(c.length),u=r?a.encode(r):void 0,d=this.cryptoProvider.randomBytes(12),{ciphertext:p,iv:h,tag:f}=yield this.cryptoProvider.encrypt(a.encode(e),s,d,u),y=new Uint8Array(h.length+f.length+l.length+c.length+p.length),g=0;return y.set(h,g),g+=h.length,y.set(f,g),g+=f.length,y.set(new Uint8Array(l),g),g+=l.length,y.set(c,g),g+=c.length,y.set(p,g),(0,o.uint8ArrayToBase64)(y)})}decrypt(e,t){return i(this,void 0,void 0,function*(){let r=this.decode(e),i=yield this.decryptDataKey({keys:r.keys}),n=(0,o.base64ToUint8Array)(i.key),a=new TextEncoder,s=t?a.encode(t):void 0,c=yield this.cryptoProvider.decrypt(r.ciphertext,n,r.iv,r.tag,s);return new TextDecoder().decode(c)})}}},5153,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ConflictException=void 0,r.ConflictException=class extends Error{constructor({error:e,message:t,requestID:r}){super(),this.status=409,this.name="ConflictException",this.requestID=r,t?this.message=t:e?this.message=`Error: ${e}`:this.message="An conflict has occurred on the server."}}},66610,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.WorkOS=void 0;let n=e.r(76831),o=e.r(47682),a=e.r(49428),s=e.r(54527),c=e.r(79862),l=e.r(84977),u=e.r(22459),d=e.r(49479),p=e.r(92706),h=e.r(13773),f=e.r(18008),y=e.r(64125),g=e.r(58265),m=e.r(2752),v=e.r(54583),b=e.r(11833),w=e.r(54552),_=e.r(89990),S=e.r(1495),E=e.r(54174),O=e.r(19795),A=e.r(88998),P=e.r(75399),k=e.r(5153),x=e.r(95530),R="7.82.0",C="Idempotency-Key",j="Warrant-Token";r.WorkOS=class{constructor(e,t={}){if(this.key=e,this.options=t,this.apiKeys=new o.ApiKeys(this),this.auditLogs=new g.AuditLogs(this),this.directorySync=new a.DirectorySync(this),this.events=new s.Events(this),this.featureFlags=new w.FeatureFlags(this),this.fga=new v.FGA(this),this.mfa=new y.Mfa(this),this.organizations=new c.Organizations(this),this.organizationDomains=new l.OrganizationDomains(this),this.passwordless=new u.Passwordless(this),this.pipes=new d.Pipes(this),this.portal=new p.Portal(this),this.sso=new h.SSO(this),this.vault=new P.Vault(this),this.widgets=new O.Widgets(this),!e&&(this.key="u">typeof process?null==process?void 0:process.env.WORKOS_API_KEY:void 0,!this.key))throw new n.NoApiKeyProvidedException;void 0===this.options.https&&(this.options.https=!0),this.clientId=this.options.clientId,!this.clientId&&"u">typeof process&&(this.clientId=null==process?void 0:process.env.WORKOS_CLIENT_ID);const r=this.options.https?"https":"http",i=this.options.apiHostname||"api.workos.com",f=this.options.port;this.baseURL=`${r}://${i}`,f&&(this.baseURL=this.baseURL+`:${f}`);let b=`workos-node/${R}`;if(t.appInfo){const{name:e,version:r}=t.appInfo;b+=` ${e}: ${r}`}this.webhooks=this.createWebhookClient(),this.actions=this.createActionsClient(),this.userManagement=new m.UserManagement(this,this.createIronSessionProvider()),this.client=this.createHttpClient(t,b)}createWebhookClient(){return new f.Webhooks(this.getCryptoProvider())}createActionsClient(){return new A.Actions(this.getCryptoProvider())}getCryptoProvider(){return new S.SubtleCryptoProvider}createHttpClient(e,t){var r;return new E.FetchHttpClient(this.baseURL,Object.assign(Object.assign({},e.config),{timeout:e.timeout,headers:Object.assign(Object.assign({},null==(r=e.config)?void 0:r.headers),{Authorization:`Bearer ${this.key}`,"User-Agent":t})}))}createIronSessionProvider(){throw Error("IronSessionProvider not implemented. Use WorkOSNode or WorkOSWorker instead.")}get version(){return R}post(e,t,r={}){return i(this,void 0,void 0,function*(){let i,n={};r.idempotencyKey&&(n[C]=r.idempotencyKey),r.warrantToken&&(n[j]=r.warrantToken);try{i=yield this.client.post(e,t,{params:r.query,headers:n})}catch(t){throw this.handleHttpError({path:e,error:t}),t}try{return{data:yield i.toJSON()}}catch(e){throw yield this.handleParseError(e,i),e}})}get(e,t={}){return i(this,void 0,void 0,function*(){let r,i={};t.accessToken&&(i.Authorization=`Bearer ${t.accessToken}`),t.warrantToken&&(i[j]=t.warrantToken);try{r=yield this.client.get(e,{params:t.query,headers:i})}catch(t){throw this.handleHttpError({path:e,error:t}),t}try{return{data:yield r.toJSON()}}catch(e){throw yield this.handleParseError(e,r),e}})}put(e,t,r={}){return i(this,void 0,void 0,function*(){let i,n={};r.idempotencyKey&&(n[C]=r.idempotencyKey);try{i=yield this.client.put(e,t,{params:r.query,headers:n})}catch(t){throw this.handleHttpError({path:e,error:t}),t}try{return{data:yield i.toJSON()}}catch(e){throw yield this.handleParseError(e,i),e}})}delete(e,t){return i(this,void 0,void 0,function*(){try{yield this.client.delete(e,{params:t})}catch(t){throw this.handleHttpError({path:e,error:t}),t}})}emitWarning(e){console.warn(`WorkOS: ${e}`)}handleParseError(e,t){var r;return i(this,void 0,void 0,function*(){if(e instanceof SyntaxError){let i=t.getRawResponse(),n=null!=(r=i.headers.get("X-Request-ID"))?r:"",o=i.status,a=yield i.text();throw new x.ParseError({message:e.message,rawBody:a,rawStatus:o,requestID:n})}})}handleHttpError({path:e,error:t}){var r;if(!(t instanceof _.HttpClientError))throw Error(`Unexpected error: ${t}`,{cause:t});let{response:i}=t;if(i){let{status:t,data:o,headers:a}=i,s=null!=(r=a["X-Request-ID"])?r:"",{code:c,error_description:l,error:u,errors:d,message:p}=o;switch(t){case 401:throw new n.UnauthorizedException(s);case 409:throw new k.ConflictException({requestID:s,message:p,error:u});case 422:throw new n.UnprocessableEntityException({code:c,errors:d,message:p,requestID:s});case 404:throw new n.NotFoundException({code:c,message:p,path:e,requestID:s});case 429:{let e=a.get("Retry-After");throw new n.RateLimitExceededException(o.message,s,e?Number(e):null)}default:if(u||l)throw new n.OauthException(t,s,u,l,o);if(c&&d)throw new b.BadRequestException({code:c,errors:d,message:p,requestID:s});throw new n.GenericServerException(t,o.message,o,s)}}}}},75977,e=>{"use strict";class t{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,r){let i=t.toUint8Array(e),n=t.toUint8Array(r);if(i.length!==n.byteLength)return!1;for(let e=0;e<i.length;e++)if(i[e]!==n[e])return!1;return!0}static concat(...e){let t;t=!Array.isArray(e[0])||e[1]instanceof Function?Array.isArray(e[0])&&e[1]instanceof Function?e[0]:e[e.length-1]instanceof Function?e.slice(0,e.length-1):e:e[0];let r=0;for(let e of t)r+=e.byteLength;let i=new Uint8Array(r),n=0;for(let e of t){let t=this.toUint8Array(e);i.set(t,n),n+=t.length}return e[e.length-1]instanceof Function?this.toView(i,e[e.length-1]):i.buffer}}let r="string",i=/^[0-9a-f\s]+$/i,n=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,o=/^[a-zA-Z0-9-_]+$/;class a{static fromString(e){let t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){let r=t.toUint8Array(e),i="";for(let e=0;e<r.length;e++)i+=String.fromCharCode(r[e]);return decodeURIComponent(escape(i))}}class s{static toString(e,r=!1){let i=t.toArrayBuffer(e),n=new DataView(i),o="";for(let e=0;e<i.byteLength;e+=2)o+=String.fromCharCode(n.getUint16(e,r));return o}static fromString(e,t=!1){let r=new ArrayBuffer(2*e.length),i=new DataView(r);for(let r=0;r<e.length;r++)i.setUint16(2*r,e.charCodeAt(r),t);return r}}class c{static isHex(e){return typeof e===r&&i.test(e)}static isBase64(e){return typeof e===r&&n.test(e)}static isBase64Url(e){return typeof e===r&&o.test(e)}static ToString(e,r="utf8"){let i=t.toUint8Array(e);switch(r.toLowerCase()){case"utf8":return this.ToUtf8String(i);case"binary":return this.ToBinary(i);case"hex":return this.ToHex(i);case"base64":return this.ToBase64(i);case"base64url":return this.ToBase64Url(i);case"utf16le":return s.toString(i,!0);case"utf16":case"utf16be":return s.toString(i);default:throw Error(`Unknown type of encoding '${r}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return s.fromString(e,!0);case"utf16":case"utf16be":return s.fromString(e);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){let r=t.toUint8Array(e);return"u">typeof btoa?btoa(this.ToString(r,"binary")):Buffer.from(r).toString("base64")}static FromBase64(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!c.isBase64(t))throw TypeError("Argument 'base64Text' is not Base64 encoded");return"u">typeof atob?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!c.isBase64Url(t))throw TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=c.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return a.fromString(e);case"utf16":case"utf16be":return s.fromString(e);case"utf16le":case"usc2":return s.fromString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=c.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return a.toString(e);case"utf16":case"utf16be":return s.toString(e);case"utf16le":case"usc2":return s.toString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){let t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return r.buffer}static ToBinary(e){let r=t.toUint8Array(e),i="";for(let e=0;e<r.length;e++)i+=String.fromCharCode(r[e]);return i}static ToHex(e){let r=t.toUint8Array(e),i="",n=r.length;for(let e=0;e<n;e++){let t=r[e];t<16&&(i+="0"),i+=t.toString(16)}return i}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!c.isHex(t))throw TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){let i=t.slice(e,e+2);r[e/2]=parseInt(i,16)}return r.buffer}static ToUtf16String(e,t=!1){return s.toString(e,t)}static FromUtf16String(e,t=!1){return s.fromString(e,t)}static Base64Padding(e){let t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}function l(...e){let t=new Uint8Array(e.map(e=>e.byteLength).reduce((e,t)=>e+t)),r=0;return e.map(e=>new Uint8Array(e)).forEach(e=>{for(let i of e)t[r++]=i}),t.buffer}function u(e,t){let r=0;if(1===e.length)return e[0];for(let i=e.length-1;i>=0;i--)r+=e[e.length-1-i]*Math.pow(2,t*i);return r}function d(e,t,r=-1){let i=e,n=0,o=Math.pow(2,t);for(let a=1;a<8;a++){if(e<o){let e;if(r<0)e=new ArrayBuffer(a),n=a;else{if(r<a)return new ArrayBuffer(0);e=new ArrayBuffer(r),n=r}let o=new Uint8Array(e);for(let e=a-1;e>=0;e--){let r=Math.pow(2,e*t);o[n-e-1]=Math.floor(i/r),i-=o[n-e-1]*r}return e}o*=Math.pow(2,t)}return new ArrayBuffer(0)}function p(...e){let t=0,r=0;for(let r of e)t+=r.length;let i=new Uint8Array(new ArrayBuffer(t));for(let t of e)i.set(t,r),r+=t.length;return i}function h(){let e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let t=255===e[0]&&128&e[1],r=0===e[0]&&(128&e[1])==0;(t||r)&&this.warnings.push("Needlessly long format")}let t=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let e=0;e<this.valueHex.byteLength;e++)t[e]=0;t[0]=128&e[0];let r=u(t,8),i=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let t=0;t<this.valueHex.byteLength;t++)i[t]=e[t];return i[0]&=127,u(i,8)-r}function f(e,t){let r=e.toString(10);if(t<r.length)return"";let i=t-r.length,n=Array(i);for(let e=0;e<i;e++)n[e]="0";return n.join("").concat(r)}function y(){if("u"<typeof BigInt)throw Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function g(e){let t=0,r=0;for(let r=0;r<e.length;r++)t+=e[r].byteLength;let i=new Uint8Array(t);for(let t=0;t<e.length;t++){let n=e[t];i.set(new Uint8Array(n),r),r+=n.byteLength}return i.buffer}function m(e,t,r,i){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):i<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-i<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}c.DEFAULT_UTF8_ENCODING="utf8";class v{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return g(this.items)}}let b=[new Uint8Array([1])],w="0123456789",_="name",S="valueHexView",E=new ArrayBuffer(0),O=new Uint8Array(0),A="EndOfContent",P="OCTET STRING",k="BIT STRING";function x(e){var r;return(r=class extends e{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}constructor(...e){var r;super(...e);const i=e[0]||{};this.isHexOnly=null!=(r=i.isHexOnly)&&r,this.valueHexView=i.valueHex?t.toUint8Array(i.valueHex):O}fromBER(e,t,r){let i=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!m(this,i,t,r))return -1;let n=t+r;return(this.valueHexView=i.subarray(t,n),this.valueHexView.length)?(this.blockLength=r,n):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",E)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:c.ToHex(this.valueHexView)}}}).NAME="hexBlock",r}class R{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:r="",warnings:i=[],valueBeforeDecode:n=O}={}){this.blockLength=e,this.error=r,this.warnings=i,this.valueBeforeDecodeView=t.toUint8Array(n)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:c.ToHex(this.valueBeforeDecodeView)}}}R.NAME="baseBlock";class C extends R{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}C.NAME="valueBlock";class j extends x(R){constructor({idBlock:e={}}={}){var r,i,n,o;super(),e?(this.isHexOnly=null!=(r=e.isHexOnly)&&r,this.valueHexView=e.valueHex?t.toUint8Array(e.valueHex):O,this.tagClass=null!=(i=e.tagClass)?i:-1,this.tagNumber=null!=(n=e.tagNumber)?n:-1,this.isConstructed=null!=(o=e.isConstructed)&&o):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",E}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){let r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){let r=d(this.tagNumber,7),i=new Uint8Array(r),n=r.byteLength,o=new Uint8Array(n+1);if(o[0]=31|t,!e){for(let e=0;e<n-1;e++)o[e+1]=128|i[e];o[n]=i[n-1]}return o.buffer}let r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){let e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,r,i){let n=t.toUint8Array(e);if(!m(this,n,r,i))return -1;let o=n.subarray(r,r+i);if(0===o.length)return this.error="Zero buffer length",-1;switch(192&o[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(32&o[0])==32,this.isHexOnly=!1;let a=31&o[0];if(31!==a)this.tagNumber=a,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&o[e];){if(t[e-1]=127&o[e],++e>=o.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){let e=new Uint8Array(r+=255);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&o[e];let i=new Uint8Array(e);for(let r=0;r<e;r++)i[r]=t[r];(t=this.valueHexView=new Uint8Array(e)).set(i),this.blockLength<=9?this.tagNumber=u(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return r+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}j.NAME="identificationBlock";class I extends R{constructor({lenBlock:e={}}={}){var t,r,i;super(),this.isIndefiniteForm=null!=(t=e.isIndefiniteForm)&&t,this.longFormUsed=null!=(r=e.longFormUsed)&&r,this.length=null!=(i=e.length)?i:0}fromBER(e,r,i){let n=t.toUint8Array(e);if(!m(this,n,r,i))return -1;let o=n.subarray(r,r+i);if(0===o.length)return this.error="Zero buffer length",-1;if(255===o[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===o[0],this.isIndefiniteForm)return this.blockLength=1,r+this.blockLength;if(this.longFormUsed=!!(128&o[0]),!1===this.longFormUsed)return this.length=o[0],this.blockLength=1,r+this.blockLength;let a=127&o[0];if(a>8)return this.error="Too big integer",-1;if(a+1>o.length)return this.error="End of input reached before message was fully decoded",-1;let s=r+1,c=n.subarray(s,s+a);return 0===c[a-1]&&this.warnings.push("Needlessly long encoded length"),this.length=u(c,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,r+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=128),t;if(this.longFormUsed){let i=d(this.length,8);if(i.byteLength>127)return this.error="Too big length",E;if(t=new ArrayBuffer(i.byteLength+1),e)return t;let n=new Uint8Array(i);(r=new Uint8Array(t))[0]=128|i.byteLength;for(let e=0;e<i.byteLength;e++)r[e+1]=n[e];return t}return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}I.NAME="lengthBlock";let T={};class B extends R{constructor({name:e="",optional:t=!1,primitiveSchema:r,...i}={},n){super(i),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new j(i),this.lenBlock=new I(i),this.valueBlock=n?new n(i):new C(i)}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}toBER(e,t){let r=t||new v;t||function e(t){var r;if(t instanceof T.Constructed)for(let r of t.valueBlock.value)e(r)&&(t.lenBlock.isIndefiniteForm=!0);return!!(null==(r=t.lenBlock)?void 0:r.isIndefiniteForm)}(this);let i=this.idBlock.toBER(e);if(r.write(i),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{let t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;let i=this.lenBlock.toBER(e);r.write(i),r.write(t)}return t?E:r.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():c.ToHex(this.toBER())}onAsciiEncoding(){let e=this.constructor.NAME,t=c.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${t}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;let t=this.toBER(),r=e.toBER();if(t.byteLength!==r.byteLength)return!1;let i=new Uint8Array(t),n=new Uint8Array(r);for(let e=0;e<i.length;e++)if(i[e]!==n[e])return!1;return!0}}B.NAME="BaseBlock";class M extends B{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e="",...t}={},r){super(t,r),e&&this.fromString(e)}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}M.NAME="BaseStringBlock";class N extends x(C){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}N.NAME="PrimitiveValueBlock";class D extends B{constructor(e={}){super(e,N),this.idBlock.isConstructed=!1}}function K(e,t=0,r=e.length){let i=t,n=new B({},C),o=new R;if(!m(o,e,t,r))return n.error=o.error,{offset:-1,result:n};if(!e.subarray(t,t+r).length)return n.error="Zero buffer length",{offset:-1,result:n};let a=n.idBlock.fromBER(e,t,r);if(n.idBlock.warnings.length&&n.warnings.concat(n.idBlock.warnings),-1===a)return n.error=n.idBlock.error,{offset:-1,result:n};if(t=a,r-=n.idBlock.blockLength,a=n.lenBlock.fromBER(e,t,r),n.lenBlock.warnings.length&&n.warnings.concat(n.lenBlock.warnings),-1===a)return n.error=n.lenBlock.error,{offset:-1,result:n};if(t=a,r-=n.lenBlock.blockLength,!n.idBlock.isConstructed&&n.lenBlock.isIndefiniteForm)return n.error="Indefinite length form used for primitive encoding form",{offset:-1,result:n};let s=B;if(1===n.idBlock.tagClass){if(n.idBlock.tagNumber>=37&&!1===n.idBlock.isHexOnly)return n.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:n};switch(n.idBlock.tagNumber){case 0:if(n.idBlock.isConstructed&&n.lenBlock.length>0)return n.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:n};s=T.EndOfContent;break;case 1:s=T.Boolean;break;case 2:s=T.Integer;break;case 3:s=T.BitString;break;case 4:s=T.OctetString;break;case 5:s=T.Null;break;case 6:s=T.ObjectIdentifier;break;case 10:s=T.Enumerated;break;case 12:s=T.Utf8String;break;case 13:s=T.RelativeObjectIdentifier;break;case 14:s=T.TIME;break;case 15:return n.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:n};case 16:s=T.Sequence;break;case 17:s=T.Set;break;case 18:s=T.NumericString;break;case 19:s=T.PrintableString;break;case 20:s=T.TeletexString;break;case 21:s=T.VideotexString;break;case 22:s=T.IA5String;break;case 23:s=T.UTCTime;break;case 24:s=T.GeneralizedTime;break;case 25:s=T.GraphicString;break;case 26:s=T.VisibleString;break;case 27:s=T.GeneralString;break;case 28:s=T.UniversalString;break;case 29:s=T.CharacterString;break;case 30:s=T.BmpString;break;case 31:s=T.DATE;break;case 32:s=T.TimeOfDay;break;case 33:s=T.DateTime;break;case 34:s=T.Duration;break;default:{let e=n.idBlock.isConstructed?new T.Constructed:new T.Primitive;e.idBlock=n.idBlock,e.lenBlock=n.lenBlock,e.warnings=n.warnings,n=e}}}else s=n.idBlock.isConstructed?T.Constructed:T.Primitive;return a=(n=function(e,t){if(e instanceof t)return e;let r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}(n,s)).fromBER(e,t,n.lenBlock.isIndefiniteForm?r:n.lenBlock.length),n.valueBeforeDecodeView=e.subarray(i,i+n.blockLength),{offset:a,result:n}}function U(e){if(!e.byteLength){let e=new B({},C);return e.error="Input buffer has zero length",{offset:-1,result:e}}return K(t.toUint8Array(e).slice(),0,e.byteLength)}T.Primitive=D,D.NAME="PRIMITIVE";class L extends C{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,r,i){var n,o;let a=t.toUint8Array(e);if(!m(this,a,r,i))return -1;if(this.valueBeforeDecodeView=a.subarray(r,r+i),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),r;let s=r;for(;n=this.isIndefiniteForm,o=i,(n?1:o)>0;){let e=K(a,s,i);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(s=e.offset,this.blockLength+=e.result.blockLength,i-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===A)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===A?this.value.pop():this.warnings.push("No EndOfContent block encoded")),s}toBER(e,t){let r=t||new v;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,r);return t?E:r.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let t of this.value)e.value.push(t.toJSON());return e}}L.NAME="ConstructedValueBlock";class z extends B{constructor(e={}){super(e,L),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){let e=[];for(let t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map(e=>`  ${e}`).join("\n"));let t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join("\n")}`:`${t} :`}}T.Constructed=z,z.NAME="CONSTRUCTED";class H extends C{fromBER(e,t,r){return t}toBER(e){return E}}H.override="EndOfContentValueBlock";class W extends B{constructor(e={}){super(e,H),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}T.EndOfContent=W,W.NAME=A;class $ extends B{constructor(e={}){super(e,C),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return(this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength)?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){let r=new ArrayBuffer(2);if(!e){let e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}T.Null=$,$.NAME="NULL";class J extends x(C){get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=255*!!e}constructor({value:e,...r}={}){super(r),r.valueHex?this.valueHexView=t.toUint8Array(r.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,r,i){let n=t.toUint8Array(e);return m(this,n,r,i)?(this.valueHexView=n.subarray(r,r+i),i>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,h.call(this),this.blockLength=i,r+i):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}J.NAME="BooleanValueBlock";class V extends B{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,J),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}T.Boolean=V,V.NAME="BOOLEAN";class F extends x(L){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,-1===(i=L.prototype.fromBER.call(this,e,t,r)))return i;for(let e=0;e<this.value.length;e++){let t=this.value[e].constructor.NAME;if(t===A)if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1;else break;if(t!==P)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,t,r),this.blockLength=r;return i}toBER(e,t){return this.isConstructed?L.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}F.NAME="OctetStringValueBlock";class G extends B{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i;null!=r.isConstructed||(r.isConstructed=!!(null==(i=r.value)?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},F),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){let i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(i.byteLength){let e=K(i,0,i.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch{}}return super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return z.prototype.onAsciiEncoding.call(this);let e=this.constructor.NAME,t=c.ToHex(this.valueBlock.valueHexView);return`${e} : ${t}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let t of this.valueBlock.value)t instanceof ti&&e.push(t.valueBlock.valueHexView);return t.concat(e)}}T.OctetString=ti=G,G.NAME=P;class q extends x(L){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,r,i){if(!i)return r;let n=-1;if(this.isConstructed){if(-1===(n=L.prototype.fromBER.call(this,e,r,i)))return n;for(let e of this.value){let t=e.constructor.NAME;if(t===A)if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;else break;if(t!==k)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return n}let o=t.toUint8Array(e);if(!m(this,o,r,i))return -1;let a=o.subarray(r,r+i);if(this.unusedBits=a[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let e=a.subarray(1);try{if(e.byteLength){let t=K(e,0,e.byteLength);-1!==t.offset&&t.offset===i-1&&(this.value=[t.result])}}catch{}}return this.valueHexView=a.subarray(1),this.blockLength=a.length,r+i}toBER(e,t){if(this.isConstructed)return L.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength){let e=new Uint8Array(1);return e[0]=0,e.buffer}let r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}q.NAME="BitStringValueBlock";class X extends B{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i;null!=r.isConstructed||(r.isConstructed=!!(null==(i=r.value)?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},q),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return z.prototype.onAsciiEncoding.call(this);{let e=[];for(let t of this.valueBlock.valueHexView)e.push(t.toString(2).padStart(8,"0"));let t=e.join(""),r=this.constructor.NAME,i=t.substring(0,t.length-this.valueBlock.unusedBits);return`${r} : ${i}`}}}function Y(e){if(e>=b.length)for(let t=b.length;t<=e;t++){let e=new Uint8Array([0]),r=b[t-1].slice(0);for(let t=r.length-1;t>=0;t--){let i=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=i[0]/10,r[t]=i[0]%10}e[0]>0&&(r=p(e,r)),b.push(r)}return b[e]}T.BitString=X,X.NAME=k;class Q extends x(C){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=h.call(this)))}constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function(e){let t=e<0?-1*e:e,r=128;for(let i=1;i<8;i++){if(t<=r){if(e<0){let e=d(r-t,8,i),n=new Uint8Array(e);return n[0]|=128,e}let n=d(t,8,i),o=new Uint8Array(n);if(128&o[0]){let e=n.slice(0),t=new Uint8Array(e);o=new Uint8Array(n=new ArrayBuffer(n.byteLength+1));for(let r=0;r<e.byteLength;r++)o[r+1]=t[r];o[0]=0}return n}r*=256}return new ArrayBuffer(0)}(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,i=0){let n=this.fromBER(e,t,r);if(-1===n)return n;let o=this.valueHexView;return 0===o[0]&&(128&o[1])!=0?this.valueHexView=o.subarray(1):0!==i&&o.length<i&&(i-o.length>1&&(i=o.length+1),this.valueHexView=o.subarray(i-o.length)),n}toDER(e=!1){let t=this.valueHexView;switch(!0){case(128&t[0])!=0:{let e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&(128&t[1])==0:this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){let i=super.fromBER(e,t,r);return -1===i||this.setValueHex(),i}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e,t=8*this.valueHexView.length-1,r=new Uint8Array(8*this.valueHexView.length/3),i=0,n=this.valueHexView,o="",a=!1;for(let a=n.byteLength-1;a>=0;a--){e=n[a];for(let n=0;n<8;n++)(1&e)==1&&(i===t?(r=function(e,t){let r,i=0,n=new Uint8Array(e),o=new Uint8Array(t),a=n.slice(0),s=a.length-1,c=o.slice(0),l=c.length-1,u=0;for(let e=l;e>=0;e--,u++)!0==(r=a[s-u]-c[l-u]-i)<0?(i=1,a[s-u]=r+10):(i=0,a[s-u]=r);if(i>0)for(let e=s-l+1;e>=0;e--,u++)if((r=a[s-u]-i)<0)i=1,a[s-u]=r+10;else{i=0,a[s-u]=r;break}return a.slice()}(Y(i),r),o="-"):r=function(e,t){let r=new Uint8Array([0]),i=new Uint8Array(e),n=new Uint8Array(t),o=i.slice(0),a=o.length-1,s=n.slice(0),c=s.length-1,l=0,u=c<a?a:c,d=0;for(let e=u;e>=0;e--,d++)l=!0==d<s.length?o[a-d]+s[c-d]+r[0]:o[a-d]+r[0],r[0]=l/10,!0==d>=o.length?o=p(new Uint8Array([l%10]),o):o[a-d]=l%10;return r[0]>0&&(o=p(r,o)),o}(r,Y(i))),i++,e>>=1}for(let e=0;e<r.length;e++)r[e]&&(a=!0),a&&(o+=w.charAt(r[e]));return!1===a&&(o+=w.charAt(0)),o}}Q.NAME="IntegerValueBlock",Object.defineProperty(Q.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class Z extends B{constructor(e={}){super(e,Q),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return y(),BigInt(this.valueBlock.toString())}static fromBigInt(e){y();let r=BigInt(e),i=new v,n=r.toString(16).replace(/^-/,""),o=new Uint8Array(c.FromHex(n));if(r<0){let e=new Uint8Array(o.length+(128&o[0]?1:0));e[0]|=128;let n=BigInt(`0x${c.ToHex(e)}`)+r,a=t.toUint8Array(c.FromHex(n.toString(16)));a[0]|=128,i.write(a)}else 128&o[0]&&i.write(new Uint8Array([0])),i.write(o);return new tn({valueHex:i.final()})}convertToDER(){let e=new tn({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new tn({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}T.Integer=tn=Z,Z.NAME="INTEGER";class ee extends Z{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}T.Enumerated=ee,ee.NAME="ENUMERATED";class et extends x(C){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,r,i){if(!i)return r;let n=t.toUint8Array(e);if(!m(this,n,r,i))return -1;let o=n.subarray(r,r+i);this.valueHexView=new Uint8Array(i);for(let e=0;e<i&&(this.valueHexView[e]=127&o[e],this.blockLength++,(128&o[e])!=0);e++);let a=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)a[e]=this.valueHexView[e];return(this.valueHexView=a,(128&o[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=u(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}set valueBigInt(e){y();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;let r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++)r[e]=parseInt(t.slice(7*e,7*e+7),2)+128*(e+1<r.length);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=d(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",E;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r}toString(){let e="";if(this.isHexOnly)e=c.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}et.NAME="sidBlock";class er extends C{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new et;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e){let t=[];for(let r=0;r<this.value.length;r++){let i=this.value[r].toBER(e);if(0===i.byteLength)return this.error=this.value[r].error,E;t.push(i)}return g(t)}fromString(e){this.value=[];let t=0,r=0,i="",n=!1;do if(i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1,n){let e=this.value[0],t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:this.value=[];return}let r=parseInt(i,10);if(isNaN(r))return;e.valueDec=r+t,n=!1}else{let e=new et;if(i>Number.MAX_SAFE_INTEGER)y(),e.valueBigInt=BigInt(i);else if(e.valueDec=parseInt(i,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,n=!0),this.value.push(e)}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?(i=`{${i}}`,this.value[r].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}er.NAME="ObjectIdentifierValueBlock";class ei extends B{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,er),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}T.ObjectIdentifier=ei,ei.NAME="OBJECT IDENTIFIER";class en extends x(R){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,r,i){if(0===i)return r;let n=t.toUint8Array(e);if(!m(this,n,r,i))return -1;let o=n.subarray(r,r+i);this.valueHexView=new Uint8Array(i);for(let e=0;e<i&&(this.valueHexView[e]=127&o[e],this.blockLength++,(128&o[e])!=0);e++);let a=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)a[e]=this.valueHexView[e];return(this.valueHexView=a,(128&o[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=u(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=d(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",E;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r.buffer}toString(){return this.isHexOnly?c.ToHex(this.valueHexView):this.valueDec.toString()}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}en.NAME="relativeSidBlock";class eo extends C{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new en;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e,t){let r=[];for(let t=0;t<this.value.length;t++){let i=this.value[t].toBER(e);if(0===i.byteLength)return this.error=this.value[t].error,E;r.push(i)}return g(r)}fromString(e){this.value=[];let t=0,r=0,i="";do{i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1;let n=new en;if(n.valueDec=parseInt(i,10),isNaN(n.valueDec))break;this.value.push(n)}while(-1!==r)return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?e+=i=`{${i}}`:e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}eo.NAME="RelativeObjectIdentifierValueBlock";class ea extends B{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,eo),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}T.RelativeObjectIdentifier=ea,ea.NAME="RelativeObjectIdentifier";class es extends z{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}T.Sequence=es,es.NAME="SEQUENCE";class ec extends z{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}T.Set=ec,ec.NAME="SET";class el extends x(C){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}el.NAME="StringValueBlock";class eu extends el{}eu.NAME="SimpleStringValueBlock";class ed extends M{constructor({...e}={}){super(e,eu)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,t.toUint8Array(e))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);this.valueBlock.value=e}}ed.NAME="SIMPLE STRING";class ep extends ed{fromBuffer(e){this.valueBlock.valueHexView=t.toUint8Array(e);try{this.valueBlock.value=c.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=c.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(c.FromUtf8String(e)),this.valueBlock.value=e}}ep.NAME="Utf8StringValueBlock";class eh extends ep{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}T.Utf8String=eh,eh.NAME="UTF8String";class ef extends ed{fromBuffer(e){this.valueBlock.value=c.ToUtf16String(e),this.valueBlock.valueHexView=t.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(c.FromUtf16String(e))}}ef.NAME="BmpStringValueBlock";class ey extends ef{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}T.BmpString=ey,ey.NAME="BMPString";class eg extends ed{fromBuffer(e){let t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let i=0;i<t;i++){let t=new Uint8Array(d(e.charCodeAt(i),8));if(t.length>4)continue;let n=4-t.length;for(let e=t.length-1;e>=0;e--)r[4*i+e+n]=t[e]}this.valueBlock.value=e}}eg.NAME="UniversalStringValueBlock";class em extends eg{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}T.UniversalString=em,em.NAME="UniversalString";class ev extends ed{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}T.NumericString=ev,ev.NAME="NumericString";class eb extends ed{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}T.PrintableString=eb,eb.NAME="PrintableString";class ew extends ed{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}T.TeletexString=ew,ew.NAME="TeletexString";class e_ extends ed{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}T.VideotexString=e_,e_.NAME="VideotexString";class eS extends ed{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}T.IA5String=eS,eS.NAME="IA5String";class eE extends ed{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}T.GraphicString=eE,eE.NAME="GraphicString";class eO extends ed{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}T.VisibleString=eO,eO.NAME="VisibleString";class eA extends ed{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}T.GeneralString=eA,eA.NAME="GeneralString";class eP extends ed{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}T.CharacterString=eP,eP.NAME="CharacterString";class ek extends eO{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,t.toUint8Array(e)))}toBuffer(){let e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(null===t){this.error="Wrong input string for conversion";return}let r=parseInt(t[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){let e=Array(7);return e[0]=f(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=f(this.month,2),e[2]=f(this.day,2),e[3]=f(this.hour,2),e[4]=f(this.minute,2),e[5]=f(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}T.UTCTime=ek,ek.NAME="UTCTime";class ex extends ek{constructor(e={}){super(e),null!=this.millisecond||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,i="",n="",o=0,a=0,s=0;if("Z"===e[e.length-1])i=e.substring(0,e.length-1),r=!0;else{if(isNaN(new Number(e[e.length-1]).valueOf()))throw Error("Wrong input string for conversion");i=e}if(r){if(-1!==i.indexOf("+")||-1!==i.indexOf("-"))throw Error("Wrong input string for conversion")}else{let e=1,t=i.indexOf("+"),r="";if(-1===t&&(t=i.indexOf("-"),e=-1),-1!==t){if(r=i.substring(t+1),i=i.substring(0,t),2!==r.length&&4!==r.length)throw Error("Wrong input string for conversion");let n=parseInt(r.substring(0,2),10);if(isNaN(n.valueOf()))throw Error("Wrong input string for conversion");if(a=e*n,4===r.length){if(isNaN((n=parseInt(r.substring(2,4),10)).valueOf()))throw Error("Wrong input string for conversion");s=e*n}}}let c=i.indexOf(".");if(-1===c&&(c=i.indexOf(",")),-1!==c){let e=new Number(`0${i.substring(c)}`);if(isNaN(e.valueOf()))throw Error("Wrong input string for conversion");o=e.valueOf(),n=i.substring(0,c)}else n=i;switch(!0){case 8===n.length:if(t=/(\d{4})(\d{2})(\d{2})/ig,-1!==c)throw Error("Wrong input string for conversion");break;case 10===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,-1!==c){let e=60*o;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==c){let e=60*o;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==c){let e=1e3*o;this.millisecond=Math.floor(e)}break;default:throw Error("Wrong input string for conversion")}let l=t.exec(n);if(null===l)throw Error("Wrong input string for conversion");for(let e=1;e<l.length;e++)switch(e){case 1:this.year=parseInt(l[e],10);break;case 2:this.month=parseInt(l[e],10);break;case 3:this.day=parseInt(l[e],10);break;case 4:this.hour=parseInt(l[e],10)+a;break;case 5:this.minute=parseInt(l[e],10)+s;break;case 6:this.second=parseInt(l[e],10);break;default:throw Error("Wrong input string for conversion")}if(!1===r){let e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){let e=[];return e.push(f(this.year,4)),e.push(f(this.month,2)),e.push(f(this.day,2)),e.push(f(this.hour,2)),e.push(f(this.minute,2)),e.push(f(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(f(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}T.GeneralizedTime=ex,ex.NAME="GeneralizedTime";class eR extends eh{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}T.DATE=eR,eR.NAME="DATE";class eC extends eh{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}T.TimeOfDay=eC,eC.NAME="TimeOfDay";class ej extends eh{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}T.DateTime=ej,ej.NAME="DateTime";class eI extends eh{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}T.Duration=eI,eI.NAME="Duration";class eT extends eh{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}T.TIME=eT,eT.NAME="TIME";class eB{constructor({name:e="",optional:t=!1}={}){this.name=e,this.optional=t}}class eM extends eB{constructor({value:e=[],...t}={}){super(t),this.value=e}}class eN extends eB{constructor({value:e=new eB,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class eD{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=t.toUint8Array(e)}constructor({data:e=O}={}){this.dataView=t.toUint8Array(e)}fromBER(e,r,i){let n=r+i;return this.dataView=t.toUint8Array(e).subarray(r,n),n}toBER(e){return this.dataView.slice().buffer}}function eK(e,t,r){if(r instanceof eM){for(let i of r.value)if(eK(e,t,i).verified)return{verified:!0,result:e};{let e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(_)&&(e.name=r.name),e}}if(r instanceof eB)return r.hasOwnProperty(_)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1||"idBlock"in r==!1||"fromBER"in r.idBlock==!1||"toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.toBER(!1);if(0===i.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(i,0,i.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!("isHexOnly"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(S in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.valueHexView,n=t.idBlock.valueHexView;if(i.length!==n.length)return{verified:!1,result:e};for(let t=0;t<i.length;t++)if(i[t]!==n[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(e[r.name]=t)),r instanceof T.Constructed){let i=0,n={verified:!1,result:{error:"Unknown error"}},o=r.valueBlock.value.length;if(o>0&&r.valueBlock.value[0]instanceof eN&&(o=t.valueBlock.value.length),0===o)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let a=0;a<o;a++)if(a-i>=t.valueBlock.value.length){if(!1===r.valueBlock.value[a].optional){let t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof eN){if(!1===(n=eK(e,t.valueBlock.value[a],r.valueBlock.value[0].value)).verified)if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),n;else i++;if(_ in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let i={};void 0===(i="local"in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e)[r.valueBlock.value[0].name]&&(i[r.valueBlock.value[0].name]=[]),i[r.valueBlock.value[0].name].push(t.valueBlock.value[a])}}else if(!1===(n=eK(e,t.valueBlock.value[a-i],r.valueBlock.value[a])).verified)if(!r.valueBlock.value[a].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),n;else i++;if(!1===n.verified){let t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&S in t.valueBlock){let i=K(t.valueBlock.valueHexView);if(-1===i.offset){let t={verified:!1,result:i.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return eK(e,i.result,r.primitiveSchema)}return{verified:!0,result:e}}function eU(e,r){if(r instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let i=K(t.toUint8Array(e));return -1===i.offset?{verified:!1,result:i.result}:eK(i.result,i.result,r)}e.s(["Any",()=>eB,"BaseBlock",()=>B,"BaseStringBlock",()=>M,"BitString",()=>X,"BmpString",()=>ey,"Boolean",()=>V,"CharacterString",()=>eP,"Choice",()=>eM,"Constructed",()=>z,"DATE",()=>eR,"DateTime",()=>ej,"Duration",()=>eI,"EndOfContent",()=>W,"Enumerated",()=>ee,"GeneralString",()=>eA,"GeneralizedTime",()=>ex,"GraphicString",()=>eE,"HexBlock",()=>x,"IA5String",()=>eS,"Integer",()=>Z,"Null",()=>$,"NumericString",()=>ev,"ObjectIdentifier",()=>ei,"OctetString",()=>G,"Primitive",()=>D,"PrintableString",()=>eb,"RawData",()=>eD,"RelativeObjectIdentifier",()=>ea,"Repeated",()=>eN,"Sequence",()=>es,"Set",()=>ec,"TIME",()=>eT,"TeletexString",()=>ew,"TimeOfDay",()=>eC,"UTCTime",()=>ek,"UniversalString",()=>em,"Utf8String",()=>eh,"ValueBlock",()=>C,"VideotexString",()=>e_,"ViewWriter",()=>v,"VisibleString",()=>eO,"compareSchema",()=>eK,"fromBER",()=>U,"verifySchema",()=>eU],13081),(tt=to||(to={}))[tt.Sequence=0]="Sequence",tt[tt.Set=1]="Set",tt[tt.Choice=2]="Choice",(tr=ta||(ta={}))[tr.Any=1]="Any",tr[tr.Boolean=2]="Boolean",tr[tr.OctetString=3]="OctetString",tr[tr.BitString=4]="BitString",tr[tr.Integer=5]="Integer",tr[tr.Enumerated=6]="Enumerated",tr[tr.ObjectIdentifier=7]="ObjectIdentifier",tr[tr.Utf8String=8]="Utf8String",tr[tr.BmpString=9]="BmpString",tr[tr.UniversalString=10]="UniversalString",tr[tr.NumericString=11]="NumericString",tr[tr.PrintableString=12]="PrintableString",tr[tr.TeletexString=13]="TeletexString",tr[tr.VideotexString=14]="VideotexString",tr[tr.IA5String=15]="IA5String",tr[tr.GraphicString=16]="GraphicString",tr[tr.VisibleString=17]="VisibleString",tr[tr.GeneralString=18]="GeneralString",tr[tr.CharacterString=19]="CharacterString",tr[tr.UTCTime=20]="UTCTime",tr[tr.GeneralizedTime=21]="GeneralizedTime",tr[tr.DATE=22]="DATE",tr[tr.TimeOfDay=23]="TimeOfDay",tr[tr.DateTime=24]="DateTime",tr[tr.Duration=25]="Duration",tr[tr.TIME=26]="TIME",tr[tr.Null=27]="Null";let eL={fromASN:e=>e instanceof $?null:e.valueBeforeDecodeView,toASN:e=>{if(null===e)return new $;let t=U(e);if(t.result.error)throw Error(t.result.error);return t.result}},ez={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new Z({value:+e})},eH={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new ee({value:e})},eW={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new X({valueHex:e})},e$={fromASN:e=>e.valueBlock.toString(),toASN:e=>new ei({value:e})},eJ={fromASN:e=>e.valueBlock.value,toASN:e=>new V({value:e})},eV={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new G({valueHex:e})};function eF(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}let eG=eF(eh),eq=eF(ey),eX=eF(em),eY=eF(ev),eQ=eF(eb),eZ=eF(ew),e0=eF(e_),e1=eF(eS),e2=eF(eE),e8=eF(eO),e3=eF(eA),e6=eF(eP),e5={fromASN:e=>e.toDate(),toASN:e=>new ek({valueDate:e})},e4={fromASN:e=>e.toDate(),toASN:e=>new ex({valueDate:e})},e9={fromASN:()=>null,toASN:()=>new $};function e7(e){switch(e){case ta.Any:return eL;case ta.BitString:return eW;case ta.BmpString:return eq;case ta.Boolean:return eJ;case ta.CharacterString:return e6;case ta.Enumerated:return eH;case ta.GeneralString:return e3;case ta.GeneralizedTime:return e4;case ta.GraphicString:return e2;case ta.IA5String:return e1;case ta.Integer:return ez;case ta.Null:return e9;case ta.NumericString:return eY;case ta.ObjectIdentifier:return e$;case ta.OctetString:return eV;case ta.PrintableString:return eQ;case ta.TeletexString:return eZ;case ta.UTCTime:return e5;case ta.UniversalString:return eX;case ta.Utf8String:return eG;case ta.VideotexString:return e0;case ta.VisibleString:return e8;default:return null}}var te,tt,tr,ti,tn,to,ta,ts,tc=e.i(13081);function tl(e){return"function"==typeof e&&e.prototype?!!e.prototype.toASN&&!!e.prototype.fromASN||tl(e.prototype):!!(e&&"object"==typeof e&&"toASN"in e&&"fromASN"in e)}let tu=new class{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){let r=this.items.get(e);if(!r)throw Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!r.schema)throw Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){let t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){let t={type:to.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(t,r),t.items=Object.assign({},t.items,r.items)),t}create(e,t){let r=this.items.get(e)||this.createDefault(e),i=[];for(let e in r.items){let n,o=r.items[e],a=t?e:"";if("number"==typeof o.type){let e=ta[o.type],t=tc[e];if(!t)throw Error(`Cannot get ASN1 class by name '${e}'`);n=new t({name:a})}else tl(o.type)?n=new o.type().toSchema(a):o.optional?this.get(o.type).type===to.Choice?n=new tc.Any({name:a}):(n=this.create(o.type,!1)).name=a:n=new tc.Any({name:a});let s=!!o.optional||void 0!==o.defaultValue;if(o.repeated&&(n.name="",n=new("set"===o.repeated?tc.Set:tc.Sequence)({name:"",value:[new tc.Repeated({name:a,value:n})]})),null!==o.context&&void 0!==o.context)if(o.implicit)if("number"==typeof o.type||tl(o.type)){let e=o.repeated?tc.Constructed:tc.Primitive;i.push(new e({name:a,optional:s,idBlock:{tagClass:3,tagNumber:o.context}}))}else{this.cache(o.type);let e=!!o.repeated,t=e?n:this.get(o.type,!0).schema;t="valueBlock"in t?t.valueBlock.value:t.value,i.push(new tc.Constructed({name:e?"":a,optional:s,idBlock:{tagClass:3,tagNumber:o.context},value:t}))}else i.push(new tc.Constructed({optional:s,idBlock:{tagClass:3,tagNumber:o.context},value:[n]}));else n.optional=s,i.push(n)}switch(r.type){case to.Sequence:return new tc.Sequence({value:i,name:""});case to.Set:return new tc.Set({value:i,name:""});case to.Choice:return new tc.Choice({value:i,name:""});default:throw Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}},td=e=>t=>{let r;tu.has(t)?r=tu.get(t):(r=tu.createDefault(t),tu.set(t,r)),Object.assign(r,e)},tp=e=>(t,r)=>{let i;tu.has(t.constructor)?i=tu.get(t.constructor):(i=tu.createDefault(t.constructor),tu.set(t.constructor,i));let n=Object.assign({},e);if("number"==typeof n.type&&!n.converter){let i=e7(e.type);if(!i)throw Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);n.converter=i}n.raw=e.raw,i.items[r]=n};class th extends Error{constructor(){super(...arguments),this.schemas=[]}}class tf{static parse(e,t){let r=tc.fromBER(e);if(r.result.error)throw Error(r.result.error);return this.fromASN(r.result,t)}static fromASN(e,t){try{if(tl(t))return new t().fromASN(e);let r=tu.get(t);tu.cache(t);let i=r.schema,n=this.handleChoiceTypes(e,r,t,i);if(null==n?void 0:n.result)return n.result;(null==n?void 0:n.targetSchema)&&(i=n.targetSchema);let o=this.handleSequenceTypes(e,r,t,i),a=new t;if(function e(t){var r;if(t){let i=Object.getPrototypeOf(t);return(null==(r=null==i?void 0:i.prototype)?void 0:r.constructor)===Array||e(i)}return!1}(t))return this.handleArrayTypes(e,r,t);return this.processSchemaItems(r,o,a),a}catch(e){throw e instanceof th&&e.schemas.push(t.name),e}}static handleChoiceTypes(e,t,r,i){if(e.constructor===tc.Constructed&&t.type===to.Choice&&3===e.idBlock.tagClass)for(let i in t.items){let n=t.items[i];if(n.context===e.idBlock.tagNumber&&n.implicit&&"function"==typeof n.type&&tu.has(n.type)){let t=tu.get(n.type);if(t&&t.type===to.Sequence){let t=new tc.Sequence;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in t.valueBlock){t.valueBlock.value=e.valueBlock.value;let o=this.fromASN(t,n.type),a=new r;return a[i]=o,{result:a}}}}}else if(e.constructor===tc.Constructed&&t.type!==to.Choice){let r=new tc.Constructed({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:t.schema.valueBlock.value});for(let r in t.items)delete e[r];return{targetSchema:r}}return null}static handleSequenceTypes(e,t,r,i){if(t.type===to.Sequence){let t=tc.compareSchema({},e,i);if(!t.verified)throw new th(`Data does not match to ${r.name} ASN1 schema.${t.result.error?` ${t.result.error}`:""}`);return t}{let t=tc.compareSchema({},e,i);if(!t.verified)throw new th(`Data does not match to ${r.name} ASN1 schema.${t.result.error?` ${t.result.error}`:""}`);return t}}static processRepeatedField(e,t,r){let i=e.slice(t);if(1===i.length&&"Sequence"===i[0].constructor.name){let e=i[0];e.valueBlock&&e.valueBlock.value&&Array.isArray(e.valueBlock.value)&&(i=e.valueBlock.value)}if("number"!=typeof r.type)return i.filter(e=>e&&e.valueBlock).map(e=>{try{return this.fromASN(e,r.type)}catch{return}}).filter(e=>void 0!==e);{let e=e7(r.type);if(!e)throw Error(`No converter for ASN.1 type ${r.type}`);return i.filter(e=>e&&e.valueBlock).map(t=>{try{return e.fromASN(t)}catch{return}}).filter(e=>void 0!==e)}}static processPrimitiveField(e,t){let r=e7(t.type);if(!r)throw Error(`No converter for ASN.1 type ${t.type}`);return r.fromASN(e)}static isOptionalChoiceField(e){return e.optional&&"function"==typeof e.type&&tu.has(e.type)&&tu.get(e.type).type===to.Choice}static processOptionalChoiceField(e,t){try{let r=this.fromASN(e,t.type);return{processed:!0,value:r}}catch(e){if(e instanceof th&&/Wrong values for Choice type/.test(e.message))return{processed:!1};throw e}}static handleArrayTypes(e,t,r){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let i=t.itemType;if("number"!=typeof i)return r.from(e.valueBlock.value,e=>this.fromASN(e,i));{let t=e7(i);if(!t)throw Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);return r.from(e.valueBlock.value,e=>t.fromASN(e))}}static processSchemaItems(e,t,r){for(let i in e.items){let n,o=t.result[i];if(!o)continue;let a=e.items[i],s=a.type;(n="number"==typeof s||tl(s)?this.processPrimitiveSchemaItem(o,a,s):this.processComplexSchemaItem(o,a,s))&&"object"==typeof n&&"value"in n&&"raw"in n?(r[i]=n.value,r[`${i}Raw`]=n.raw):r[i]=n}}static processPrimitiveSchemaItem(e,t,r){var i;let n=null!=(i=t.converter)?i:tl(r)?new r:null;if(!n)throw Error("Converter is empty");return t.repeated?this.processRepeatedPrimitiveItem(e,t,n):this.processSinglePrimitiveItem(e,t,r,n)}static processRepeatedPrimitiveItem(e,t,r){if(!t.implicit)return Array.from(e,e=>r.fromASN(e));{let i=new("sequence"===t.repeated?tc.Sequence:tc.Set);i.valueBlock=e.valueBlock;let n=tc.fromBER(i.toBER(!1));if(-1===n.offset)throw Error(`Cannot parse the child item. ${n.result.error}`);if(!("value"in n.result.valueBlock&&Array.isArray(n.result.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");return Array.from(n.result.valueBlock.value,e=>r.fromASN(e))}}static processSinglePrimitiveItem(e,t,r,i){let n=e;if(t.implicit){let e;if(tl(r))e=new r().toSchema("");else{let t=ta[r],i=tc[t];if(!i)throw Error(`Cannot get '${t}' class from asn1js module`);e=new i}e.valueBlock=n.valueBlock,n=tc.fromBER(e.toBER(!1)).result}return i.fromASN(n)}static processComplexSchemaItem(e,t,r){if(t.repeated){if(!Array.isArray(e))throw Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");return Array.from(e,e=>this.fromASN(e,r))}{let i=this.handleImplicitTagging(e,t,r);if(this.isOptionalChoiceField(t))try{return this.fromASN(i,r)}catch(e){if(e instanceof th&&/Wrong values for Choice type/.test(e.message))return;throw e}{let n=this.fromASN(i,r);return t.raw?{value:n,raw:e.valueBeforeDecodeView}:n}}}static handleImplicitTagging(e,t,r){if(t.implicit&&"number"==typeof t.context){let t=tu.get(r);if(t.type===to.Sequence){let t=new tc.Sequence;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in t.valueBlock)return t.valueBlock.value=e.valueBlock.value,t}else if(t.type===to.Set){let t=new tc.Set;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in t.valueBlock)return t.valueBlock.value=e.valueBlock.value,t}}return e}}class ty{static serialize(e){return e instanceof B?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){let t;if(e&&"object"==typeof e&&tl(e))return e.toASN();if(!(e&&"object"==typeof e))throw TypeError("Parameter 1 should be type of Object.");let r=e.constructor,i=tu.get(r);tu.cache(r);let n=[];if(i.itemType){if(!Array.isArray(e))throw TypeError("Parameter 1 should be type of Array.");if("number"==typeof i.itemType){let t=e7(i.itemType);if(!t)throw Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);n=e.map(e=>t.toASN(e))}else n=e.map(e=>this.toAsnItem({type:i.itemType},"[]",r,e))}else for(let t in i.items){let o=i.items[t],a=e[t];if(void 0===a||o.defaultValue===a||"object"==typeof o.defaultValue&&"object"==typeof a&&function(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==i[t])return!1;return!0}(this.serialize(o.defaultValue),this.serialize(a)))continue;let s=ty.toAsnItem(o,t,r,a);if("number"==typeof o.context)if(o.implicit)if(!o.repeated&&("number"==typeof o.type||tl(o.type))){let e={};e.valueHex=s instanceof $?s.valueBeforeDecodeView:s.valueBlock.toBER(),n.push(new D({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},...e}))}else n.push(new z({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},value:s.valueBlock.value}));else n.push(new z({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},value:[s]}));else o.repeated?n=n.concat(s):n.push(s)}switch(i.type){case to.Sequence:t=new es({value:n});break;case to.Set:t=new ec({value:n});break;case to.Choice:if(!n[0])throw Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);t=n[0]}return t}static toAsnItem(e,t,r,i){let n;if("number"==typeof e.type){let o=e.converter;if(!o)throw Error(`Property '${t}' doesn't have converter for type ${ta[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(i))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(i,e=>o.toASN(e));n=new("sequence"===e.repeated?es:ec)({value:t})}else n=o.toASN(i)}else if(e.repeated){if(!Array.isArray(i))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(i,e=>this.toASN(e));n=new("sequence"===e.repeated?es:ec)({value:t})}else n=this.toASN(i);return n}}class tg{static serialize(e){return ty.serialize(e)}static parse(e,t){return tf.parse(e,t)}static toString(e){let r=U(t.isBufferSource(e)?t.toArrayBuffer(e):tg.serialize(e));if(-1===r.offset)throw Error(`Cannot decode ASN.1 data. ${r.result.error}`);return r.result.toString()}}function tm(e,t,r,i){var n,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(o<3?n(a):o>3?n(t,r,a):n(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}"function"==typeof SuppressedError&&SuppressedError;class tv extends Error{constructor(e,t){super(t?`${e}. See the inner exception for more details.`:e),this.message=e,this.innerError=t}}class tb extends tv{constructor(e,t,r){super(t,r),this.schema=e}}class tw extends tb{constructor(e,t,r){super(e,`JSON doesn't match to '${e.target.name}' schema. ${t}`,r)}}class t_ extends tv{}class tS extends tv{constructor(e,t,r){super(`Cannot serialize by '${e}' schema. ${t}`,r),this.schemaName=e}}class tE extends tw{constructor(e,t,r={}){super(e,"Some keys doesn't match to schema"),this.keys=t,this.errors=r}}function tO(e,t){if(!function(e,t){switch(t){case ts.Boolean:return"boolean"==typeof e;case ts.Number:return"number"==typeof e;case ts.String:return"string"==typeof e}return!0}(e,t))throw TypeError(`Value must be ${ts[t]}`)}function tA(e){return e&&e.prototype?!!e.prototype.toJSON&&!!e.prototype.fromJSON||tA(e.prototype):!!(e&&e.toJSON&&e.fromJSON)}(te=ts||(ts={}))[te.Any=0]="Any",te[te.Boolean=1]="Boolean",te[te.Number=2]="Number",te[te.String=3]="String";let tP="default",tk=new class{constructor(){this.items=new Map}has(e){return this.items.has(e)||!!this.findParentSchema(e)}get(e){let t=this.items.get(e)||this.findParentSchema(e);if(!t)throw Error("Cannot get schema for current target");return t}create(e){let t={names:{}},r=this.findParentSchema(e);if(r)for(let e in Object.assign(t,r),t.names={},r.names)t.names[e]=Object.assign({},r.names[e]);return t.target=e,t}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=e.__proto__;return t?this.items.get(t)||this.findParentSchema(t):null}};class tx{constructor(e){this.pattern=new RegExp(e)}validate(e){let t=new RegExp(this.pattern.source,this.pattern.flags);if("string"!=typeof e)throw new t_("Incoming value must be string");if(!t.exec(e))throw new t_(`Value doesn't match to pattern '${t.toString()}'`)}}class tR{constructor(e=5e-324,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(tO(e,ts.Number),!(this.min<=e&&e<=this.max)){let e=5e-324===this.min?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new t_(`Value doesn't match to diapason [${e},${t}]`)}}}class tC{constructor(e=5e-324,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(tO(e,ts.Number),!(this.min<e&&e<this.max)){let e=5e-324===this.min?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new t_(`Value doesn't match to diapason (${e},${t})`)}}}class tj{constructor(e,t,r){this.length=e,this.minLength=t,this.maxLength=r}validate(e){if(void 0!==this.length){if(e.length!==this.length)throw new t_(`Value length must be exactly ${this.length}.`);return}if(void 0!==this.minLength&&e.length<this.minLength)throw new t_(`Value length must be more than ${this.minLength}.`);if(void 0!==this.maxLength&&e.length>this.maxLength)throw new t_(`Value length must be less than ${this.maxLength}.`)}}class tI{constructor(e){this.enumeration=e}validate(e){if(tO(e,ts.String),!this.enumeration.includes(e))throw new t_(`Value must be one of ${this.enumeration.map(e=>`'${e}'`).join(", ")}`)}}class tT{static checkValues(e,t){for(let r of Array.isArray(e)?e:[e])for(let i of t.validations)i instanceof tj&&t.repeated?i.validate(e):i.validate(r)}static checkTypes(e,t){if(t.repeated&&!Array.isArray(e))throw TypeError("Value must be Array");if("number"==typeof t.type)for(let r of Array.isArray(e)?e:[e])tO(r,t.type)}static getSchemaByName(e,t=tP){return{...e.names[tP],...e.names[t]}}}class tB extends tT{static serialize(e,t,r,i){return JSON.stringify(this.toJSON(e,t),r,i)}static toJSON(e,t={}){let r,i=t.targetSchema,n=t.schemaName||tP;if(tA(e))return e.toJSON();if(Array.isArray(e))for(let i of(r=[],e))r.push(this.toJSON(i,t));else if("object"==typeof e){if(i&&!tk.has(i))throw new tv("Cannot get schema for `targetSchema` param");if(i=i||e.constructor,tk.has(i)){let t=tk.get(i);r={};let o=this.getSchemaByName(t,n);for(let a in o)try{let t,s=o[a],c=e[a];if(s.optional&&void 0===c||void 0!==s.defaultValue&&c===s.defaultValue)continue;if(!s.optional&&void 0===c)throw new tS(i.name,`Property '${a}' is required.`);t="number"==typeof s.type?s.converter?s.repeated?c.map(t=>s.converter.toJSON(t,e)):s.converter.toJSON(c,e):c:s.repeated?c.map(e=>this.toJSON(e,{schemaName:n})):this.toJSON(c,{schemaName:n}),this.checkTypes(t,s),this.checkValues(t,s),r[s.name||a]=t}catch(e){if(e instanceof tS)throw e;throw new tS(t.target.name,`Property '${a}' is wrong. ${e.message}`,e)}}else for(let t in r={},e)r[t]=this.toJSON(e[t],{schemaName:n})}else r=e;return r}}class tM extends tT{static parse(e,t){let r=JSON.parse(e);return this.fromJSON(r,t)}static fromJSON(e,t){let r=t.targetSchema,i=t.schemaName||tP,n=new r;if(tA(n))return n.fromJSON(e);let o=tk.get(r),a=this.getSchemaByName(o,i),s={};for(let r in t.strictProperty&&!Array.isArray(e)&&tM.checkStrictProperty(e,a,o),a)try{let s=a[r],c=s.name||r,l=e[c];if(void 0===l&&(s.optional||void 0!==s.defaultValue))continue;if(!s.optional&&void 0===l)throw new tw(o,`Property '${c}' is required.`);if(this.checkTypes(l,s),this.checkValues(l,s),"number"==typeof s.type)s.converter?s.repeated?n[r]=l.map(e=>s.converter.fromJSON(e,n)):n[r]=s.converter.fromJSON(l,n):n[r]=l;else{let e={...t,targetSchema:s.type,schemaName:i};s.repeated?n[r]=l.map(t=>this.fromJSON(t,e)):n[r]=this.fromJSON(l,e)}}catch(e){if(e instanceof tw||(e=new tw(o,`Property '${r}' is wrong. ${e.message}`,e)),t.strictAllKeys)s[r]=e;else throw e}let c=Object.keys(s);if(c.length)throw new tE(o,c,s);return n}static checkStrictProperty(e,t,r){let i=Object.keys(e),n=Object.keys(t),o=[];for(let e of i)-1===n.indexOf(e)&&o.push(e);if(o.length)throw new tE(r,o)}}let tN=(e={})=>(t,r)=>{let i,n,o=`Cannot set type for ${r} property of ${t.constructor.name} schema`;tk.has(t.constructor)?(i=tk.get(t.constructor)).target!==t.constructor&&(i=tk.create(t.constructor),tk.set(t.constructor,i)):(i=tk.create(t.constructor),tk.set(t.constructor,i));let a=Object.assign({type:ts.Any,validations:[]},e);if(n=[],a.pattern&&n.push(new tx(a.pattern)),(a.type===ts.Number||a.type===ts.Any)&&((void 0!==a.minInclusive||void 0!==a.maxInclusive)&&n.push(new tR(a.minInclusive,a.maxInclusive)),(void 0!==a.minExclusive||void 0!==a.maxExclusive)&&n.push(new tC(a.minExclusive,a.maxExclusive)),void 0!==a.enumeration&&n.push(new tI(a.enumeration))),(a.type===ts.String||a.repeated||a.type===ts.Any)&&(void 0!==a.length||void 0!==a.minLength||void 0!==a.maxLength)&&n.push(new tj(a.length,a.minLength,a.maxLength)),a.validations=n,"number"!=typeof a.type&&!tk.has(a.type)&&!tA(a.type))throw Error(`${o}. Assigning type doesn't have schema.`);for(let t of Array.isArray(e.schema)?e.schema:[e.schema||tP])i.names[t]||(i.names[t]={}),i.names[t][r]=a};class tD extends Error{}class tK extends tD{}class tU extends tD{constructor(e){super(`Unsupported operation: ${e?`${e}`:""}`)}}class tL extends tD{}class tz extends tD{constructor(e){super(`${e}: Missing required property`)}}class tH{static toArrayBuffer(e){let t=e.replace(/-{5}(BEGIN|END) .*-{5}/g,"").replace("\r","").replace("\n","");return c.FromBase64(t)}static toUint8Array(e){return new Uint8Array(this.toArrayBuffer(e))}static fromBufferSource(e,t){let r,i=c.ToBase64(e),n=0,o=[];for(;n<i.length&&(r=i.slice(n,n+64)).length;)o.push(r),n+=64;let a=t.toUpperCase();return`-----BEGIN ${a}-----
${o.join("\n")}
-----END ${a}-----`}static isPEM(e){return/-----BEGIN .+-----[A-Za-z0-9+/+=\s\n]+-----END .+-----/i.test(e)}static getTagName(e){if(!this.isPEM(e))throw Error("Bad parameter. Incoming data is not right PEM");let t=/-----BEGIN (.+)-----/.exec(e);if(!t)throw Error("Cannot get tag from PEM");return t[1]}static hasTagName(e,t){let r=this.getTagName(e);return t.toLowerCase()===r.toLowerCase()}static isCertificate(e){return this.hasTagName(e,"certificate")}static isCertificateRequest(e){return this.hasTagName(e,"certificate request")}static isCRL(e){return this.hasTagName(e,"x509 crl")}static isPublicKey(e){return this.hasTagName(e,"public key")}}class tW{async digest(...e){return this.checkDigest.apply(this,e),this.onDigest.apply(this,e)}checkDigest(e,t){this.checkAlgorithmName(e)}async onDigest(e,t){throw new tU("digest")}async generateKey(...e){return this.checkGenerateKey.apply(this,e),this.onGenerateKey.apply(this,e)}checkGenerateKey(e,t,r){let i;if(this.checkAlgorithmName(e),this.checkGenerateKeyParams(e),!(r&&r.length))throw TypeError("Usages cannot be empty when creating a key.");i=Array.isArray(this.usages)?this.usages:this.usages.privateKey.concat(this.usages.publicKey),this.checkKeyUsages(r,i)}checkGenerateKeyParams(e){}async onGenerateKey(e,t,r){throw new tU("generateKey")}async sign(...e){return this.checkSign.apply(this,e),this.onSign.apply(this,e)}checkSign(e,t,r){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"sign")}async onSign(e,t,r){throw new tU("sign")}async verify(...e){return this.checkVerify.apply(this,e),this.onVerify.apply(this,e)}checkVerify(e,t,r,i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"verify")}async onVerify(e,t,r,i){throw new tU("verify")}async encrypt(...e){return this.checkEncrypt.apply(this,e),this.onEncrypt.apply(this,e)}checkEncrypt(e,t,r,i={}){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"encrypt":void 0)}async onEncrypt(e,t,r){throw new tU("encrypt")}async decrypt(...e){return this.checkDecrypt.apply(this,e),this.onDecrypt.apply(this,e)}checkDecrypt(e,t,r,i={}){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"decrypt":void 0)}async onDecrypt(e,t,r){throw new tU("decrypt")}async deriveBits(...e){return this.checkDeriveBits.apply(this,e),this.onDeriveBits.apply(this,e)}checkDeriveBits(e,t,r,i={}){if(this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"deriveBits":void 0),r%8!=0)throw new tL("length: Is not multiple of 8")}async onDeriveBits(e,t,r){throw new tU("deriveBits")}async exportKey(...e){return this.checkExportKey.apply(this,e),this.onExportKey.apply(this,e)}checkExportKey(e,t){if(this.checkKeyFormat(e),this.checkCryptoKey(t),!t.extractable)throw new tD("key: Is not extractable")}async onExportKey(e,t){throw new tU("exportKey")}async importKey(...e){return this.checkImportKey.apply(this,e),this.onImportKey.apply(this,e)}checkImportKey(e,t,r,i,n){this.checkKeyFormat(e),this.checkKeyData(e,t),this.checkAlgorithmName(r),this.checkImportParams(r),Array.isArray(this.usages)&&this.checkKeyUsages(n,this.usages)}async onImportKey(e,t,r,i,n){throw new tU("importKey")}checkAlgorithmName(e){if(e.name.toLowerCase()!==this.name.toLowerCase())throw new tK("Unrecognized name")}checkAlgorithmParams(e){}checkDerivedKeyParams(e){}checkKeyUsages(e,t){for(let r of e)if(-1===t.indexOf(r))throw TypeError("Cannot create a key using the specified key usages")}checkCryptoKey(e,t){if(this.checkAlgorithmName(e.algorithm),t&&-1===e.usages.indexOf(t))throw new tD("key does not match that of operation")}checkRequiredProperty(e,t){if(!(t in e))throw new tz(t)}checkHashAlgorithm(e,t){for(let r of t)if(r.toLowerCase()===e.name.toLowerCase())return;throw new tL(`hash: Must be one of ${t.join(", ")}`)}checkImportParams(e){}checkKeyFormat(e){switch(e){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'")}}checkKeyData(e,r){if(!r)throw TypeError("keyData: Cannot be empty on empty on key importing");if("jwk"===e){if(!("object"==typeof r&&"kty"in r))throw TypeError("keyData: Is not JsonWebToken")}else if(!t.isBufferSource(r))throw TypeError("keyData: Is not ArrayBufferView or ArrayBuffer")}prepareData(e){return t.toArrayBuffer(e)}}class t$ extends tW{checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");switch(e.length){case 128:case 192:case 256:break;default:throw TypeError("length: Must be 128, 192, or 256")}}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class tJ extends t${constructor(){super(...arguments),this.name="AES-CBC",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.iv.byteLength)throw TypeError("iv: Must have length 16 bytes")}}class tV extends t${constructor(){super(...arguments),this.name="AES-CMAC",this.usages=["sign","verify"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new tL("length: Must be more than 0")}}class tF extends t${constructor(){super(...arguments),this.name="AES-CTR",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"counter"),!(e.counter instanceof ArrayBuffer||ArrayBuffer.isView(e.counter)))throw TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.counter.byteLength)throw TypeError("iv: Must have length 16 bytes");if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new tL("length: Must be more than 0")}}class tG extends t${constructor(){super(...arguments),this.name="AES-ECB",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}}class tq extends t${constructor(){super(...arguments),this.name="AES-GCM",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength<1)throw new tL("iv: Must have length more than 0 and less than 2^64 - 1");switch(null!=e.tagLength||(e.tagLength=128),e.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new tL("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128")}}}class tX extends t${constructor(){super(...arguments),this.name="AES-KW",this.usages=["wrapKey","unwrapKey"]}}class tY extends tW{constructor(){super(...arguments),this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.ivSize){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength!==this.ivSize)throw TypeError(`iv: Must have length ${this.ivSize} bytes`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");if(e.length!==this.keySizeBits)throw new tL(`algorithm.length: Must be ${this.keySizeBits}`)}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class tQ extends tW{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=c.ToBase64(e.publicExponent);if("Aw=="!==t&&"AQAB"!==t)throw TypeError("publicExponent: Must be [3] or [1,0,1]");if(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength%8||e.modulusLength<256||e.modulusLength>16384)throw TypeError("The modulus length must be a multiple of 8 bits and >= 256 and <= 16384")}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class tZ extends tQ{constructor(){super(...arguments),this.name="RSASSA-PKCS1-v1_5",this.usages={privateKey:["sign"],publicKey:["verify"]}}}class t0 extends tQ{constructor(){super(...arguments),this.name="RSA-PSS",this.usages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"saltLength"),"number"!=typeof e.saltLength)throw TypeError("saltLength: Is not a Number");if(e.saltLength<0)throw RangeError("saltLength: Must be positive number")}}class t1 extends tQ{constructor(){super(...arguments),this.name="RSA-OAEP",this.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]}}checkAlgorithmParams(e){if(e.label&&!(e.label instanceof ArrayBuffer||ArrayBuffer.isView(e.label)))throw TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'")}}class t2 extends tW{checkGenerateKeyParams(e){this.checkRequiredProperty(e,"namedCurve"),this.checkNamedCurve(e.namedCurve)}checkNamedCurve(e){for(let t of this.namedCurves)if(t.toLowerCase()===e.toLowerCase())return;throw new tL(`namedCurve: Must be one of ${this.namedCurves.join(", ")}`)}}class t8 extends t2{constructor(){super(...arguments),this.name="ECDSA",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}let t3=["secret","private","public"];class t6{static create(e,t,r,i){let n=new this;return n.algorithm=e,n.type=t,n.extractable=r,n.usages=i,n}static isKeyType(e){return -1!==t3.indexOf(e)}get[Symbol.toStringTag](){return"CryptoKey"}}class t5 extends t2{constructor(){super(...arguments),this.name="ECDH",this.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"public"),!(e.public instanceof t6))throw TypeError("public: Is not a CryptoKey");if("public"!==e.public.type)throw new tL("public: Is not a public key");if(e.public.algorithm.name!==this.name)throw new tL(`public: Is not ${this.name} key`)}}class t4 extends t5{constructor(){super(...arguments),this.name="ECDH-ES",this.namedCurves=["X25519","X448"]}}class t9 extends t2{constructor(){super(...arguments),this.name="EdDSA",this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["Ed25519","Ed448"]}}let t7=class{constructor(e){e&&(this.value=e)}};tm([tp({type:ta.ObjectIdentifier})],t7.prototype,"value",void 0),t7=tm([td({type:to.Choice})],t7);class re{constructor(e){Object.assign(this,e)}}tm([tp({type:ta.ObjectIdentifier})],re.prototype,"algorithm",void 0),tm([tp({type:ta.Any,optional:!0})],re.prototype,"parameters",void 0);class rt{constructor(){this.version=0,this.privateKeyAlgorithm=new re,this.privateKey=new ArrayBuffer(0)}}tm([tp({type:ta.Integer})],rt.prototype,"version",void 0),tm([tp({type:re})],rt.prototype,"privateKeyAlgorithm",void 0),tm([tp({type:ta.OctetString})],rt.prototype,"privateKey",void 0),tm([tp({type:ta.Any,optional:!0})],rt.prototype,"attributes",void 0);class rr{constructor(){this.publicKeyAlgorithm=new re,this.publicKey=new ArrayBuffer(0)}}tm([tp({type:re})],rr.prototype,"publicKeyAlgorithm",void 0),tm([tp({type:ta.BitString})],rr.prototype,"publicKey",void 0);let ri={fromJSON:e=>c.FromBase64Url(e),toJSON:e=>c.ToBase64Url(new Uint8Array(e))},rn={fromASN:e=>new Uint8Array(e.valueBlock.valueHex)[0]?e.valueBlock.valueHex:e.valueBlock.valueHex.slice(1),toASN:e=>new Z({valueHex:new Uint8Array(e)[0]>127?l(new Uint8Array([0]).buffer,e):e})};class ro{constructor(){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0)}}tm([tp({type:ta.Integer,converter:ez})],ro.prototype,"version",void 0),tm([tp({type:ta.Integer,converter:rn}),tN({name:"n",converter:ri})],ro.prototype,"modulus",void 0),tm([tp({type:ta.Integer,converter:rn}),tN({name:"e",converter:ri})],ro.prototype,"publicExponent",void 0),tm([tp({type:ta.Integer,converter:rn}),tN({name:"d",converter:ri})],ro.prototype,"privateExponent",void 0),tm([tp({type:ta.Integer,converter:rn}),tN({name:"p",converter:ri})],ro.prototype,"prime1",void 0),tm([tp({type:ta.Integer,converter:rn}),tN({name:"q",converter:ri})],ro.prototype,"prime2",void 0),tm([tp({type:ta.Integer,converter:rn}),tN({name:"dp",converter:ri})],ro.prototype,"exponent1",void 0),tm([tp({type:ta.Integer,converter:rn}),tN({name:"dq",converter:ri})],ro.prototype,"exponent2",void 0),tm([tp({type:ta.Integer,converter:rn}),tN({name:"qi",converter:ri})],ro.prototype,"coefficient",void 0),tm([tp({type:ta.Any,optional:!0})],ro.prototype,"otherPrimeInfos",void 0);class ra{constructor(){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0)}}tm([tp({type:ta.Integer,converter:rn}),tN({name:"n",converter:ri})],ra.prototype,"modulus",void 0),tm([tp({type:ta.Integer,converter:rn}),tN({name:"e",converter:ri})],ra.prototype,"publicExponent",void 0);let rs=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){let e=new Uint8Array(this.value);if(4!==e[0])throw new tD("Wrong ECPoint. Current version supports only Uncompressed (0x04) point");let t=(e=new Uint8Array(this.value.slice(1))).length/2;return{x:c.ToBase64Url(e.buffer.slice(0,0+t)),y:c.ToBase64Url(e.buffer.slice(0+t,0+t+t))}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");if(!("y"in e))throw Error("y: Missing required property");let t=c.FromBase64Url(e.x),r=c.FromBase64Url(e.y),i=l(new Uint8Array([4]).buffer,t,r);return this.value=new Uint8Array(i).buffer,this}};tm([tp({type:ta.OctetString})],rs.prototype,"value",void 0),rs=tm([td({type:to.Choice})],rs);class rc{constructor(){this.version=1,this.privateKey=new ArrayBuffer(0)}fromJSON(e){if(!("d"in e))throw Error("d: Missing required property");if(this.privateKey=c.FromBase64Url(e.d),"x"in e){let t=new rs;t.fromJSON(e);let r=ty.toASN(t);"valueHex"in r.valueBlock&&(this.publicKey=r.valueBlock.valueHex)}return this}toJSON(){let e={};return e.d=c.ToBase64Url(this.privateKey),this.publicKey&&Object.assign(e,new rs(this.publicKey).toJSON()),e}}tm([tp({type:ta.Integer,converter:ez})],rc.prototype,"version",void 0),tm([tp({type:ta.OctetString})],rc.prototype,"privateKey",void 0),tm([tp({context:0,type:ta.Any,optional:!0})],rc.prototype,"parameters",void 0),tm([tp({context:1,type:ta.BitString,optional:!0})],rc.prototype,"publicKey",void 0);let rl={fromASN:e=>{let t=new Uint8Array(e.valueBlock.valueHex);return 0===t[0]?t.buffer.slice(1):t.buffer},toASN:e=>{let t=new Uint8Array(e);if(t[0]>127){let e=new Uint8Array(t.length+1);return e.set(t,1),new Z({valueHex:e.buffer})}return new Z({valueHex:e})}};var ru=Object.freeze({__proto__:null,AsnIntegerWithoutPaddingConverter:rl});class rd{static decodePoint(e,r){let i=t.toUint8Array(e);if(0===i.length||4!==i[0])throw Error("Only uncompressed point format supported");let n=(i.length-1)/2;if(n!==Math.ceil(r/8))throw Error("Point does not match field size");return{x:i.slice(1,n+1),y:i.slice(n+1,n+1+n)}}static encodePoint(e,r){let i=Math.ceil(r/8);if(e.x.byteLength!==i||e.y.byteLength!==i)throw Error("X,Y coordinates don't match point size criteria");let n=t.toUint8Array(e.x),o=t.toUint8Array(e.y),a=new Uint8Array(2*i+1);return a[0]=4,a.set(n,1),a.set(o,i+1),a}static getSize(e){return Math.ceil(e/8)}static encodeSignature(e,r){let i=this.getSize(r),n=t.toUint8Array(e.r),o=t.toUint8Array(e.s),a=new Uint8Array(2*i);return a.set(this.padStart(n,i)),a.set(this.padStart(o,i),i),a}static decodeSignature(e,r){let i=this.getSize(r),n=t.toUint8Array(e);if(n.length!==2*i)throw Error("Incorrect size of the signature");let o=n.slice(0,i),a=n.slice(i);return{r:this.trimStart(o),s:this.trimStart(a)}}static trimStart(e){let t=0;for(;t<e.length-1&&0===e[t];)t++;return 0===t?e:e.slice(t,e.length)}static padStart(e,t){if(t===e.length)return e;let r=new Uint8Array(t);return r.set(e,t-e.length),r}}class rp{constructor(){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0)}static fromWebCryptoSignature(e){let r=e.byteLength/2,i=rd.decodeSignature(e,8*r),n=new rp;return n.r=t.toArrayBuffer(i.r),n.s=t.toArrayBuffer(i.s),n}toWebCryptoSignature(e){if(!e){let t=Math.max(this.r.byteLength,this.s.byteLength);e=t<=32?256:t<=48?384:521}return rd.encodeSignature(this,e).buffer}}tm([tp({type:ta.Integer,converter:rl})],rp.prototype,"r",void 0),tm([tp({type:ta.Integer,converter:rl})],rp.prototype,"s",void 0);class rh extends rt{}tm([tp({context:1,implicit:!0,type:ta.BitString,optional:!0})],rh.prototype,"publicKey",void 0);let rf=class{constructor(){this.value=new ArrayBuffer(0)}fromJSON(e){if(!e.d)throw Error("d: Missing required property");return this.value=c.FromBase64Url(e.d),this}toJSON(){return{d:c.ToBase64Url(this.value)}}};tm([tp({type:ta.OctetString})],rf.prototype,"value",void 0),rf=tm([td({type:to.Choice})],rf);let ry=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){return{x:c.ToBase64Url(this.value)}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");return this.value=c.FromBase64Url(e.x),this}};tm([tp({type:ta.BitString})],ry.prototype,"value",void 0),ry=tm([td({type:to.Choice})],ry);let rg=class{};tm([tp({type:ta.OctetString}),tN({type:ts.String,converter:ri})],rg.prototype,"d",void 0),rg=tm([td({type:to.Choice})],rg);let rm="1.2.840.10045.3.1.7",rv="1.3.132.0",rb=`${rv}.34`,rw=`${rv}.35`,r_=`${rv}.10`,rS="1.3.36.3.3.2.8.1.1",rE=`${rS}.1`,rO=`${rS}.2`,rA=`${rS}.3`,rP=`${rS}.4`,rk=`${rS}.5`,rx=`${rS}.6`,rR=`${rS}.7`,rC=`${rS}.8`,rj=`${rS}.9`,rI=`${rS}.10`,rT=`${rS}.11`,rB=`${rS}.12`,rM=`${rS}.13`,rN=`${rS}.14`;var rD=Object.freeze({__proto__:null,AlgorithmIdentifier:re,get CurvePrivateKey(){return rg},EcDsaSignature:rp,EcPrivateKey:rc,get EcPublicKey(){return rs},get EdPrivateKey(){return rf},get EdPublicKey(){return ry},get ObjectIdentifier(){return t7},OneAsymmetricKey:rh,PrivateKeyInfo:rt,PublicKeyInfo:rr,RsaPrivateKey:ro,RsaPublicKey:ra,converters:ru,idBrainpoolP160r1:rE,idBrainpoolP160t1:rO,idBrainpoolP192r1:rA,idBrainpoolP192t1:rP,idBrainpoolP224r1:rk,idBrainpoolP224t1:rx,idBrainpoolP256r1:rR,idBrainpoolP256t1:rC,idBrainpoolP320r1:rj,idBrainpoolP320t1:rI,idBrainpoolP384r1:rT,idBrainpoolP384t1:rB,idBrainpoolP512r1:rM,idBrainpoolP512t1:rN,idEd25519:"1.3.101.112",idEd448:"1.3.101.113",idEllipticCurve:rv,idSecp256k1:r_,idSecp256r1:rm,idSecp384r1:rb,idSecp521r1:rw,idVersionOne:rS,idX25519:"1.3.101.110",idX448:"1.3.101.111"});class rK{static register(e){let t=new t7;t.value=e.id;let r=tg.serialize(t);this.items.push({...e,raw:r}),this.names.push(e.name)}static find(e){for(let t of(e=e.toUpperCase(),this.items))if(t.name.toUpperCase()===e||t.id.toUpperCase()===e)return t;return null}static get(e){let t=this.find(e);if(!t)throw Error(`Unsupported EC named curve '${e}'`);return t}}rK.items=[],rK.names=[],rK.register({name:"P-256",id:rm,size:256}),rK.register({name:"P-384",id:rb,size:384}),rK.register({name:"P-521",id:rw,size:521}),rK.register({name:"K-256",id:r_,size:256}),rK.register({name:"brainpoolP160r1",id:rE,size:160}),rK.register({name:"brainpoolP160t1",id:rO,size:160}),rK.register({name:"brainpoolP192r1",id:rA,size:192}),rK.register({name:"brainpoolP192t1",id:rP,size:192}),rK.register({name:"brainpoolP224r1",id:rk,size:224}),rK.register({name:"brainpoolP224t1",id:rx,size:224}),rK.register({name:"brainpoolP256r1",id:rR,size:256}),rK.register({name:"brainpoolP256t1",id:rC,size:256}),rK.register({name:"brainpoolP320r1",id:rj,size:320}),rK.register({name:"brainpoolP320t1",id:rI,size:320}),rK.register({name:"brainpoolP384r1",id:rT,size:384}),rK.register({name:"brainpoolP384t1",id:rB,size:384}),rK.register({name:"brainpoolP512r1",id:rM,size:512}),rK.register({name:"brainpoolP512t1",id:rN,size:512});class rU extends tW{constructor(){super(...arguments),this.name="X25519",this.usages={privateKey:["deriveKey","deriveBits"],publicKey:[]}}checkAlgorithmParams(e){this.checkRequiredProperty(e,"public")}}class rL extends tW{constructor(){super(...arguments),this.name="Ed25519",this.usages={privateKey:["sign"],publicKey:["verify"]}}}class rz extends tW{constructor(){super(...arguments),this.name="HMAC",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["sign","verify"]}getDefaultLength(e){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":return 512;default:throw Error(`Unknown algorithm name '${e}'`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),"length"in e){if("number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw RangeError("length: Number is out of range")}}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class rH extends tW{constructor(){super(...arguments),this.name="PBKDF2",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveBits","deriveKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!(e.salt instanceof ArrayBuffer||ArrayBuffer.isView(e.salt)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(e,"iterations"),"number"!=typeof e.iterations)throw TypeError("iterations: Is not a Number");if(e.iterations<1)throw TypeError("iterations: Is less than 1")}checkImportKey(e,t,r,i,n,...o){if(super.checkImportKey(e,t,r,i,n,...o),i)throw SyntaxError("extractable: Must be 'false'")}}class rW extends tW{constructor(){super(...arguments),this.name="HKDF",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveKey","deriveBits"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!t.isBufferSource(e.salt)||(this.checkRequiredProperty(e,"info"),!t.isBufferSource(e.info)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'")}checkImportKey(e,t,r,i,n,...o){if(super.checkImportKey(e,t,r,i,n,...o),i)throw SyntaxError("extractable: Must be 'false'")}}class r$ extends tW{constructor(){super(...arguments),this.usages=[],this.defaultLength=0}digest(...e){return e[0]={length:this.defaultLength,...e[0]},super.digest.apply(this,e)}checkDigest(e,t){super.checkDigest(e,t);let r=e.length||0;if("number"!=typeof r)throw TypeError("length: Is not a Number");if(r<0)throw TypeError("length: Is negative")}}class rJ extends r${constructor(){super(...arguments),this.name="shake128",this.defaultLength=16}}class rV extends r${constructor(){super(...arguments),this.name="shake256",this.defaultLength=32}}class rF{get[Symbol.toStringTag](){return"Crypto"}randomUUID(){let e=this.getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=c.ToHex(e).toLowerCase();return`${t.substring(0,8)}-${t.substring(8,12)}-${t.substring(12,16)}-${t.substring(16,20)}-${t.substring(20)}`}}class rG{constructor(){this.items={}}get(e){return this.items[e.toLowerCase()]||null}set(e){this.items[e.name.toLowerCase()]=e}removeAt(e){let t=this.get(e.toLowerCase());return t&&delete this.items[e],t}has(e){return!!this.get(e)}get length(){return Object.keys(this.items).length}get algorithms(){let e=[];for(let t in this.items){let r=this.items[t];e.push(r.name)}return e.sort()}}let rq={jwk:["private","public","secret"],pkcs8:["private"],spki:["public"],raw:["secret","public"]},rX=["pkcs8","spki","raw"];class rY{constructor(){this.providers=new rG}static isHashedAlgorithm(e){return!!e&&"object"==typeof e&&"name"in e&&"hash"in e}get[Symbol.toStringTag](){return"SubtleCrypto"}async digest(...e){this.checkRequiredArguments(e,2,"digest");let[r,i,...n]=e,o=this.prepareAlgorithm(r),a=t.toArrayBuffer(i),s=this.getProvider(o.name);return await s.digest(o,a,...n)}async generateKey(...e){this.checkRequiredArguments(e,3,"generateKey");let[t,r,i,...n]=e,o=this.prepareAlgorithm(t),a=this.getProvider(o.name);return await a.generateKey({...o,name:a.name},r,i,...n)}async sign(...e){this.checkRequiredArguments(e,3,"sign");let[r,i,n,...o]=e;this.checkCryptoKey(i);let a=this.prepareAlgorithm(r),s=t.toArrayBuffer(n),c=this.getProvider(a.name);return await c.sign({...a,name:c.name},i,s,...o)}async verify(...e){this.checkRequiredArguments(e,4,"verify");let[r,i,n,o,...a]=e;this.checkCryptoKey(i);let s=this.prepareAlgorithm(r),c=t.toArrayBuffer(o),l=t.toArrayBuffer(n),u=this.getProvider(s.name);return await u.verify({...s,name:u.name},i,l,c,...a)}async encrypt(...e){this.checkRequiredArguments(e,3,"encrypt");let[r,i,n,...o]=e;this.checkCryptoKey(i);let a=this.prepareAlgorithm(r),s=t.toArrayBuffer(n),c=this.getProvider(a.name);return await c.encrypt({...a,name:c.name},i,s,{keyUsage:!0},...o)}async decrypt(...e){this.checkRequiredArguments(e,3,"decrypt");let[r,i,n,...o]=e;this.checkCryptoKey(i);let a=this.prepareAlgorithm(r),s=t.toArrayBuffer(n),c=this.getProvider(a.name);return await c.decrypt({...a,name:c.name},i,s,{keyUsage:!0},...o)}async deriveBits(...e){this.checkRequiredArguments(e,3,"deriveBits");let[t,r,i,...n]=e;this.checkCryptoKey(r);let o=this.prepareAlgorithm(t),a=this.getProvider(o.name);return await a.deriveBits({...o,name:a.name},r,i,{keyUsage:!0},...n)}async deriveKey(...e){this.checkRequiredArguments(e,5,"deriveKey");let[t,r,i,n,o,...a]=e,s=this.prepareAlgorithm(i);this.getProvider(s.name).checkDerivedKeyParams(s);let c=this.prepareAlgorithm(t),l=this.getProvider(c.name);l.checkCryptoKey(r,"deriveKey");let u=await l.deriveBits({...c,name:l.name},r,i.length||512,{keyUsage:!1},...a);return this.importKey("raw",u,i,n,o,...a)}async exportKey(...e){this.checkRequiredArguments(e,2,"exportKey");let[t,r,...i]=e;if(this.checkCryptoKey(r),!rq[t])throw TypeError("Invalid keyFormat argument");if(!rq[t].includes(r.type))throw new DOMException("The key is not of the expected type");let n=this.getProvider(r.algorithm.name);return await n.exportKey(t,r,...i)}async importKey(...e){this.checkRequiredArguments(e,5,"importKey");let[r,i,n,o,a,...s]=e,c=this.prepareAlgorithm(n),l=this.getProvider(c.name);if("jwk"===r){if("object"!=typeof i||!i.kty)throw TypeError("Key data must be an object for JWK import")}else if(rX.includes(r)){if(!t.isBufferSource(i))throw TypeError("Key data must be a BufferSource for non-JWK formats")}else throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView or JsonWebKey)'");return l.importKey(r,i,{...c,name:l.name},o,a,...s)}async wrapKey(e,r,i,n,...o){let a=await this.exportKey(e,r,...o);if("jwk"===e){let e=JSON.stringify(a);a=c.FromUtf8String(e)}let s=this.prepareAlgorithm(n),l=t.toArrayBuffer(a),u=this.getProvider(s.name);return u.encrypt({...s,name:u.name},i,l,{keyUsage:!1},...o)}async unwrapKey(e,r,i,n,o,a,s,...l){let u=this.prepareAlgorithm(n),d=t.toArrayBuffer(r),p=this.getProvider(u.name),h=await p.decrypt({...u,name:p.name},i,d,{keyUsage:!1},...l);if("jwk"===e)try{h=JSON.parse(c.ToUtf8String(h))}catch(t){let e=TypeError("wrappedKey: Is not a JSON");throw e.internal=t,e}return this.importKey(e,h,o,a,s,...l)}checkRequiredArguments(e,t,r){if(e.length<t)throw TypeError(`Failed to execute '${r}' on 'SubtleCrypto': ${t} arguments required, but only ${e.length} present`)}prepareAlgorithm(e){if("string"==typeof e)return{name:e};if(rY.isHashedAlgorithm(e)){let t={...e};return t.hash=this.prepareAlgorithm(e.hash),t}return{...e}}getProvider(e){let t=this.providers.get(e);if(!t)throw new tK("Unrecognized name");return t}checkCryptoKey(e){if(!(e instanceof t6))throw TypeError("Key is not of type 'CryptoKey'")}}var rQ=e.i(874),rZ=e.i(54799),r0=e.i(5365);let r1={fromJSON:e=>rQ.Buffer.from(c.FromBase64Url(e)),toJSON:e=>c.ToBase64Url(e)};class r2 extends t6{constructor(){super(...arguments),this.data=rQ.Buffer.alloc(0),this.algorithm={name:""},this.extractable=!1,this.type="secret",this.usages=[],this.kty="oct",this.alg=""}}tm([tN({name:"ext",type:ts.Boolean,optional:!0})],r2.prototype,"extractable",void 0),tm([tN({name:"key_ops",type:ts.String,repeated:!0,optional:!0})],r2.prototype,"usages",void 0),tm([tN({type:ts.String})],r2.prototype,"kty",void 0),tm([tN({type:ts.String,optional:!0})],r2.prototype,"alg",void 0);class r8 extends r2{constructor(){super(...arguments),this.kty="oct",this.type="secret"}}class r3 extends r2{}class r6 extends r8{get alg(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return`A${this.algorithm.length}CBC`;case"AES-CTR":return`A${this.algorithm.length}CTR`;case"AES-GCM":return`A${this.algorithm.length}GCM`;case"AES-KW":return`A${this.algorithm.length}KW`;case"AES-CMAC":return`A${this.algorithm.length}CMAC`;case"AES-ECB":return`A${this.algorithm.length}ECB`;default:throw new tK("Unsupported algorithm name")}}set alg(e){}}tm([tN({name:"k",converter:r1})],r6.prototype,"data",void 0);class r5{static async generateKey(e,t,r){let i=new r6;return i.algorithm=e,i.extractable=t,i.usages=r,i.data=rZ.default.randomBytes(e.length>>3),i}static async exportKey(e,t){if(!(t instanceof r6))throw Error("key: Is not AesCryptoKey");switch(e.toLowerCase()){case"jwk":return tB.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new tL("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,i,n){let o;switch(e.toLowerCase()){case"jwk":o=tM.fromJSON(t,{targetSchema:r6});break;case"raw":(o=new r6).data=rQ.Buffer.from(t);break;default:throw new tL("format: Must be 'jwk' or 'raw'")}switch(o.algorithm=r,o.algorithm.length=o.data.length<<3,o.extractable=i,o.usages=n,o.algorithm.length){case 128:case 192:case 256:break;default:throw new tL("keyData: Is wrong key length")}return o}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"AES-CBC":return this.encryptAesCBC(e,t,rQ.Buffer.from(r));case"AES-CTR":return this.encryptAesCTR(e,t,rQ.Buffer.from(r));case"AES-GCM":return this.encryptAesGCM(e,t,rQ.Buffer.from(r));case"AES-KW":return this.encryptAesKW(e,t,rQ.Buffer.from(r));case"AES-ECB":return this.encryptAesECB(e,t,rQ.Buffer.from(r));default:throw new tL("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof r6))throw Error("key: Is not AesCryptoKey");switch(e.name.toUpperCase()){case"AES-CBC":return this.decryptAesCBC(e,t,rQ.Buffer.from(r));case"AES-CTR":return this.decryptAesCTR(e,t,rQ.Buffer.from(r));case"AES-GCM":return this.decryptAesGCM(e,t,rQ.Buffer.from(r));case"AES-KW":return this.decryptAesKW(e,t,rQ.Buffer.from(r));case"AES-ECB":return this.decryptAesECB(e,t,rQ.Buffer.from(r));default:throw new tL("algorithm: Is not recognized")}}static async encryptAesCBC(e,t,r){let i=rZ.default.createCipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}static async decryptAesCBC(e,t,r){let i=rZ.default.createDecipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}static async encryptAesCTR(e,t,r){let i=rZ.default.createCipheriv(`aes-${t.algorithm.length}-ctr`,t.data,rQ.Buffer.from(e.counter)),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}static async decryptAesCTR(e,t,r){let i=rZ.default.createDecipheriv(`aes-${t.algorithm.length}-ctr`,t.data,new Uint8Array(e.counter)),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}static async encryptAesGCM(e,t,r){let i=rZ.default.createCipheriv(`aes-${t.algorithm.length}-gcm`,t.data,rQ.Buffer.from(e.iv),{authTagLength:(e.tagLength||128)>>3});e.additionalData&&i.setAAD(rQ.Buffer.from(e.additionalData));let n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final(),i.getAuthTag()])).buffer}static async decryptAesGCM(e,t,r){let i=(e.tagLength||128)>>3,n=rZ.default.createDecipheriv(`aes-${t.algorithm.length}-gcm`,t.data,new Uint8Array(e.iv),{authTagLength:i}),o=r.slice(0,r.length-i),a=r.slice(r.length-i);e.additionalData&&n.setAAD(rQ.Buffer.from(e.additionalData)),n.setAuthTag(a);let s=n.update(o);return new Uint8Array(s=rQ.Buffer.concat([s,n.final()])).buffer}static async encryptAesKW(e,t,r){let i=rZ.default.createCipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}static async decryptAesKW(e,t,r){let i=rZ.default.createDecipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}static async encryptAesECB(e,t,r){let i=rZ.default.createCipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}static async decryptAesECB(e,t,r){let i=rZ.default.createDecipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}}r5.AES_KW_IV=rQ.Buffer.from("A6A6A6A6A6A6A6A6","hex");let r4=new WeakMap;function r9(e){let t=r4.get(e);if(!t)throw new tL("Cannot get CryptoKey from secure storage");return t}function r7(e){let t=t6.create(e.algorithm,e.type,e.extractable,e.usages);return Object.freeze(t),r4.set(t,e),t}class ie extends tJ{async onGenerateKey(e,t,r){return r7(await r5.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r5.encrypt(e,r9(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r5.decrypt(e,r9(t),new Uint8Array(r))}async onExportKey(e,t){return r5.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await r5.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof r6))throw TypeError("key: Is not a AesCryptoKey")}}let it=rQ.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ir=rQ.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135]);function ii(e){let t=rQ.Buffer.alloc(e.length),r=e.length-1;for(let i=0;i<r;i++)t[i]=e[i]<<1,128&e[i+1]&&(t[i]+=1);return t[r]=e[r]<<1,t}function io(e,t){let r=Math.min(e.length,t.length),i=rQ.Buffer.alloc(r);for(let n=0;n<r;n++)i[n]=e[n]^t[n];return i}function ia(e,t){let r=rZ.default.createCipheriv(`aes${e.length<<3}`,e,it),i=r.update(t);return r.final(),i}function is(e,t){let r=rQ.Buffer.alloc(16),i=16*t;return e.copy(r,0,i,i+16),r}class ic extends tV{async onGenerateKey(e,t,r){return r7(await r5.generateKey({name:this.name,length:e.length},t,r))}async onSign(e,t,r){return new Uint8Array(function(e,t){let r,i,n,o,a,s=(o=ii(n=ia(e,it)),128&n[0]&&(o=io(o,ir)),a=ii(o),128&o[0]&&(a=io(a,ir)),{subkey1:o,subkey2:a}),c=Math.ceil(t.length/16);0===c?(c=1,r=!1):r=t.length%16==0;let l=c-1;if(r)i=io(is(t,l),s.subkey1);else{let e,r,n;i=io((e=rQ.Buffer.alloc(16),r=16*l,n=t.length,e.fill(0),t.copy(e,0,r,n),e[n-r]=128,e),s.subkey2)}let u=it;for(let r=0;r<l;r++)u=ia(e,io(u,is(t,r)));return ia(e,io(i,u))}(r9(t).data,rQ.Buffer.from(r))).buffer}async onVerify(e,t,r,i){let n=await this.sign(e,t,i);return 0===rQ.Buffer.from(r).compare(rQ.Buffer.from(n))}async onExportKey(e,t){return r5.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await r5.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof r6))throw TypeError("key: Is not a AesCryptoKey")}}class il extends tF{async onGenerateKey(e,t,r){return r7(await r5.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r5.encrypt(e,r9(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r5.decrypt(e,r9(t),new Uint8Array(r))}async onExportKey(e,t){return r5.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await r5.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof r6))throw TypeError("key: Is not a AesCryptoKey")}}class iu extends tq{async onGenerateKey(e,t,r){return r7(await r5.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r5.encrypt(e,r9(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r5.decrypt(e,r9(t),new Uint8Array(r))}async onExportKey(e,t){return r5.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await r5.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof r6))throw TypeError("key: Is not a AesCryptoKey")}}class id extends tX{async onGenerateKey(e,t,r){return r7(await r5.generateKey({name:this.name,length:e.length},t,r))}async onExportKey(e,t){return r5.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await r5.importKey(e,t,{name:r.name},i,n))}async onEncrypt(e,t,r){return r5.encrypt(e,r9(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r5.decrypt(e,r9(t),new Uint8Array(r))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof r6))throw TypeError("key: Is not a AesCryptoKey")}}class ip extends tG{async onGenerateKey(e,t,r){return r7(await r5.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r5.encrypt(e,r9(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r5.decrypt(e,r9(t),new Uint8Array(r))}async onExportKey(e,t){return r5.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await r5.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof r6))throw TypeError("key: Is not a AesCryptoKey")}}class ih extends r8{get alg(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return"DES-CBC";case"DES-EDE3-CBC":return"3DES-CBC";default:throw new tK("Unsupported algorithm name")}}set alg(e){}}tm([tN({name:"k",converter:r1})],ih.prototype,"data",void 0);class iy{static async generateKey(e,t,r){let i=new ih;return i.algorithm=e,i.extractable=t,i.usages=r,i.data=rZ.default.randomBytes(e.length>>3),i}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tB.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new tL("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,i,n){let o;switch(e.toLowerCase()){case"jwk":o=tM.fromJSON(t,{targetSchema:ih});break;case"raw":(o=new ih).data=rQ.Buffer.from(t);break;default:throw new tL("format: Must be 'jwk' or 'raw'")}return o.algorithm=r,o.extractable=i,o.usages=n,o}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"DES-CBC":return this.encryptDesCBC(e,t,rQ.Buffer.from(r));case"DES-EDE3-CBC":return this.encryptDesEDE3CBC(e,t,rQ.Buffer.from(r));default:throw new tL("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof ih))throw Error("key: Is not DesCryptoKey");switch(e.name.toUpperCase()){case"DES-CBC":return this.decryptDesCBC(e,t,rQ.Buffer.from(r));case"DES-EDE3-CBC":return this.decryptDesEDE3CBC(e,t,rQ.Buffer.from(r));default:throw new tL("algorithm: Is not recognized")}}static async encryptDesCBC(e,t,r){let i=rZ.default.createCipheriv("des-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}static async decryptDesCBC(e,t,r){let i=rZ.default.createDecipheriv("des-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}static async encryptDesEDE3CBC(e,t,r){let i=rZ.default.createCipheriv("des-ede3-cbc",t.data,rQ.Buffer.from(e.iv)),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}static async decryptDesEDE3CBC(e,t,r){let i=rZ.default.createDecipheriv("des-ede3-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return new Uint8Array(n=rQ.Buffer.concat([n,i.final()])).buffer}}class ig extends tY{constructor(){super(...arguments),this.keySizeBits=64,this.ivSize=8,this.name="DES-CBC"}async onGenerateKey(e,t,r){return r7(await iy.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return iy.encrypt(e,r9(t),new Uint8Array(r))}async onDecrypt(e,t,r){return iy.decrypt(e,r9(t),new Uint8Array(r))}async onExportKey(e,t){return iy.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){let o=await iy.importKey(e,t,{name:this.name,length:this.keySizeBits},i,n);if(o.data.length!==this.keySizeBits>>3)throw new tL("keyData: Wrong key size");return r7(o)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof ih))throw TypeError("key: Is not a DesCryptoKey")}}class im extends tY{constructor(){super(...arguments),this.keySizeBits=192,this.ivSize=8,this.name="DES-EDE3-CBC"}async onGenerateKey(e,t,r){return r7(await iy.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return iy.encrypt(e,r9(t),new Uint8Array(r))}async onDecrypt(e,t,r){return iy.decrypt(e,r9(t),new Uint8Array(r))}async onExportKey(e,t){return iy.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){let o=await iy.importKey(e,t,{name:this.name,length:this.keySizeBits},i,n);if(o.data.length!==this.keySizeBits>>3)throw new tL("keyData: Wrong key size");return r7(o)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof ih))throw TypeError("key: Is not a DesCryptoKey")}}function iv(e){switch(e.name.toUpperCase()){case"RSA-OAEP":{let t=/(\d+)$/.exec(e.hash.name)[1];return`RSA-OAEP${"1"!==t?`-${t}`:""}`}case"RSASSA-PKCS1-V1_5":return`RS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PSS":return`PS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PKCS1":return"RS1";default:throw new tL("algorithm: Is not recognized")}}class ib extends r3{constructor(){super(...arguments),this.type="private"}getKey(){let e=tf.parse(this.data,rD.PrivateKeyInfo);return tf.parse(e.privateKey,rD.RsaPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:iv(this.algorithm),key_ops:this.usages,ext:this.extractable},tB.toJSON(e))}fromJSON(e){let t=tM.fromJSON(e,{targetSchema:rD.RsaPrivateKey}),r=new rD.PrivateKeyInfo;r.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.privateKeyAlgorithm.parameters=null,r.privateKey=ty.serialize(t),this.data=rQ.Buffer.from(ty.serialize(r))}}class iw extends r3{constructor(){super(...arguments),this.type="public"}getKey(){let e=tf.parse(this.data,rD.PublicKeyInfo);return tf.parse(e.publicKey,rD.RsaPublicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:iv(this.algorithm),key_ops:this.usages,ext:this.extractable},tB.toJSON(e))}fromJSON(e){let t=tM.fromJSON(e,{targetSchema:rD.RsaPublicKey}),r=new rD.PublicKeyInfo;r.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.publicKeyAlgorithm.parameters=null,r.publicKey=ty.serialize(t),this.data=rQ.Buffer.from(ty.serialize(r))}}class i_{static async generateKey(e,t,r){let i=new ib;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new iw;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let o=rQ.Buffer.concat([rQ.Buffer.alloc(4-e.publicExponent.byteLength,0),rQ.Buffer.from(e.publicExponent)]).readInt32BE(0),a=rZ.default.generateKeyPairSync("rsa",{modulusLength:e.modulusLength,publicExponent:o,publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=a.privateKey,n.data=a.publicKey,{privateKey:i,publicKey:n}}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tB.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;default:throw new tL("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async importKey(e,t,r,i,n){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tM.fromJSON(t,{targetSchema:rD.RsaPrivateKey});return this.importPrivateKey(e,r,i,n)}{let e=tM.fromJSON(t,{targetSchema:rD.RsaPublicKey});return this.importPublicKey(e,r,i,n)}case"spki":{let e=tf.parse(new Uint8Array(t),rD.PublicKeyInfo),o=tf.parse(e.publicKey,rD.RsaPublicKey);return this.importPublicKey(o,r,i,n)}case"pkcs8":{let e=tf.parse(new Uint8Array(t),rD.PrivateKeyInfo),o=tf.parse(e.privateKey,rD.RsaPrivateKey);return this.importPrivateKey(o,r,i,n)}default:throw new tL("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async sign(e,t,r){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.signRsa(e,t,r);default:throw new tL("algorithm: Is not recognized")}}static async verify(e,t,r,i){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.verifySSA(e,t,i,r);default:throw new tL("algorithm: Is not recognized")}}static async encrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.encryptOAEP(e,t,r);throw new tL("algorithm: Is not recognized")}static async decrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.decryptOAEP(e,t,r);throw new tL("algorithm: Is not recognized")}static importPrivateKey(e,t,r,i){let n=new rD.PrivateKeyInfo;n.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",n.privateKeyAlgorithm.parameters=null,n.privateKey=ty.serialize(e);let o=new ib;return o.data=rQ.Buffer.from(ty.serialize(n)),o.algorithm=Object.assign({},t),o.algorithm.publicExponent=new Uint8Array(e.publicExponent),o.algorithm.modulusLength=e.modulus.byteLength<<3,o.extractable=r,o.usages=i,o}static importPublicKey(e,t,r,i){let n=new rD.PublicKeyInfo;n.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",n.publicKeyAlgorithm.parameters=null,n.publicKey=ty.serialize(e);let o=new iw;return o.data=rQ.Buffer.from(ty.serialize(n)),o.algorithm=Object.assign({},t),o.algorithm.publicExponent=new Uint8Array(e.publicExponent),o.algorithm.modulusLength=e.modulus.byteLength<<3,o.extractable=r,o.usages=i,o}static getCryptoAlgorithm(e){switch(e.hash.name.toUpperCase()){case"SHA-1":return"RSA-SHA1";case"SHA-256":return"RSA-SHA256";case"SHA-384":return"RSA-SHA384";case"SHA-512":return"RSA-SHA512";case"SHA3-256":return"RSA-SHA3-256";case"SHA3-384":return"RSA-SHA3-384";case"SHA3-512":return"RSA-SHA3-512";default:throw new tL("algorithm.hash: Is not recognized")}}static signRsa(e,t,r){let i=this.getCryptoAlgorithm(t.algorithm),n=rZ.default.createSign(i);n.update(rQ.Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let o={key:t.pem};return"RSA-PSS"===e.name.toUpperCase()&&(o.padding=rZ.default.constants.RSA_PKCS1_PSS_PADDING,o.saltLength=e.saltLength),new Uint8Array(n.sign(o)).buffer}static verifySSA(e,t,r,i){let n=this.getCryptoAlgorithm(t.algorithm),o=rZ.default.createVerify(n);o.update(rQ.Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let a={key:t.pem};return"RSA-PSS"===e.name.toUpperCase()&&(a.padding=rZ.default.constants.RSA_PKCS1_PSS_PADDING,a.saltLength=e.saltLength),o.verify(a,i)}static encryptOAEP(e,t,r){let i={key:`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`,padding:rZ.default.constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(rZ.default.publicEncrypt(i,r)).buffer}static decryptOAEP(e,t,r){let i={key:`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`,padding:rZ.default.constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(rZ.default.privateDecrypt(i,r)).buffer}}i_.publicKeyUsages=["verify","encrypt","wrapKey"],i_.privateKeyUsages=["sign","decrypt","unwrapKey"];class iS extends tZ{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await i_.generateKey({...e,name:this.name},t,r);return{privateKey:r7(i.privateKey),publicKey:r7(i.publicKey)}}async onSign(e,t,r){return i_.sign(e,r9(t),new Uint8Array(r))}async onVerify(e,t,r,i){return i_.verify(e,r9(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return i_.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await i_.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r9(e);if(!(r instanceof ib||r instanceof iw))throw TypeError("key: Is not RSA CryptoKey")}}class iE extends t0{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await i_.generateKey({...e,name:this.name},t,r);return{privateKey:r7(i.privateKey),publicKey:r7(i.publicKey)}}async onSign(e,t,r){return i_.sign(e,r9(t),new Uint8Array(r))}async onVerify(e,t,r,i){return i_.verify(e,r9(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return i_.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await i_.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r9(e);if(!(r instanceof ib||r instanceof iw))throw TypeError("key: Is not RSA CryptoKey")}}class iO{static size(e){switch(e.name.toUpperCase()){case"SHA-1":return 160;case"SHA-256":case"SHA3-256":return 256;case"SHA-384":case"SHA3-384":return 384;case"SHA-512":case"SHA3-512":return 512;default:throw Error("Unrecognized name")}}static getAlgorithmName(e){switch(e.name.toUpperCase()){case"SHA-1":return"sha1";case"SHA-256":return"sha256";case"SHA-384":return"sha384";case"SHA-512":return"sha512";case"SHA3-256":return"sha3-256";case"SHA3-384":return"sha3-384";case"SHA3-512":return"sha3-512";default:throw Error("Unrecognized name")}}static digest(e,t){let r=this.getAlgorithmName(e);return new Uint8Array(rZ.default.createHash(r).update(rQ.Buffer.from(t)).digest()).buffer}}class iA extends t1{async onGenerateKey(e,t,r){let i=await i_.generateKey({...e,name:this.name},t,r);return{privateKey:r7(i.privateKey),publicKey:r7(i.publicKey)}}async onEncrypt(e,r,i){let n=r9(r),o=new Uint8Array(i),a=Math.ceil(n.algorithm.modulusLength>>3),s=iO.size(n.algorithm.hash)>>3,c=o.byteLength,l=a-c-2*s-2;if(c>a-2*s-2)throw Error("Data too large");let u=new Uint8Array(a),d=u.subarray(1,s+1),p=u.subarray(s+1);p.set(o,s+l+1);let h=rZ.default.createHash(n.algorithm.hash.name.replace("-","")).update(t.toUint8Array(e.label||new Uint8Array(0))).digest();p.set(h,0),p[s+l]=1,rZ.default.randomFillSync(d);let f=this.mgf1(n.algorithm.hash,d,p.length);for(let e=0;e<p.length;e++)p[e]^=f[e];let y=this.mgf1(n.algorithm.hash,p,d.length);for(let e=0;e<d.length;e++)d[e]^=y[e];return n.pem||(n.pem=`-----BEGIN PUBLIC KEY-----
${n.data.toString("base64")}
-----END PUBLIC KEY-----`),new Uint8Array(rZ.default.publicEncrypt({key:n.pem,padding:rZ.default.constants.RSA_NO_PADDING},rQ.Buffer.from(u))).buffer}async onDecrypt(e,r,i){let n=r9(r),o=Math.ceil(n.algorithm.modulusLength>>3),a=iO.size(n.algorithm.hash)>>3;if(i.byteLength!==o)throw Error("Bad data");n.pem||(n.pem=`-----BEGIN PRIVATE KEY-----
${n.data.toString("base64")}
-----END PRIVATE KEY-----`);let s=rZ.default.privateDecrypt({key:n.pem,padding:rZ.default.constants.RSA_NO_PADDING},rQ.Buffer.from(i)),c=s[0],l=s.subarray(1,a+1),u=s.subarray(a+1);if(0!==c)throw Error("Decryption failed");let d=this.mgf1(n.algorithm.hash,u,l.length);for(let e=0;e<l.length;e++)l[e]^=d[e];let p=this.mgf1(n.algorithm.hash,l,u.length);for(let e=0;e<u.length;e++)u[e]^=p[e];let h=rZ.default.createHash(n.algorithm.hash.name.replace("-","")).update(t.toUint8Array(e.label||new Uint8Array(0))).digest();for(let e=0;e<a;e++)if(h[e]!==u[e])throw Error("Decryption failed");let f=a;for(;f<u.length;f++){let e=u[f];if(1===e)break;if(0!==e)throw Error("Decryption failed")}if(f===u.length)throw Error("Decryption failed");return new Uint8Array(s=u.subarray(f+1)).buffer}async onExportKey(e,t){return i_.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await i_.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r9(e);if(!(r instanceof ib||r instanceof iw))throw TypeError("key: Is not RSA CryptoKey")}mgf1(e,t,r=0){let i=iO.size(e)>>3,n=new Uint8Array(r),o=new Uint8Array(4),a=Math.ceil(r/i);for(let r=0;r<a;r++){o[0]=r>>>24,o[1]=r>>>16&255,o[2]=r>>>8&255,o[3]=255&r;let a=n.subarray(r*i),s=rZ.default.createHash(e.name.replace("-","")).update(t).update(o).digest();s.length>a.length&&(s=s.subarray(0,a.length)),a.set(s)}return n}}class iP extends tW{constructor(){super(...arguments),this.name="RSAES-PKCS1-v1_5",this.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]}}async onGenerateKey(e,t,r){let i=await i_.generateKey({...e,name:this.name},t,r);return{privateKey:r7(i.privateKey),publicKey:r7(i.publicKey)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=c.ToBase64(e.publicExponent);if("Aw=="!==t&&"AQAB"!==t)throw TypeError("publicExponent: Must be [3] or [1,0,1]");switch(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength){case 1024:case 2048:case 4096:break;default:throw TypeError("modulusLength: Must be 1024, 2048, or 4096")}}async onEncrypt(e,t,r){let i=this.toCryptoOptions(t),n=rZ.default.publicEncrypt(i,new Uint8Array(r));return new Uint8Array(n).buffer}async onDecrypt(e,t,r){let i=this.toCryptoOptions(t),n=rZ.default.privateDecrypt(i,new Uint8Array(r));return new Uint8Array(n).buffer}async onExportKey(e,t){return i_.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await i_.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r9(e);if(!(r instanceof ib||r instanceof iw))throw TypeError("key: Is not RSA CryptoKey")}toCryptoOptions(e){let t=e.type.toUpperCase();return{key:`-----BEGIN ${t} KEY-----
${r9(e).data.toString("base64")}
-----END ${t} KEY-----`,padding:rZ.default.constants.RSA_PKCS1_PADDING}}}let ik={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10",brainpoolP160r1:"1.3.36.3.3.2.8.1.1.1","1.3.36.3.3.2.8.1.1.1":"brainpoolP160r1",brainpoolP160t1:"1.3.36.3.3.2.8.1.1.2","1.3.36.3.3.2.8.1.1.2":"brainpoolP160t1",brainpoolP192r1:"1.3.36.3.3.2.8.1.1.3","1.3.36.3.3.2.8.1.1.3":"brainpoolP192r1",brainpoolP192t1:"1.3.36.3.3.2.8.1.1.4","1.3.36.3.3.2.8.1.1.4":"brainpoolP192t1",brainpoolP224r1:"1.3.36.3.3.2.8.1.1.5","1.3.36.3.3.2.8.1.1.5":"brainpoolP224r1",brainpoolP224t1:"1.3.36.3.3.2.8.1.1.6","1.3.36.3.3.2.8.1.1.6":"brainpoolP224t1",brainpoolP256r1:"1.3.36.3.3.2.8.1.1.7","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1",brainpoolP256t1:"1.3.36.3.3.2.8.1.1.8","1.3.36.3.3.2.8.1.1.8":"brainpoolP256t1",brainpoolP320r1:"1.3.36.3.3.2.8.1.1.9","1.3.36.3.3.2.8.1.1.9":"brainpoolP320r1",brainpoolP320t1:"1.3.36.3.3.2.8.1.1.10","1.3.36.3.3.2.8.1.1.10":"brainpoolP320t1",brainpoolP384r1:"1.3.36.3.3.2.8.1.1.11","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1",brainpoolP384t1:"1.3.36.3.3.2.8.1.1.12","1.3.36.3.3.2.8.1.1.12":"brainpoolP384t1",brainpoolP512r1:"1.3.36.3.3.2.8.1.1.13","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1",brainpoolP512t1:"1.3.36.3.3.2.8.1.1.14","1.3.36.3.3.2.8.1.1.14":"brainpoolP512t1"};function ix(e){let t=ik[e];if(!t)throw new tL(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class iR extends r3{constructor(){super(...arguments),this.type="private"}getKey(){let e=tf.parse(this.data,rD.PrivateKeyInfo);return tf.parse(e.privateKey,rD.EcPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tB.toJSON(e))}fromJSON(e){if(!e.crv)throw new tL("Cannot get named curve from JWK. Property 'crv' is required");let t=new rD.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",t.privateKeyAlgorithm.parameters=ty.serialize(new rD.ObjectIdentifier(ix(e.crv)));let r=tM.fromJSON(e,{targetSchema:rD.EcPrivateKey});return t.privateKey=ty.serialize(r),this.data=rQ.Buffer.from(ty.serialize(t)),this}}class iC extends r3{constructor(){super(...arguments),this.type="public"}getKey(){let e=tf.parse(this.data,rD.PublicKeyInfo);return new rD.EcPublicKey(e.publicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tB.toJSON(e))}fromJSON(e){if(!e.crv)throw new tL("Cannot get named curve from JWK. Property 'crv' is required");let t=tM.fromJSON(e,{targetSchema:rD.EcPublicKey}),r=new rD.PublicKeyInfo;return r.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1",r.publicKeyAlgorithm.parameters=ty.serialize(new rD.ObjectIdentifier(ix(e.crv))),r.publicKey=ty.toASN(t).valueHex,this.data=rQ.Buffer.from(ty.serialize(r)),this}}class ij extends tW{constructor(){super(...arguments),this.name="SHA-1",this.usages=[]}async onDigest(e,t){return iO.digest(e,t)}}class iI extends tW{constructor(){super(...arguments),this.name="SHA-256",this.usages=[]}async onDigest(e,t){return iO.digest(e,t)}}class iT extends tW{constructor(){super(...arguments),this.name="SHA-384",this.usages=[]}async onDigest(e,t){return iO.digest(e,t)}}class iB extends tW{constructor(){super(...arguments),this.name="SHA-512",this.usages=[]}async onDigest(e,t){return iO.digest(e,t)}}class iM extends tW{constructor(){super(...arguments),this.name="SHA3-256",this.usages=[]}async onDigest(e,t){return iO.digest(e,t)}}class iN extends tW{constructor(){super(...arguments),this.name="SHA3-384",this.usages=[]}async onDigest(e,t){return iO.digest(e,t)}}class iD extends tW{constructor(){super(...arguments),this.name="SHA3-512",this.usages=[]}async onDigest(e,t){return iO.digest(e,t)}}class iK{static async generateKey(e,t,r){let i=new iR;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new iC;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let o=rZ.default.generateKeyPairSync("ec",{namedCurve:this.getOpenSSLNamedCurve(e.namedCurve),publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=o.privateKey,n.data=o.publicKey,{privateKey:i,publicKey:n}}static async sign(e,t,r){let i=iO.getAlgorithmName(e.hash),n=rZ.default.createSign(i);n.update(rQ.Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let o={key:t.pem},a=n.sign(o),s=tf.parse(a,rD.EcDsaSignature);return rd.encodeSignature(s,rK.get(t.algorithm.namedCurve).size).buffer}static async verify(e,r,i,n){let o=iO.getAlgorithmName(e.hash),a=rZ.default.createVerify(o);a.update(rQ.Buffer.from(n)),r.pem||(r.pem=`-----BEGIN PUBLIC KEY-----
${r.data.toString("base64")}
-----END PUBLIC KEY-----`);let s={key:r.pem},c=new rD.EcDsaSignature,l=rK.get(r.algorithm.namedCurve),u=rd.decodeSignature(i,l.size);c.r=t.toArrayBuffer(u.r),c.s=t.toArrayBuffer(u.s);let d=rQ.Buffer.from(ty.serialize(c));return a.verify(s,d)}static async deriveBits(e,t,r){let i=this.getOpenSSLNamedCurve(t.algorithm.namedCurve),n=rZ.default.createECDH(i),o=tf.parse(t.data,rD.PrivateKeyInfo),a=tf.parse(o.privateKey,rD.EcPrivateKey);n.setPrivateKey(rQ.Buffer.from(a.privateKey));let s=tf.parse(e.public.data,rD.PublicKeyInfo),c=n.computeSecret(rQ.Buffer.from(s.publicKey));return null===r?c:new Uint8Array(c).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tB.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return tf.parse(t.data,rD.PublicKeyInfo).publicKey;default:throw new tL("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,i,n){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tM.fromJSON(t,{targetSchema:rD.EcPrivateKey});return this.importPrivateKey(e,r,i,n)}{let e=tM.fromJSON(t,{targetSchema:rD.EcPublicKey});return this.importPublicKey(e,r,i,n)}case"raw":{let e=new rD.EcPublicKey(t);return this.importPublicKey(e,r,i,n)}case"spki":{let e=tf.parse(new Uint8Array(t),rD.PublicKeyInfo),o=new rD.EcPublicKey(e.publicKey);return this.assertKeyParameters(e.publicKeyAlgorithm.parameters,r.namedCurve),this.importPublicKey(o,r,i,n)}case"pkcs8":{let e=tf.parse(new Uint8Array(t),rD.PrivateKeyInfo),o=tf.parse(e.privateKey,rD.EcPrivateKey);return this.assertKeyParameters(e.privateKeyAlgorithm.parameters,r.namedCurve),this.importPrivateKey(o,r,i,n)}default:throw new tL("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static assertKeyParameters(e,t){if(!e)throw new tD("Key info doesn't have required parameters");let r="";try{r=tf.parse(e,rD.ObjectIdentifier).value}catch(e){throw new tD("Cannot read key info parameters")}if(ix(t)!==r)throw new tD("Key info parameter doesn't match to named curve")}static async importPrivateKey(e,t,r,i){let n=new rD.PrivateKeyInfo;n.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",n.privateKeyAlgorithm.parameters=ty.serialize(new rD.ObjectIdentifier(ix(t.namedCurve))),n.privateKey=ty.serialize(e);let o=new iR;return o.data=rQ.Buffer.from(ty.serialize(n)),o.algorithm=Object.assign({},t),o.extractable=r,o.usages=i,o}static async importPublicKey(e,t,r,i){let n=new rD.PublicKeyInfo;n.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1";let o=ix(t.namedCurve);n.publicKeyAlgorithm.parameters=ty.serialize(new rD.ObjectIdentifier(o)),n.publicKey=e.value;let a=new iC;return a.data=rQ.Buffer.from(ty.serialize(n)),a.algorithm=Object.assign({},t),a.extractable=r,a.usages=i,a}static getOpenSSLNamedCurve(e){switch(e.toUpperCase()){case"P-256":return"prime256v1";case"K-256":return"secp256k1";case"P-384":return"secp384r1";case"P-521":return"secp521r1";default:return e}}}iK.publicKeyUsages=["verify"],iK.privateKeyUsages=["sign","deriveKey","deriveBits"];class iU extends t8{constructor(){super(...arguments),this.namedCurves=rK.names,this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await iK.generateKey({...e,name:this.name},t,r);return{privateKey:r7(i.privateKey),publicKey:r7(i.publicKey)}}async onSign(e,t,r){return iK.sign(e,r9(t),new Uint8Array(r))}async onVerify(e,t,r,i){return iK.verify(e,r9(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return iK.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await iK.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r9(e);if(!(r instanceof iR||r instanceof iC))throw TypeError("key: Is not EC CryptoKey")}}class iL extends t5{constructor(){super(...arguments),this.namedCurves=rK.names}async onGenerateKey(e,t,r){let i=await iK.generateKey({...e,name:this.name},t,r);return{privateKey:r7(i.privateKey),publicKey:r7(i.publicKey)}}async onExportKey(e,t){return iK.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await iK.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r9(e);if(!(r instanceof iR||r instanceof iC))throw TypeError("key: Is not EC CryptoKey")}async onDeriveBits(e,t,r){return await iK.deriveBits({...e,public:r9(e.public)},r9(t),r)}}let iz={[rD.idEd448]:"Ed448",ed448:rD.idEd448,[rD.idX448]:"X448",x448:rD.idX448,[rD.idEd25519]:"Ed25519",ed25519:rD.idEd25519,[rD.idX25519]:"X25519",x25519:rD.idX25519};function iH(e){let t=iz[e.toLowerCase()];if(!t)throw new tL(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class iW extends r3{constructor(){super(...arguments),this.type="private"}getKey(){let e=tf.parse(this.data,rD.PrivateKeyInfo);return tf.parse(e.privateKey,rD.CurvePrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tB.toJSON(e))}fromJSON(e){if(!e.crv)throw new tL("Cannot get named curve from JWK. Property 'crv' is required");let t=new rD.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm=iH(e.crv);let r=tM.fromJSON(e,{targetSchema:rD.CurvePrivateKey});return t.privateKey=ty.serialize(r),this.data=rQ.Buffer.from(ty.serialize(t)),this}}class i$ extends r3{constructor(){super(...arguments),this.type="public"}getKey(){return tf.parse(this.data,rD.PublicKeyInfo).publicKey}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},{x:c.ToBase64Url(e)})}fromJSON(e){if(!e.crv)throw new tL("Cannot get named curve from JWK. Property 'crv' is required");if(!e.x)throw new tL("Cannot get property from JWK. Property 'x' is required");let t=new rD.PublicKeyInfo;return t.publicKeyAlgorithm.algorithm=iH(e.crv),t.publicKey=c.FromBase64Url(e.x),this.data=rQ.Buffer.from(ty.serialize(t)),this}}class iJ{static async generateKey(e,t,r){let i=new iW;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new i$;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let o=e.namedCurve.toLowerCase(),a=rZ.default.generateKeyPairSync(o,{publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=a.privateKey,n.data=a.publicKey,{privateKey:i,publicKey:n}}static async sign(e,r,i){r.pem||(r.pem=`-----BEGIN PRIVATE KEY-----
${r.data.toString("base64")}
-----END PRIVATE KEY-----`);let n={key:r.pem},o=rZ.default.sign(null,rQ.Buffer.from(i),n);return t.toArrayBuffer(o)}static async verify(e,t,r,i){t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let n={key:t.pem};return rZ.default.verify(null,rQ.Buffer.from(i),n,rQ.Buffer.from(r))}static async deriveBits(e,t,r){let i=rZ.default.createPublicKey({key:e.public.data,format:"der",type:"spki"}),n=rZ.default.createPrivateKey({key:t.data,format:"der",type:"pkcs8"});return new Uint8Array(rZ.default.diffieHellman({publicKey:i,privateKey:n})).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tB.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return tf.parse(t.data,rD.PublicKeyInfo).publicKey;default:throw new tL("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,i,n){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tM.fromJSON(t,{targetSchema:rD.CurvePrivateKey});return this.importPrivateKey(e,r,i,n)}if(!t.x)throw TypeError("keyData: Cannot get required 'x' filed");return this.importPublicKey(c.FromBase64Url(t.x),r,i,n);case"raw":return this.importPublicKey(t,r,i,n);case"spki":{let e=tf.parse(new Uint8Array(t),rD.PublicKeyInfo);return this.importPublicKey(e.publicKey,r,i,n)}case"pkcs8":{let e=tf.parse(new Uint8Array(t),rD.PrivateKeyInfo),o=tf.parse(e.privateKey,rD.CurvePrivateKey);return this.importPrivateKey(o,r,i,n)}default:throw new tL("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static importPrivateKey(e,t,r,i){let n=new iW;return n.fromJSON({crv:t.namedCurve,d:c.ToBase64Url(e.d)}),n.algorithm=Object.assign({},t),n.extractable=r,n.usages=i,n}static async importPublicKey(e,t,r,i){let n=new i$;return n.fromJSON({crv:t.namedCurve,x:c.ToBase64Url(e)}),n.algorithm=Object.assign({},t),n.extractable=r,n.usages=i,n}}iJ.publicKeyUsages=["verify"],iJ.privateKeyUsages=["sign","deriveKey","deriveBits"];class iV extends t9{async onGenerateKey(e,t,r){let i=await iJ.generateKey({name:this.name,namedCurve:e.namedCurve.replace(/^ed/i,"Ed")},t,r);return{privateKey:r7(i.privateKey),publicKey:r7(i.publicKey)}}async onSign(e,t,r){return iJ.sign(e,r9(t),new Uint8Array(r))}async onVerify(e,t,r,i){return iJ.verify(e,r9(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return iJ.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await iJ.importKey(e,t,{...r,name:this.name},i,n))}}class iF extends t4{async onGenerateKey(e,t,r){let i=await iJ.generateKey({name:this.name,namedCurve:e.namedCurve.toUpperCase()},t,r);return{privateKey:r7(i.privateKey),publicKey:r7(i.publicKey)}}async onDeriveBits(e,t,r){return await iJ.deriveBits({...e,public:r9(e.public)},r9(t),r)}async onExportKey(e,t){return iJ.exportKey(e,r9(t))}async onImportKey(e,t,r,i,n){return r7(await iJ.importKey(e,t,{...r,name:this.name},i,n))}}class iG extends r2{constructor(e,t,r,i){super(),this.algorithm=e,this.extractable=t,this.usages=r,this.data=Buffer.from(i)}toJWK(){return{kty:"OKP",crv:this.algorithm.name,key_ops:this.usages,ext:this.extractable}}}class iq extends iG{constructor(){super(...arguments),this.type="private"}toJWK(){let e=rZ.default.createPublicKey({key:this.data,format:"pem"}).export({format:"jwk"}),t=tH.toUint8Array(this.data.toString()),r=tg.parse(t,rD.PrivateKeyInfo),i=tg.parse(r.privateKey,rD.EdPrivateKey).value;return{...super.toJWK(),...e,d:Buffer.from(new Uint8Array(i)).toString("base64url")}}}class iX extends iG{constructor(){super(...arguments),this.type="public"}toJWK(){let e=rZ.default.createPublicKey({key:this.data,format:"pem"}).export({format:"jwk"});return{...super.toJWK(),...e}}}class iY{static async generateKey(e,t,r){let i=e.name.toLowerCase(),n=rZ.default.generateKeyPairSync(i,{publicKeyEncoding:{format:"pem",type:"spki"},privateKeyEncoding:{format:"pem",type:"pkcs8"}}),o={name:"ed25519"===i?"Ed25519":"X25519"},a=r.filter(e=>this.privateKeyUsages.includes(e)),s=r.filter(e=>this.publicKeyUsages.includes(e));return{privateKey:new iq(o,t,a,n.privateKey),publicKey:new iX(o,!0,s,n.publicKey)}}static async sign(e,r,i){let n=rZ.default.sign(null,Buffer.from(i),r.data);return t.toArrayBuffer(n)}static async verify(e,t,r,i){return rZ.default.verify(null,Buffer.from(i),t.data,r)}static async exportKey(e,t){switch(e){case"jwk":return t.toJWK();case"pkcs8":case"spki":return tH.toArrayBuffer(t.data.toString());case"raw":{let e=t.toJWK();return c.FromBase64Url(e.x)}default:return Promise.reject(new tL("format: Must be 'jwk', 'raw', pkcs8' or 'spki'"))}}static async importKey(e,r,i,n,o){switch(e){case"jwk":if(r.d){let e=new rD.EdPrivateKey;e.value=t.toArrayBuffer(Buffer.from(r.d,"base64url"));let a=new rD.PrivateKeyInfo;a.privateKeyAlgorithm.algorithm="ed25519"===i.name.toLowerCase()?rD.idEd25519:rD.idX25519,a.privateKey=tg.serialize(e);let s=tg.serialize(a);return new iq(i,n,o,tH.fromBufferSource(s,"PRIVATE KEY"))}if(r.x)return new iX(i,n,o,rZ.default.createPublicKey({format:"jwk",key:r}).export({format:"pem",type:"spki"}));throw new tL("keyData: Cannot import JWK. 'd' or 'x' must be presented");case"pkcs8":return new iq(i,n,o,tH.fromBufferSource(r,"PRIVATE KEY"));case"spki":return new iX(i,n,o,tH.fromBufferSource(r,"PUBLIC KEY"));case"raw":{let e=rZ.default.createPublicKey({format:"jwk",key:{kty:"OKP",crv:"ed25519"===i.name.toLowerCase()?"Ed25519":"X25519",x:c.ToBase64Url(r)}}).export({format:"pem",type:"spki"});return new iX(i,n,o,e)}default:return Promise.reject(new tL("format: Must be 'jwk', 'raw', pkcs8' or 'spki'"))}}}iY.privateKeyUsages=["sign","deriveBits","deriveKey"],iY.publicKeyUsages=["verify"];class iQ extends rL{async onGenerateKey(e,t,r){let i=await iY.generateKey(e,t,r);return{privateKey:r7(i.privateKey),publicKey:r7(i.publicKey)}}async onSign(e,t,r){let i=r9(t);return iY.sign(e,i,new Uint8Array(r))}onVerify(e,t,r,i){let n=r9(t);return iY.verify(e,n,new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){let r=r9(t);return iY.exportKey(e,r)}async onImportKey(e,t,r,i,n){return r7(await iY.importKey(e,t,r,i,n))}}class iZ extends rU{async onGenerateKey(e,t,r){let i=await iY.generateKey(e,t,r);return{privateKey:r7(i.privateKey),publicKey:r7(i.publicKey)}}async onDeriveBits(e,t,r){let i=r9(t),n=r9(e.public),o=rZ.default.createPublicKey({key:n.data.toString(),format:"pem",type:"spki"}),a=rZ.default.createPrivateKey({key:i.data.toString(),format:"pem",type:"pkcs8"});return new Uint8Array(rZ.default.diffieHellman({publicKey:o,privateKey:a})).buffer.slice(0,r>>3)}async onExportKey(e,t){let r=r9(t);return iY.exportKey(e,r)}async onImportKey(e,t,r,i,n){return r7(await iY.importKey(e,t,r,i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof iG))throw TypeError("key: Is not a Ed25519CryptoKey")}}class i0 extends r2{}class i1 extends rH{async onDeriveBits(e,r,i){return new Promise((n,o)=>{let a=t.toArrayBuffer(e.salt),s=e.hash.name.replace("-","");rZ.default.pbkdf2(r9(r).data,rQ.Buffer.from(a),e.iterations,i>>3,s,(e,t)=>{e?o(e):n(new Uint8Array(t).buffer)})})}async onImportKey(e,t,r,i,n){if("raw"===e){let e=new i0;return e.data=rQ.Buffer.from(t),e.algorithm={name:this.name},e.extractable=!1,e.usages=n,r7(e)}throw new tL("format: Must be 'raw'")}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof i0))throw TypeError("key: Is not PBKDF CryptoKey")}}class i2 extends r2{get alg(){let e=this.algorithm.hash.name.toUpperCase();return`HS${e.replace("SHA-","")}`}set alg(e){}}tm([tN({name:"k",converter:r1})],i2.prototype,"data",void 0);class i8 extends rz{async onGenerateKey(e,t,r){let i=(e.length||this.getDefaultLength(e.hash.name))>>3<<3,n=new i2;return n.algorithm={...e,length:i,name:this.name},n.extractable=t,n.usages=r,n.data=rZ.default.randomBytes(i>>3),r7(n)}async onSign(e,t,r){let i=iO.getAlgorithmName(t.algorithm.hash);return new Uint8Array(rZ.default.createHmac(i,r9(t).data).update(rQ.Buffer.from(r)).digest()).buffer}async onVerify(e,t,r,i){let n=iO.getAlgorithmName(t.algorithm.hash);return 0===rZ.default.createHmac(n,r9(t).data).update(rQ.Buffer.from(i)).digest().compare(rQ.Buffer.from(r))}async onImportKey(e,t,r,i,n){let o;switch(e.toLowerCase()){case"jwk":o=tM.fromJSON(t,{targetSchema:i2});break;case"raw":(o=new i2).data=rQ.Buffer.from(t);break;default:throw new tL("format: Must be 'jwk' or 'raw'")}return o.algorithm={hash:{name:r.hash.name},name:this.name,length:o.data.length<<3},o.extractable=i,o.usages=n,r7(o)}async onExportKey(e,t){switch(e.toLowerCase()){case"jwk":return tB.toJSON(r9(t));case"raw":return new Uint8Array(r9(t).data).buffer;default:throw new tL("format: Must be 'jwk' or 'raw'")}}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof i2))throw TypeError("key: Is not HMAC CryptoKey")}}class i3 extends r2{}class i6 extends rW{async onImportKey(e,t,r,i,n){if("raw"!==e.toLowerCase())throw new tL("Operation not supported");let o=new i3;return o.data=rQ.Buffer.from(t),o.algorithm={name:this.name},o.extractable=i,o.usages=n,r7(o)}async onDeriveBits(e,r,i){let n=e.hash.name.replace("-",""),o=rZ.default.createHash(n).digest().length,a=i/8,s=t.toUint8Array(e.info),c=rZ.default.createHmac(n,t.toUint8Array(e.salt)).update(t.toUint8Array(r9(r).data)).digest(),l=[rQ.Buffer.alloc(0)],u=Math.ceil(a/o)+1;for(let e=1;e<u;++e)l.push(rZ.default.createHmac(n,c).update(rQ.Buffer.concat([l[e-1],s,rQ.Buffer.from([e])])).digest());return rQ.Buffer.concat(l).slice(0,a)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r9(e)instanceof i3))throw TypeError("key: Is not HKDF CryptoKey")}}class i5{static digest(e,t){return new Uint8Array(rZ.default.createHash(e.name.toLowerCase(),{outputLength:e.length}).update(rQ.Buffer.from(t)).digest()).buffer}}class i4 extends rJ{async onDigest(e,t){return i5.digest(e,t)}}class i9 extends rV{async onDigest(e,t){return i5.digest(e,t)}}class i7 extends rY{constructor(){var e;super(),this.providers.set(new ie),this.providers.set(new il),this.providers.set(new iu),this.providers.set(new ic),this.providers.set(new id),this.providers.set(new ip),rZ.default.getCiphers().includes("des-cbc")&&this.providers.set(new ig),this.providers.set(new im),this.providers.set(new iS),this.providers.set(new iE),this.providers.set(new iA),this.providers.set(new iP),this.providers.set(new iU),this.providers.set(new iL),this.providers.set(new ij),this.providers.set(new iI),this.providers.set(new iT),this.providers.set(new iB),this.providers.set(new i1),this.providers.set(new i8),this.providers.set(new i6);const t=null==(e=/^v(\d+)/.exec(r0.version))?void 0:e[1];t&&parseInt(t,10)>=12&&(this.providers.set(new i4),this.providers.set(new i9));const r=rZ.default.getHashes();r.includes("sha3-256")&&this.providers.set(new iM),r.includes("sha3-384")&&this.providers.set(new iN),r.includes("sha3-512")&&this.providers.set(new iD),t&&parseInt(t,10)>=14&&(this.providers.set(new iV),this.providers.set(new iF),this.providers.set(new iQ),this.providers.set(new iZ))}}class ne extends rF{constructor(){super(...arguments),this.subtle=new i7}getRandomValues(e){if(!ArrayBuffer.isView(e))throw TypeError("Failed to execute 'getRandomValues' on 'Crypto': parameter 1 is not of type 'ArrayBufferView'");let t=rQ.Buffer.from(e.buffer,e.byteOffset,e.byteLength);return rZ.default.randomFillSync(t),e}}e.s(["Crypto",()=>ne],89459),e.i(89459),e.s(["Crypto",()=>ne,"CryptoKey",()=>t6],75977)},62219,(e,t,r)=>{"use strict";r.byteLength=function(e){var t=l(e),r=t[0],i=t[1];return(r+i)*3/4-i},r.toByteArray=function(e){var t,r,i=l(e),a=i[0],s=i[1],c=new o((a+s)*3/4-s),u=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,o=[],a=0,s=r-n;a<s;a+=16383)o.push(function(e,t,r){for(var n,o=[],a=t;a<r;a+=3)n=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(i[n>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===n?o.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2===n&&o.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),o.join("")};for(var i=[],n=[],o="u">typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],n[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}n[45]=62,n[95]=63},83248,(e,t,r)=>{r.read=function(e,t,r,i,n){var o,a,s=8*n-i-1,c=(1<<s)-1,l=c>>1,u=-7,d=r?n-1:0,p=r?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=l}return(h?-1:1)*a*Math.pow(2,o-i)},r.write=function(e,t,r,i,n,o){var a,s,c,l=8*o-n-1,u=(1<<l)-1,d=u>>1,p=5960464477539062e-23*(23===n),h=i?0:o-1,f=i?1:-1,y=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+d>=1?t+=p/c:t+=p*Math.pow(2,1-d),t*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,n),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,n),a=0));n>=8;e[r+h]=255&s,h+=f,s/=256,n-=8);for(a=a<<n|s,l+=n;l>0;e[r+h]=255&a,h+=f,a/=256,l-=8);e[r+h-f]|=128*y}},9046,(e,t,r)=>{"use strict";let i=e.r(62219),n=e.r(83248),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e){var i=e,n=t;if(("string"!=typeof n||""===n)&&(n="utf8"),!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);let r=0|f(i,n),o=a(r),c=o.write(i,n);return c!==r&&(o=o.slice(0,c)),o}if(ArrayBuffer.isView(e)){var o=e;if(D(o,Uint8Array)){let e=new Uint8Array(o);return p(e.buffer,e.byteOffset,e.byteLength)}return d(o)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(D(e,ArrayBuffer)||e&&D(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(D(e,SharedArrayBuffer)||e&&D(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return s.from(c,t,r);let l=function(e){if(s.isBuffer(e)){let t=0|h(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(l)return l;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return l(e),a(e<0?0:0|h(e))}function d(e){let t=e.length<0?0:0|h(e.length),r=a(t);for(let i=0;i<t;i+=1)r[i]=255&e[i];return r}function p(e,t,r){let i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),i}function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(e).length;default:if(n)return i?-1:B(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let n="";for(let i=t;i<r;++i)n+=K[e[i]];return n}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}(this,t,r);case"latin1":case"binary":return function(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}(this,t,r);case"base64":var o,a,s;return o=this,a=t,s=r,0===a&&s===o.length?i.fromByteArray(o):i.fromByteArray(o.slice(a,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let i=e.slice(t,r),n="";for(let e=0;e<i.length-1;e+=2)n+=String.fromCharCode(i[e]+256*i[e+1]);return n}(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}function m(e,t,r,i,n){var o;if(0===e.length)return -1;if("string"==typeof r?(i=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(n)return -1;else r=e.length-1;else if(r<0)if(!n)return -1;else r=0;if("string"==typeof t&&(t=s.from(t,i)),s.isBuffer(t))return 0===t.length?-1:v(e,t,r,i,n);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(n)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return v(e,[t],r,i,n)}throw TypeError("val must be string, number or Buffer")}function v(e,t,r,i,n){let o,a=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;a=2,s/=2,c/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){let i=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===i?0:o-i)){if(-1===i&&(i=o),o-i+1===c)return i*a}else -1!==i&&(o-=o-i),i=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){let r=!0;for(let i=0;i<c;i++)if(l(e,o+i)!==l(t,i)){r=!1;break}if(r)return o}return -1}function b(e,t,r){r=Math.min(e.length,r);let i=[],n=t;for(;n<r;){let t=e[n],o=null,a=t>239?4:t>223?3:t>191?2:1;if(n+a<=r){let r,i,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(r=e[n+1]))==128&&(c=(31&t)<<6|63&r)>127&&(o=c);break;case 3:r=e[n+1],i=e[n+2],(192&r)==128&&(192&i)==128&&(c=(15&t)<<12|(63&r)<<6|63&i)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:r=e[n+1],i=e[n+2],s=e[n+3],(192&r)==128&&(192&i)==128&&(192&s)==128&&(c=(15&t)<<18|(63&r)<<12|(63&i)<<6|63&s)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),n+=a}var o=i;let a=o.length;if(a<=4096)return String.fromCharCode.apply(String,o);let s="",c=0;for(;c<a;)s+=String.fromCharCode.apply(String,o.slice(c,c+=4096));return s}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,i,n,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw RangeError('"value" argument is out of bounds');if(r+i>e.length)throw RangeError("Index out of range")}function S(e,t,r,i,n){C(t,i,n,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function E(e,t,r,i,n){C(t,i,n,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function O(e,t,r,i,n,o){if(r+i>e.length||r<0)throw RangeError("Index out of range")}function A(e,t,r,i,o){return t*=1,r>>>=0,o||O(e,t,r,4,34028234663852886e22,-34028234663852886e22),n.write(e,t,r,i,23,4),r+4}function P(e,t,r,i,o){return t*=1,r>>>=0,o||O(e,t,r,8,17976931348623157e292,-17976931348623157e292),n.write(e,t,r,i,52,8),r+8}r.Buffer=s,r.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},r.INSPECT_MAX_BYTES=50,r.kMaxLength=0x7fffffff,s.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!s.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return(l(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(D(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),D(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let n=0,o=Math.min(r,i);n<o;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:+(i<r)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let i=s.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){let t=e[r];if(D(t,Uint8Array))n+t.length>i.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(i,n)):Uint8Array.prototype.set.call(i,t,n);else if(s.isBuffer(t))t.copy(i,n);else throw TypeError('"list" argument must be an Array of Buffers');n+=t.length}return i},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,r,i,n){if(D(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;let o=n-i,a=r-t,c=Math.min(o,a),l=this.slice(i,n),u=e.slice(t,r);for(let e=0;e<c;++e)if(l[e]!==u[e]){o=l[e],a=u[e];break}return o<a?-1:+(a<o)},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},s.prototype.write=function(e,t,r,i){var n,o,a,s,c,l,u,d;if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let p=this.length-t;if((void 0===r||r>p)&&(r=p),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let h=!1;for(;;)switch(i){case"hex":return function(e,t,r,i){let n;r=Number(r)||0;let o=e.length-r;i?(i=Number(i))>o&&(i=o):i=o;let a=t.length;for(i>a/2&&(i=a/2),n=0;n<i;++n){var s;let i=parseInt(t.substr(2*n,2),16);if((s=i)!=s)break;e[r+n]=i}return n}(this,e,t,r);case"utf8":case"utf-8":return n=t,o=r,N(B(e,this.length-n),this,n,o);case"ascii":case"latin1":case"binary":return a=t,s=r,N(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,s);case"base64":return c=t,l=r,N(M(e),this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,d=r,N(function(e,t){let r,i,n=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)i=(r=e.charCodeAt(o))>>8,n.push(r%256),n.push(i);return n}(e,this.length-u),this,u,d);default:if(h)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),h=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,s.prototype),i},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e],n=1,o=0;for(;++o<t&&(n*=256);)i+=this[e+o]*n;return i},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e+--t],n=1;for(;t>0&&(n*=256);)i+=this[e+--t]*n;return i},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=U(function(e){j(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&I(e,this.length-8);let i=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],n=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(i)+(BigInt(n)<<BigInt(32))}),s.prototype.readBigUInt64BE=U(function(e){j(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&I(e,this.length-8);let i=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],n=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)}),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e],n=1,o=0;for(;++o<t&&(n*=256);)i+=this[e+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=t,n=1,o=this[e+--i];for(;i>0&&(n*=256);)o+=this[e+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=U(function(e){j(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&I(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),s.prototype.readBigInt64BE=U(function(e){j(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&I(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}let n=1,o=0;for(this[t]=255&e;++o<r&&(n*=256);)this[t+o]=e/n&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}let n=r-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=U(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=U(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,r,i){if(e*=1,t>>>=0,!i){let i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}let n=0,o=1,a=0;for(this[t]=255&e;++n<r&&(o*=256);)e<0&&0===a&&0!==this[t+n-1]&&(a=1),this[t+n]=(e/o|0)-a&255;return t+r},s.prototype.writeIntBE=function(e,t,r,i){if(e*=1,t>>>=0,!i){let i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}let n=r-1,o=1,a=0;for(this[t+n]=255&e;--n>=0&&(o*=256);)e<0&&0===a&&0!==this[t+n+1]&&(a=1),this[t+n]=(e/o|0)-a&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=U(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=U(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,r){return A(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return A(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,i){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);let n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},s.prototype.fill=function(e,t,r,i){let n;if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){let t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{let o=s.isBuffer(e)?e:s.from(e,i),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=o[n%a]}return this};let k={};function x(e,t,r){k[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function R(e){let t="",r=e.length,i=+("-"===e[0]);for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function C(e,t,r,i,n,o){if(e>r||e<t){let i,n="bigint"==typeof t?"n":"";throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${(o+1)*8}${n}`:`>= -(2${n} ** ${(o+1)*8-1}${n}) and < 2 ** ${(o+1)*8-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new k.ERR_OUT_OF_RANGE("value",i,e)}j(n,"offset"),(void 0===i[n]||void 0===i[n+o])&&I(n,i.length-(o+1))}function j(e,t){if("number"!=typeof e)throw new k.ERR_INVALID_ARG_TYPE(t,"number",e)}function I(e,t,r){if(Math.floor(e)!==e)throw j(e,r),new k.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new k.ERR_BUFFER_OUT_OF_BOUNDS;throw new k.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}x("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),x("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),x("ERR_OUT_OF_RANGE",function(e,t,r){let i=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?n=R(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=R(n)),n+="n"),i+=` It must be ${t}. Received ${n}`},RangeError);let T=/[^+/0-9A-Za-z-_]/g;function B(e,t){let r;t=t||1/0;let i=e.length,n=null,o=[];for(let a=0;a<i;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!n){if(r>56319||a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function M(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(T,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,r,i){let n;for(n=0;n<i&&!(n+r>=t.length)&&!(n>=e.length);++n)t[n+r]=e[n];return n}function D(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let K=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let i=16*r;for(let n=0;n<16;++n)t[i+n]=e[r]+e[n]}return t}();function U(e){return"u"<typeof BigInt?L:e}function L(){throw Error("BigInt not supported")}},60766,(e,t,r)=>{"use strict";var i=e.r(9046),n=e=>(i.Buffer.isBuffer(e)?e:i.Buffer.from(e)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),o=e=>({...e,encryption:{...e.encryption},integrity:{...e.integrity}}),a={"aes-128-ctr":{keyBits:128,ivBits:128,name:"AES-CTR"},"aes-256-cbc":{keyBits:256,ivBits:128,name:"AES-CBC"},sha256:{keyBits:256,name:"SHA-256"}},s="Fe26.2",c=(e,t)=>{let r;if(t<1)throw Error("Invalid random bits count");let n=Math.ceil(t/8);return r=i.Buffer.allocUnsafe(n),e.getRandomValues(r),r},l=async(e,t,r,n,o,a)=>{let s=new TextEncoder,c=s.encode(t),l=await e.subtle.importKey("raw",c,"PBKDF2",!1,["deriveBits"]),u=s.encode(r),d=await e.subtle.deriveBits({name:"PBKDF2",hash:a,salt:u,iterations:n},l,8*o);return i.Buffer.from(d)},u=async(e,t,r)=>{var i;if(null==t||!t.length)throw Error("Empty password");if(null==r||"object"!=typeof r)throw Error("Bad options");if(!(r.algorithm in a))throw Error(`Unknown algorithm: ${r.algorithm}`);let n=a[r.algorithm],o={},s=null!=(i=r.hmac)&&i,u=s?{name:"HMAC",hash:n.name}:{name:n.name},d=s?["sign","verify"]:["encrypt","decrypt"];if("string"==typeof t){if(t.length<r.minPasswordlength)throw Error(`Password string too short (min ${r.minPasswordlength} characters required)`);let{salt:i=""}=r;if(!i){let{saltBits:t=0}=r;if(!t)throw Error("Missing salt and saltBits options");i=c(e,t).toString("hex")}let a=await l(e,t,i,r.iterations,n.keyBits/8,"SHA-1");o.key=await e.subtle.importKey("raw",a,u,!1,d),o.salt=i}else{if(t.length<n.keyBits/8)throw Error("Key buffer (password) too small");o.key=await e.subtle.importKey("raw",t,u,!1,d),o.salt=""}return r.iv?o.iv=r.iv:"ivBits"in n&&(o.iv=c(e,n.ivBits)),o},d=async(e,t,r,n)=>{let o=await u(e,t,r),s=new TextEncoder().encode(n),c=await e.subtle.encrypt({name:a[r.algorithm].name,iv:o.iv},o.key,s);return{encrypted:i.Buffer.from(c),key:o}},p=async(e,t,r,n)=>{let o=await u(e,t,r),s=await e.subtle.decrypt({name:a[r.algorithm].name,iv:o.iv},o.key,i.Buffer.isBuffer(n)?n:i.Buffer.from(n));return new TextDecoder().decode(s)},h=async(e,t,r,o)=>{let a=await u(e,t,{...r,hmac:!0}),s=new TextEncoder().encode(o),c=await e.subtle.sign({name:"HMAC"},a.key,s);return{digest:n(i.Buffer.from(c)),salt:a.salt}},f=e=>"object"!=typeof e||i.Buffer.isBuffer(e)?{encryption:e,integrity:e}:"secret"in e?{id:e.id,encryption:e.secret,integrity:e.secret}:{id:e.id,encryption:e.encryption,integrity:e.integrity},y=async(e,t,r,i)=>{if(!r)throw Error("Empty password");let a=o(i),c=Date.now()+(a.localtimeOffsetMsec||0),l=JSON.stringify(t),u=f(r),{id:p=""}=u;if(p&&!/^\w+$/.test(p))throw Error("Invalid password id");let{encrypted:y,key:g}=await d(e,u.encryption,a.encryption,l),m=n(y),v=n(g.iv),b=a.ttl?c+a.ttl:"",w=`${s}*${p}*${g.salt}*${v}*${m}*${b}`,_=await h(e,u.integrity,a.integrity,w);return`${w}*${_.salt}*${_.digest}`},g=async(e,t,r,n)=>{let a;if(!r)throw Error("Empty password");let c=o(n),l=Date.now()+(c.localtimeOffsetMsec||0),u=t.split("*");if(8!==u.length)throw Error("Incorrect number of sealed components");let d=u[0],y=u[1],g=u[2],m=u[3],v=u[4],b=u[5],w=u[6],_=u[7],S=`${d}*${y}*${g}*${m}*${v}*${b}`;if(s!==d)throw Error("Wrong mac prefix");if(b){if(!/^\d+$/.exec(b))throw Error("Invalid expiration");if(parseInt(b,10)<=l-1e3*c.timestampSkewSec)throw Error("Expired seal")}if(void 0===r||"string"==typeof r&&0===r.length)throw Error("Empty password");if("object"!=typeof r||i.Buffer.isBuffer(r))a=r;else{if(!((y||"default")in r))throw Error(`Cannot find password: ${y}`);a=r[y||"default"]}a=f(a);let E=c.integrity;if(E.salt=w,!((e,t)=>{let r=+(e.length!==t.length);r&&(t=e);for(let i=0;i<e.length;i+=1)r|=e.charCodeAt(i)^t.charCodeAt(i);return 0===r})((await h(e,a.integrity,E,S)).digest,_))throw Error("Bad hmac value");let O=i.Buffer.from(v,"base64"),A=c.encryption;A.salt=g,A.iv=i.Buffer.from(m,"base64");let P=await p(e,a.encryption,A,O);return P?JSON.parse(P):null};Object.defineProperty(r,"Buffer",{enumerable:!0,get:function(){return i.Buffer}}),r.algorithms=a,r.base64urlEncode=n,r.clone=o,r.decrypt=p,r.defaults={encryption:{saltBits:256,algorithm:"aes-256-cbc",iterations:1,minPasswordlength:32},integrity:{saltBits:256,algorithm:"sha256",iterations:1,minPasswordlength:32},ttl:0,timestampSkewSec:60,localtimeOffsetMsec:0},r.encrypt=d,r.generateKey=u,r.hmacWithPassword=h,r.macFormatVersion="2",r.macPrefix=s,r.randomBits=c,r.seal=y,r.unseal=g},60294,(e,t,r)=>{"use strict";r.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},i=(t||{}).decode||o,n=0;n<e.length;){var a=e.indexOf("=",n);if(-1===a)break;var s=e.indexOf(";",n);if(-1===s)s=e.length;else if(s<a){n=e.lastIndexOf(";",a-1)+1;continue}var c=e.slice(n,a).trim();if(void 0===r[c]){var l=e.slice(a+1,s).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),r[c]=function(e,t){try{return t(e)}catch(t){return e}}(l,i)}n=s+1}return r},r.serialize=function(e,t,r){var o=r||{},s=o.encode||a;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var c=s(t);if(c&&!n.test(c))throw TypeError("argument val is invalid");var l=e+"="+c;if(null!=o.maxAge){var u=o.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(o.domain){if(!n.test(o.domain))throw TypeError("option domain is invalid");l+="; Domain="+o.domain}if(o.path){if(!n.test(o.path))throw TypeError("option path is invalid");l+="; Path="+o.path}if(o.expires){var d,p=o.expires;if(d=p,"[object Date]"!==i.call(d)&&!(d instanceof Date)||isNaN(p.valueOf()))throw TypeError("option expires is invalid");l+="; Expires="+p.toUTCString()}if(o.httpOnly&&(l+="; HttpOnly"),o.secure&&(l+="; Secure"),o.priority)switch("string"==typeof o.priority?o.priority.toLowerCase():o.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var i=Object.prototype.toString,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function a(e){return encodeURIComponent(e)}},59678,(e,t,r)=>{"use strict";var i=Object.create,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,l=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))c.call(e,s)||s===r||n(e,s,{get:()=>t[s],enumerable:!(i=o(t,s))||i.enumerable});return e},u=(e,t,r)=>(r=null!=e?i(s(e)):{},l(!t&&e&&e.__esModule?r:n(r,"default",{value:e,enumerable:!0}),e)),d={},p={createGetIronSession:()=>v,createSealData:()=>_,createUnsealData:()=>w,getIronSession:()=>P,sealData:()=>A,unsealData:()=>O};for(var h in p)n(d,h,{get:p[h],enumerable:!0});t.exports=l(n({},"__esModule",{value:!0}),d);var f=u(e.r(60766)),y=u(e.r(60294)),g=1296e3,m={ttl:g,cookieOptions:{httpOnly:!0,secure:!0,sameSite:"lax",path:"/"}};function v(e,t,r){return async(e,i,n)=>{if(!e||!i||!n||!n.cookieName||!n.password)throw Error('iron-session: Bad usage. Minimum usage is const session = await getIronSession(req, res, { cookieName: "...", password: "...". Check the usage here: https://github.com/vvo/iron-session');let o=S(n.password);Object.values(S(n.password)).forEach(e=>{if(e.length<32)throw Error("iron-session: Bad usage. Password must be at least 32 characters long.")});let a={...m,...n,cookieOptions:{...m.cookieOptions,...n.cookieOptions||{}}};0===a.ttl&&(a.ttl=0x7fffffff),n.cookieOptions&&"maxAge"in n.cookieOptions?void 0===n.cookieOptions.maxAge?a.ttl=0:a.cookieOptions.maxAge=n.cookieOptions.maxAge-60:a.cookieOptions.maxAge=a.ttl-60;let s=y.default.parse("credentials"in e?e.headers.get("cookie")||"":e.headers.cookie||"")[a.cookieName],c=void 0===s?{}:await t(s,{password:o,ttl:a.ttl});return Object.defineProperties(c,{save:{value:async function(){if("headersSent"in i&&!0===i.headersSent)throw Error("iron-session: Cannot set session cookie: session.save() was called after headers were sent. Make sure to call it before any res.send() or res.end()");let e=await r(c,{password:o,ttl:a.ttl}),t=y.default.serialize(a.cookieName,e,a.cookieOptions);if(t.length>4096)throw Error(`iron-session: Cookie length is too big ${t.length}, browsers will refuse it. Try to remove some data.`);b(t,i)}},destroy:{value:function(){Object.keys(c).forEach(e=>{delete c[e]}),b(y.default.serialize(a.cookieName,"",{...a.cookieOptions,maxAge:0}),i)}}}),c}}function b(e,t){var r;if("headers"in t)return void t.headers.append("set-cookie",e);let i=null!=(r=t.getHeader("set-cookie"))?r:[];"string"==typeof i&&(i=[i]),t.setHeader("set-cookie",[...i,e])}function w(e){return async(t,{password:r,ttl:i=g})=>{let n=S(r),{sealWithoutVersion:o,tokenVersion:a}=function(e){if("~"===e[e.length-2]){let[t,r]=e.split("~");return{sealWithoutVersion:t,tokenVersion:parseInt(r,10)}}return{sealWithoutVersion:e,tokenVersion:null}}(t);try{let t=await f.unseal(e,o,n,{...f.defaults,ttl:1e3*i})||{};if(2===a)return t;return{...t.persistent}}catch(e){if(e instanceof Error&&("Expired seal"===e.message||"Bad hmac value"===e.message||e.message.startsWith("Cannot find password: ")||"Incorrect number of sealed components"===e.message))return{};throw e}}}function _(e){return async(t,{password:r,ttl:i=g})=>{let n=S(r),o=Math.max(...Object.keys(n).map(e=>parseInt(e,10))),a={id:o.toString(),secret:n[o]},s=await f.seal(e,t,a,{...f.defaults,ttl:1e3*i});return`${s}~2`}}function S(e){return"string"==typeof e?{1:e}:e}var E=new(e.r(75977)).Crypto,O=w(E),A=_(E),P=v(E,O,A)},66686,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IronSessionProvider=void 0,r.IronSessionProvider=class{}},63093,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.WebIronSessionProvider=void 0;let n=e.r(59678),o=e.r(66686);class a extends o.IronSessionProvider{sealData(e,t){return i(this,void 0,void 0,function*(){let r=Object.assign(Object.assign({},t),{ttl:0});return(0,n.sealData)(e,r)})}unsealData(e,t){return i(this,void 0,void 0,function*(){return(0,n.unsealData)(e,t)})}}r.WebIronSessionProvider=a},56343,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},34785,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},59114,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(56343),r),n(e.r(34785),r)},10075,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},53755,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},54419,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},24306,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},78630,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},18043,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(10075),r),n(e.r(53755),r),n(e.r(54419),r),n(e.r(24306),r),n(e.r(78630),r)},94285,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},1315,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},39072,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},93169,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},39004,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(94285),r),n(e.r(1315),r),n(e.r(39072),r),n(e.r(93169),r)},81029,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},14905,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},84294,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},71181,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},54499,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},46565,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},33339,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},69677,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},34109,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},57375,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},13011,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(81029),r),n(e.r(14905),r),n(e.r(84294),r),n(e.r(71181),r),n(e.r(54499),r),n(e.r(46565),r),n(e.r(33339),r),n(e.r(69677),r),n(e.r(34109),r),n(e.r(57375),r)},944,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},44438,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},76525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},88022,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},35024,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},16397,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},5214,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(944),r),n(e.r(44438),r),n(e.r(76525),r),n(e.r(88022),r),n(e.r(35024),r),n(e.r(16397),r)},77458,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getPrimaryEmail=void 0,r.getPrimaryEmail=function(e){var t;let r=null==(t=e.emails)?void 0:t.find(e=>e.primary);return null==r?void 0:r.value}},51574,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},43428,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(51574),r)},9795,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},21485,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},83432,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},34902,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},92839,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(9795),r),n(e.r(21485),r),n(e.r(83432),r),n(e.r(34902),r)},61255,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},36234,(e,t,r)=>{"use strict";var i,n;Object.defineProperty(r,"__esModule",{value:!0}),r.DomainDataState=void 0,(n=i||(r.DomainDataState=i={})).Verified="verified",n.Pending="pending"},85987,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},11231,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},19218,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},85951,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},60360,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(61255),r),n(e.r(36234),r),n(e.r(85987),r),n(e.r(11231),r),n(e.r(19218),r),n(e.r(85951),r)},74630,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},7431,(e,t,r)=>{"use strict";var i,n,o,a;Object.defineProperty(r,"__esModule",{value:!0}),r.OrganizationDomainVerificationStrategy=r.OrganizationDomainState=void 0,(o=i||(r.OrganizationDomainState=i={})).LegacyVerified="legacy_verified",o.Verified="verified",o.Pending="pending",o.Failed="failed",(a=n||(r.OrganizationDomainVerificationStrategy=n={})).Dns="dns",a.Manual="manual"},55601,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(74630),r),n(e.r(7431),r)},13176,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},98746,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},55194,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},17589,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(13176),r),n(e.r(98746),r),n(e.r(55194),r)},79434,(e,t,r)=>{"use strict";var i,n;Object.defineProperty(r,"__esModule",{value:!0}),r.GeneratePortalLinkIntent=void 0,(n=i||(r.GeneratePortalLinkIntent=i={})).AuditLogs="audit_logs",n.DomainVerification="domain_verification",n.DSync="dsync",n.LogStreams="log_streams",n.SSO="sso",n.CertificateRenewal="certificate_renewal"},92743,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GeneratePortalLinkIntent=void 0;var i=e.r(79434);Object.defineProperty(r,"GeneratePortalLinkIntent",{enumerable:!0,get:function(){return i.GeneratePortalLinkIntent}})},37250,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},78419,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(37250),r)},58266,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},36056,(e,t,r)=>{"use strict";var i,n;Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectionType=void 0,(n=i||(r.ConnectionType=i={})).ADFSSAML="ADFSSAML",n.AdpOidc="AdpOidc",n.AppleOAuth="AppleOAuth",n.Auth0SAML="Auth0SAML",n.AzureSAML="AzureSAML",n.CasSAML="CasSAML",n.ClassLinkSAML="ClassLinkSAML",n.CloudflareSAML="CloudflareSAML",n.CyberArkSAML="CyberArkSAML",n.DuoSAML="DuoSAML",n.GenericOIDC="GenericOIDC",n.GenericSAML="GenericSAML",n.GitHubOAuth="GitHubOAuth",n.GoogleOAuth="GoogleOAuth",n.GoogleSAML="GoogleSAML",n.JumpCloudSAML="JumpCloudSAML",n.KeycloakSAML="KeycloakSAML",n.LastPassSAML="LastPassSAML",n.LoginGovOidc="LoginGovOidc",n.MagicLink="MagicLink",n.MicrosoftOAuth="MicrosoftOAuth",n.MiniOrangeSAML="MiniOrangeSAML",n.NetIqSAML="NetIqSAML",n.OktaSAML="OktaSAML",n.OneLoginSAML="OneLoginSAML",n.OracleSAML="OracleSAML",n.PingFederateSAML="PingFederateSAML",n.PingOneSAML="PingOneSAML",n.RipplingSAML="RipplingSAML",n.SalesforceOAuth="SalesforceOAuth",n.SalesforceSAML="SalesforceSAML",n.ShibbolethGenericSAML="ShibbolethGenericSAML",n.ShibbolethSAML="ShibbolethSAML",n.SimpleSamlPhpSAML="SimpleSamlPhpSAML",n.VMwareSAML="VMwareSAML"},66547,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},48602,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},57211,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},14507,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},65906,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},31687,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},78570,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(58266),r),n(e.r(36056),r),n(e.r(66547),r),n(e.r(48602),r),n(e.r(57211),r),n(e.r(14507),r),n(e.r(65906),r),n(e.r(31687),r)},41137,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},14857,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},60491,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},75419,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},71201,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},29015,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},67996,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},26357,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},73928,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},28362,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},95224,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},81533,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e.r(41137),r),n(e.r(14857),r),n(e.r(60491),r),n(e.r(75419),r),n(e.r(71201),r),n(e.r(29015),r),n(e.r(67996),r),n(e.r(26357),r),n(e.r(73928),r),n(e.r(28362),r),n(e.r(95224),r)},65463,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.WorkOS=void 0;let o=e.r(41788),a=e.r(1495),s=e.r(54174),c=e.r(44732),l=e.r(88998),u=e.r(18008),d=e.r(66610),p=e.r(63093);n(e.r(59114),r),n(e.r(18043),r),n(e.r(39004),r),n(e.r(76831),r),n(e.r(13011),r),n(e.r(43659),r),n(e.r(5214),r),n(e.r(77458),r),n(e.r(43428),r),n(e.r(92839),r),n(e.r(49866),r),n(e.r(60360),r),n(e.r(55601),r),n(e.r(17589),r),n(e.r(92743),r),n(e.r(78419),r),n(e.r(78570),r),n(e.r(47141),r),n(e.r(81533),r);class h extends d.WorkOS{createHttpClient(e,t){var r;let i=Object.assign(Object.assign({},e.config),{timeout:e.timeout,headers:Object.assign(Object.assign({},null==(r=e.config)?void 0:r.headers),{Authorization:`Bearer ${this.key}`,"User-Agent":t})});return"u">typeof fetch||void 0!==e.fetchFn?new s.FetchHttpClient(this.baseURL,i,e.fetchFn):new c.NodeHttpClient(this.baseURL,i)}createWebhookClient(){return new u.Webhooks(this.getCryptoProvider())}getCryptoProvider(){return"u">typeof crypto&&void 0!==crypto.subtle?new a.SubtleCryptoProvider:new o.NodeCryptoProvider}createActionsClient(){return new l.Actions(this.getCryptoProvider())}createIronSessionProvider(){return new p.WebIronSessionProvider}emitWarning(e){return process.emitWarning(e,"WorkOS")}}r.WorkOS=h},12953,(e,t,r)=>{"use strict";function i(e,t,r){if(e){for(let i of(r&&(r=r.toLowerCase()),e))if(t===i.domain?.split(":",1)[0].toLowerCase()||r===i.defaultLocale.toLowerCase()||i.locales?.some(e=>e.toLowerCase()===r))return i}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"detectDomainLocale",{enumerable:!0,get:function(){return i}})},57520,(e,t,r)=>{"use strict";function i(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removeTrailingSlash",{enumerable:!0,get:function(){return i}})},52799,(e,t,r)=>{"use strict";function i(e){let t=e.indexOf("#"),r=e.indexOf("?"),i=r>-1&&(t<0||r<t);return i||t>-1?{pathname:e.substring(0,i?r:t),query:i?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parsePath",{enumerable:!0,get:function(){return i}})},11959,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathPrefix",{enumerable:!0,get:function(){return n}});let i=e.r(52799);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:o}=(0,i.parsePath)(e);return`${t}${r}${n}${o}`}},30652,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathSuffix",{enumerable:!0,get:function(){return n}});let i=e.r(52799);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:o}=(0,i.parsePath)(e);return`${r}${t}${n}${o}`}},86984,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"pathHasPrefix",{enumerable:!0,get:function(){return n}});let i=e.r(52799);function n(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,i.parsePath)(e);return r===t||r.startsWith(t+"/")}},99256,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addLocale",{enumerable:!0,get:function(){return o}});let i=e.r(11959),n=e.r(86984);function o(e,t,r,o){if(!t||t===r)return e;let a=e.toLowerCase();return!o&&((0,n.pathHasPrefix)(a,"/api")||(0,n.pathHasPrefix)(a,`/${t.toLowerCase()}`))?e:(0,i.addPathPrefix)(e,`/${t}`)}},16107,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"formatNextPathnameInfo",{enumerable:!0,get:function(){return s}});let i=e.r(57520),n=e.r(11959),o=e.r(30652),a=e.r(99256);function s(e){let t=(0,a.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,i.removeTrailingSlash)(t)),e.buildId&&(t=(0,o.addPathSuffix)((0,n.addPathPrefix)(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=(0,n.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,o.addPathSuffix)(t,"/"):(0,i.removeTrailingSlash)(t)}},26729,(e,t,r)=>{"use strict";function i(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getHostname",{enumerable:!0,get:function(){return i}})},96045,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"normalizeLocalePath",{enumerable:!0,get:function(){return n}});let i=new WeakMap;function n(e,t){let r;if(!t)return{pathname:e};let n=i.get(t);n||(n=t.map(e=>e.toLowerCase()),i.set(t,n));let o=e.split("/",2);if(!o[1])return{pathname:e};let a=o[1].toLowerCase(),s=n.indexOf(a);return s<0?{pathname:e}:(r=t[s],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}},92624,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removePathPrefix",{enumerable:!0,get:function(){return n}});let i=e.r(86984);function n(e,t){if(!(0,i.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}},7657,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getNextPathnameInfo",{enumerable:!0,get:function(){return a}});let i=e.r(96045),n=e.r(92624),o=e.r(86984);function a(e,t){let{basePath:r,i18n:a,trailingSlash:s}=t.nextConfig??{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):s};r&&(0,o.pathHasPrefix)(c.pathname,r)&&(c.pathname=(0,n.removePathPrefix)(c.pathname,r),c.basePath=r);let l=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");c.buildId=e[0],l="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(c.pathname=l)}if(a){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,i.normalizeLocalePath)(c.pathname,a.locales);c.locale=e.detectedLocale,c.pathname=e.pathname??c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(l):(0,i.normalizeLocalePath)(l,a.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},61400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextURL",{enumerable:!0,get:function(){return u}});let i=e.r(12953),n=e.r(16107),o=e.r(26729),a=e.r(7657),s=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function c(e,t){return new URL(String(e).replace(s,"localhost"),t&&String(t).replace(s,"localhost"))}let l=Symbol("NextURLInternal");class u{constructor(e,t,r){let i,n;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,n=r||{}):n=r||t||{},this[l]={url:c(e,i??n.base),options:n,basePath:""},this.analyze()}analyze(){var e,t,r,n,s;let c=(0,a.getNextPathnameInfo)(this[l].url.pathname,{nextConfig:this[l].options.nextConfig,parseData:!0,i18nProvider:this[l].options.i18nProvider}),u=(0,o.getHostname)(this[l].url,this[l].options.headers);this[l].domainLocale=this[l].options.i18nProvider?this[l].options.i18nProvider.detectDomainLocale(u):(0,i.detectDomainLocale)(null==(t=this[l].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,u);let d=(null==(r=this[l].domainLocale)?void 0:r.defaultLocale)||(null==(s=this[l].options.nextConfig)||null==(n=s.i18n)?void 0:n.defaultLocale);this[l].url.pathname=c.pathname,this[l].defaultLocale=d,this[l].basePath=c.basePath??"",this[l].buildId=c.buildId,this[l].locale=c.locale??d,this[l].trailingSlash=c.trailingSlash}formatPathname(){return(0,n.formatNextPathnameInfo)({basePath:this[l].basePath,buildId:this[l].buildId,defaultLocale:this[l].options.forceLocale?void 0:this[l].defaultLocale,locale:this[l].locale,pathname:this[l].url.pathname,trailingSlash:this[l].trailingSlash})}formatSearch(){return this[l].url.search}get buildId(){return this[l].buildId}set buildId(e){this[l].buildId=e}get locale(){return this[l].locale??""}set locale(e){var t,r;if(!this[l].locale||!(null==(r=this[l].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[l].locale=e}get defaultLocale(){return this[l].defaultLocale}get domainLocale(){return this[l].domainLocale}get searchParams(){return this[l].url.searchParams}get host(){return this[l].url.host}set host(e){this[l].url.host=e}get hostname(){return this[l].url.hostname}set hostname(e){this[l].url.hostname=e}get port(){return this[l].url.port}set port(e){this[l].url.port=e}get protocol(){return this[l].url.protocol}set protocol(e){this[l].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[l].url=c(e),this.analyze()}get origin(){return this[l].url.origin}get pathname(){return this[l].url.pathname}set pathname(e){this[l].url.pathname=e}get hash(){return this[l].url.hash}set hash(e){this[l].url.hash=e}get search(){return this[l].url.search}set search(e){this[l].url.search=e}get password(){return this[l].url.password}set password(e){this[l].url.password=e}get username(){return this[l].url.username}set username(e){this[l].url.username=e}get basePath(){return this[l].basePath}set basePath(e){this[l].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new u(String(this),this[l].options)}}},30009,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={ACTION_SUFFIX:function(){return g},APP_DIR_ALIAS:function(){return K},CACHE_ONE_YEAR:function(){return x},DOT_NEXT_ALIAS:function(){return N},ESLINT_DEFAULT_DIRS:function(){return en},GSP_NO_RETURNED_VALUE:function(){return Q},GSSP_COMPONENT_MEMBER_ERROR:function(){return et},GSSP_NO_RETURNED_VALUE:function(){return Z},HTML_CONTENT_TYPE_HEADER:function(){return a},INFINITE_CACHE:function(){return R},INSTRUMENTATION_HOOK_FILENAME:function(){return B},JSON_CONTENT_TYPE_HEADER:function(){return s},MATCHED_PATH_HEADER:function(){return u},MIDDLEWARE_FILENAME:function(){return C},MIDDLEWARE_LOCATION_REGEXP:function(){return j},NEXT_BODY_SUFFIX:function(){return b},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return k},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return _},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return S},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return P},NEXT_CACHE_TAGS_HEADER:function(){return w},NEXT_CACHE_TAG_MAX_ITEMS:function(){return O},NEXT_CACHE_TAG_MAX_LENGTH:function(){return A},NEXT_DATA_SUFFIX:function(){return m},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return l},NEXT_META_SUFFIX:function(){return v},NEXT_QUERY_PARAM_PREFIX:function(){return c},NEXT_RESUME_HEADER:function(){return E},NON_STANDARD_NODE_ENV:function(){return er},PAGES_DIR_ALIAS:function(){return M},PRERENDER_REVALIDATE_HEADER:function(){return d},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return p},PROXY_FILENAME:function(){return I},PROXY_LOCATION_REGEXP:function(){return T},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return V},ROOT_DIR_ALIAS:function(){return D},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return J},RSC_ACTION_ENCRYPTION_ALIAS:function(){return $},RSC_ACTION_PROXY_ALIAS:function(){return z},RSC_ACTION_VALIDATE_ALIAS:function(){return L},RSC_CACHE_WRAPPER_ALIAS:function(){return H},RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS:function(){return W},RSC_MOD_REF_PROXY_ALIAS:function(){return U},RSC_SEGMENTS_DIR_SUFFIX:function(){return h},RSC_SEGMENT_SUFFIX:function(){return f},RSC_SUFFIX:function(){return y},SERVER_PROPS_EXPORT_ERROR:function(){return Y},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return G},SERVER_PROPS_SSG_CONFLICT:function(){return q},SERVER_RUNTIME:function(){return eo},SSG_FALLBACK_EXPORT_ERROR:function(){return ei},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return F},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return X},TEXT_PLAIN_CONTENT_TYPE_HEADER:function(){return o},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return ee},WEBPACK_LAYERS:function(){return ec},WEBPACK_RESOURCE_QUERIES:function(){return el},WEB_SOCKET_MAX_RECONNECTIONS:function(){return ea}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o="text/plain",a="text/html; charset=utf-8",s="application/json; charset=utf-8",c="nxtP",l="nxtI",u="x-matched-path",d="x-prerender-revalidate",p="x-prerender-revalidate-if-generated",h=".segments",f=".segment.rsc",y=".rsc",g=".action",m=".json",v=".meta",b=".body",w="x-next-cache-tags",_="x-next-revalidated-tags",S="x-next-revalidate-tag-token",E="next-resume",O=128,A=256,P=1024,k="_N_T_",x=31536e3,R=0xfffffffe,C="middleware",j=`(?:src/)?${C}`,I="proxy",T=`(?:src/)?${I}`,B="instrumentation",M="private-next-pages",N="private-dot-next",D="private-next-root-dir",K="private-next-app-dir",U="private-next-rsc-mod-ref-proxy",L="private-next-rsc-action-validate",z="private-next-rsc-server-reference",H="private-next-rsc-cache-wrapper",W="private-next-rsc-track-dynamic-import",$="private-next-rsc-action-encryption",J="private-next-rsc-action-client-wrapper",V="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",F="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",G="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",q="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",X="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",Y="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",Q="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",Z="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",ee="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",et="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",er='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',ei="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",en=["app","pages","components","lib","src"],eo={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},ea=12,es={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},ec={...es,GROUP:{builtinReact:[es.reactServerComponents,es.actionBrowser],serverOnly:[es.reactServerComponents,es.actionBrowser,es.instrument,es.middleware],neutralTarget:[es.apiNode,es.apiEdge],clientOnly:[es.serverSideRendering,es.appPagesBrowser],bundled:[es.reactServerComponents,es.actionBrowser,es.serverSideRendering,es.appPagesBrowser,es.shared,es.instrument,es.middleware],appPages:[es.reactServerComponents,es.serverSideRendering,es.appPagesBrowser,es.actionBrowser]}},el={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},41296,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={fromNodeOutgoingHttpHeaders:function(){return a},normalizeNextQueryParam:function(){return u},splitCookiesString:function(){return s},toNodeOutgoingHttpHeaders:function(){return c},validateURL:function(){return l}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=e.r(30009);function a(e){let t=new Headers;for(let[r,i]of Object.entries(e))for(let e of Array.isArray(i)?i:[i])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function s(e){var t,r,i,n,o,a=[],s=0;function c(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,o=!1;c();)if(","===(r=e.charAt(s))){for(i=s,s+=1,c(),n=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(o=!0,s=n,a.push(e.substring(t,i)),t=s):s=i+1}else s+=1;(!o||s>=e.length)&&a.push(e.substring(t,e.length))}return a}function c(e){let t={},r=[];if(e)for(let[i,n]of e.entries())"set-cookie"===i.toLowerCase()?(r.push(...s(n)),t[i]=1===r.length?r[0]:r):t[i]=n;return t}function l(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function u(e){for(let t of[o.NEXT_QUERY_PARAM_PREFIX,o.NEXT_INTERCEPTION_MARKER_PREFIX])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}},43241,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={PageSignatureError:function(){return o},RemovedPageError:function(){return a},RemovedUAError:function(){return s}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});class o extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class a extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class s extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},75447,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={INTERNALS:function(){return l},NextRequest:function(){return u}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let o=e.r(61400),a=e.r(41296),s=e.r(43241),c=e.r(77312),l=Symbol("internal request");class u extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);(0,a.validateURL)(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);const i=new o.NextURL(r,{headers:(0,a.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[l]={cookies:new c.RequestCookies(this.headers),nextUrl:i,url:i.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[l].cookies}get nextUrl(){return this[l].nextUrl}get page(){throw new s.RemovedPageError}get ua(){throw new s.RemovedUAError}get url(){return this[l].url}}},25472,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextResponse",{enumerable:!0,get:function(){return d}});let i=e.r(77312),n=e.r(61400),o=e.r(41296),a=e.r(8126),s=e.r(77312),c=Symbol("internal response"),l=new Set([301,302,303,307,308]);function u(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[i,n]of e.request.headers)t.set("x-middleware-request-"+i,n),r.push(i);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);const r=this.headers,l=new Proxy(new s.ResponseCookies(r),{get(e,n,o){switch(n){case"delete":case"set":return(...o)=>{let a=Reflect.apply(e[n],e,o),c=new Headers(r);return a instanceof s.ResponseCookies&&r.set("x-middleware-set-cookie",a.getAll().map(e=>(0,i.stringifyCookie)(e)).join(",")),u(t,c),a};default:return a.ReflectAdapter.get(e,n,o)}}});this[c]={cookies:l,url:t.url?new n.NextURL(t.url,{headers:(0,o.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[c].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!l.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let i="object"==typeof t?t:{},n=new Headers(null==i?void 0:i.headers);return n.set("Location",(0,o.validateURL)(e)),new d(null,{...i,headers:n,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,o.validateURL)(e)),u(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),u(e,t),new d(null,{...e,headers:t})}}},2075,(e,t,r)=>{"use strict";function i(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageResponse",{enumerable:!0,get:function(){return i}})},6992,(e,t,r)=>{var i={226:function(t,r){!function(i,n){"use strict";var o="function",a="undefined",s="object",c="string",l="major",u="model",d="name",p="type",h="vendor",f="version",y="architecture",g="console",m="mobile",v="tablet",b="smarttv",w="wearable",_="embedded",S="Amazon",E="Apple",O="ASUS",A="BlackBerry",P="Browser",k="Chrome",x="Firefox",R="Google",C="Huawei",j="Microsoft",I="Motorola",T="Opera",B="Samsung",M="Sharp",N="Sony",D="Xiaomi",K="Zebra",U="Facebook",L="Chromium OS",z="Mac OS",H=function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},W=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},$=function(e,t){return typeof e===c&&-1!==J(t).indexOf(J(e))},J=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},F=function(e,t){for(var r,i,n,a,c,l,u=0;u<t.length&&!c;){var d=t[u],p=t[u+1];for(r=i=0;r<d.length&&!c&&d[r];)if(c=d[r++].exec(e))for(n=0;n<p.length;n++)l=c[++i],typeof(a=p[n])===s&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):void 0:this[a[0]]=l?a[1].call(this,l,a[2]):void 0:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):void 0):this[a]=l||void 0;u+=2}},G=function(e,t){for(var r in t)if(typeof t[r]===s&&t[r].length>0){for(var i=0;i<t[r].length;i++)if($(t[r][i],e))return"?"===r?void 0:r}else if($(t[r],e))return"?"===r?void 0:r;return e},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,T+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[d,T]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+P],f],[/\bfocus\/([\w\.]+)/i],[f,[d,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,T+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,T+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI "+P]],[/fxios\/([-\w\.]+)/i],[f,[d,x]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+P]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+P],f],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,U],f],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,k+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,f],[/(cobalt)\/([\w\.]+)/i],[d,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,J]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,"",J]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,J]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[h,B],[p,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[h,B],[p,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[h,E],[p,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[h,E],[p,v]],[/(macintosh);/i],[u,[h,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[h,M],[p,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[h,C],[p,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[h,C],[p,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[h,D],[p,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[h,D],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[h,"OPPO"],[p,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[h,"Vivo"],[p,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[h,"Realme"],[p,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[h,I],[p,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[h,I],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[h,"LG"],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[h,"LG"],[p,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[h,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[h,"Nokia"],[p,m]],[/(pixel c)\b/i],[u,[h,R],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[h,R],[p,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[h,N],[p,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[h,N],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[h,"OnePlus"],[p,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[h,S],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[h,S],[p,m]],[/(playbook);[-\w\),; ]+(rim)/i],[u,h,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[h,A],[p,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[h,O],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[h,O],[p,m]],[/(nexus 9)/i],[u,[h,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[u,/_/g," "],[p,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[h,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[h,"Meizu"],[p,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,u,[p,m]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,u,[p,v]],[/(surface duo)/i],[u,[h,j],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[h,"Fairphone"],[p,m]],[/(u304aa)/i],[u,[h,"AT&T"],[p,m]],[/\bsie-(\w*)/i],[u,[h,"Siemens"],[p,m]],[/\b(rct\w+) b/i],[u,[h,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[u,[h,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[u,[h,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[h,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[u,[h,"NuVision"],[p,v]],[/\b(k88) b/i],[u,[h,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[u,[h,"ZTE"],[p,m]],[/\b(gen\d{3}) b.+49h/i],[u,[h,"Swiss"],[p,m]],[/\b(zur\d{3}) b/i],[u,[h,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[u,[h,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],u,[p,v]],[/\b(ns-?\w{0,9}) b/i],[u,[h,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[h,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],u,[p,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],u,[p,m]],[/\b(ph-1) /i],[u,[h,"Essential"],[p,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[h,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[u,[h,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[u,[h,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[u,[h,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[h,u,[p,m]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[h,j],[p,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[h,K],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[h,K],[p,m]],[/smart-tv.+(samsung)/i],[h,[p,b]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[h,B],[p,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,"LG"],[p,b]],[/(apple) ?tv/i],[h,[u,E+" TV"],[p,b]],[/crkey/i],[[u,k+"cast"],[h,R],[p,b]],[/droid.+aft(\w)( bui|\))/i],[u,[h,S],[p,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[h,M],[p,b]],[/(bravia[\w ]+)( bui|\))/i],[u,[h,N],[p,b]],[/(mitv-\w{5}) bui/i],[u,[h,D],[p,b]],[/Hbbtv.*(technisat) (.*);/i],[h,u,[p,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,V],[u,V],[p,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,u,[p,g]],[/droid.+; (shield) bui/i],[u,[h,"Nvidia"],[p,g]],[/(playstation [345portablevi]+)/i],[u,[h,N],[p,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[h,j],[p,g]],[/((pebble))app/i],[h,u,[p,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[h,E],[p,w]],[/droid.+; (glass) \d/i],[u,[h,R],[p,w]],[/droid.+; (wt63?0{2,3})\)/i],[u,[h,K],[p,w]],[/(quest( 2| pro)?)/i],[u,[h,U],[p,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,_]],[/(aeobc)\b/i],[u,[h,S],[p,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[p,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,m]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[f,G,q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[f,G,q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,z],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[d,k+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,L],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,f]]},Y=function(e,t){if(typeof e===s&&(t=e,e=void 0),!(this instanceof Y))return new Y(e,t).getResult();var r=typeof i!==a&&i.navigator?i.navigator:void 0,n=e||(r&&r.userAgent?r.userAgent:""),g=r&&r.userAgentData?r.userAgentData:void 0,b=t?H(X,t):X,w=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[d]=void 0,t[f]=void 0,F.call(t,n,b.browser),t[l]=typeof(e=t[f])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,w&&r&&r.brave&&typeof r.brave.isBrave==o&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[y]=void 0,F.call(e,n,b.cpu),e},this.getDevice=function(){var e={};return e[h]=void 0,e[u]=void 0,e[p]=void 0,F.call(e,n,b.device),w&&!e[p]&&g&&g.mobile&&(e[p]=m),w&&"Macintosh"==e[u]&&r&&typeof r.standalone!==a&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[u]="iPad",e[p]=v),e},this.getEngine=function(){var e={};return e[d]=void 0,e[f]=void 0,F.call(e,n,b.engine),e},this.getOS=function(){var e={};return e[d]=void 0,e[f]=void 0,F.call(e,n,b.os),w&&!e[d]&&g&&"Unknown"!=g.platform&&(e[d]=g.platform.replace(/chrome os/i,L).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>350?V(e,350):e,this},this.setUA(n),this};if(Y.VERSION="1.0.35",Y.BROWSER=W([d,f,l]),Y.CPU=W([y]),Y.DEVICE=W([u,h,p,g,m,b,v,w,_]),Y.ENGINE=Y.OS=W([d,f]),typeof r!==a)t.exports&&(r=t.exports=Y),r.UAParser=Y;else if(typeof define===o&&define.amd)e.r,void 0!==Y&&e.v(Y);else typeof i!==a&&(i.UAParser=Y);var Q=typeof i!==a&&(i.jQuery||i.Zepto);if(Q&&!Q.ua){var Z=new Y;Q.ua=Z.getResult(),Q.ua.get=function(){return Z.getUA()},Q.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var r in t)Q.ua[r]=t[r]}}}(this)}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}},a=!0;try{i[e].call(r.exports,r,r.exports,o),a=!1}finally{a&&delete n[e]}return r.exports}o.ab="/ROOT/node_modules/next/dist/compiled/ua-parser-js/",t.exports=o(226)},60567,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,n={isBot:function(){return s},userAgent:function(){return l},userAgentFromString:function(){return c}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let a=(i=e.r(6992))&&i.__esModule?i:{default:i};function s(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function c(e){return{...(0,a.default)(e),isBot:void 0!==e&&s(e)}}function l({headers:e}){return c(e.get("user-agent")||void 0)}},98214,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"URLPattern",{enumerable:!0,get:function(){return i}});let i="u"<typeof URLPattern?void 0:URLPattern},66229,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"after",{enumerable:!0,get:function(){return n}});let i=e.r(56704);function n(e){let t=i.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:r}=t;return r.after(e)}},3368,(e,t,r)=>{"use strict";var i,n;Object.defineProperty(r,"__esModule",{value:!0}),i=e.r(66229),n=r,Object.keys(i).forEach(function(e){"default"===e||Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}})})},44822,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"connection",{enumerable:!0,get:function(){return l}});let i=e.r(56704),n=e.r(32319),o=e.r(21401),a=e.r(80773),s=e.r(37138),c=e.r(19048);function l(){let e=i.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,c.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside \`after()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but \`after()\` executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E827",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(e.dynamicShouldError)throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E847",enumerable:!1,configurable:!0});if(t)switch(t.type){case"cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E841",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,l),e.invalidDynamicUsageError??=t,t}case"private-cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache: private". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E837",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,l),e.invalidDynamicUsageError??=t,t}case"unstable-cache":throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside a function cached with \`unstable_cache()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E840",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-runtime":return(0,s.makeHangingPromise)(t.renderSignal,e.route,"`connection()`");case"prerender-ppr":return(0,o.postponeWithTracking)(e.route,"connection",t.dynamicTracking);case"prerender-legacy":return(0,o.throwToInterruptStaticGeneration)("connection",e,t);case"request":return(0,o.trackDynamicDataInDynamicRender)(t),Promise.resolve(void 0)}}(0,n.throwForMissingRequestStore)("connection")}e.r(98771)},55207,(e,t,r)=>{let i={NextRequest:e.r(75447).NextRequest,NextResponse:e.r(25472).NextResponse,ImageResponse:e.r(2075).ImageResponse,userAgentFromString:e.r(60567).userAgentFromString,userAgent:e.r(60567).userAgent,URLPattern:e.r(98214).URLPattern,after:e.r(3368).after,connection:e.r(44822).connection};t.exports=i,r.NextRequest=i.NextRequest,r.NextResponse=i.NextResponse,r.ImageResponse=i.ImageResponse,r.userAgentFromString=i.userAgentFromString,r.userAgent=i.userAgent,r.URLPattern=i.URLPattern,r.after=i.after,r.connection=i.connection},89997,e=>{"use strict";let t,r,i;async function n(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}let o=null;async function a(){if("phase-production-build"===process.env.NEXT_PHASE)return;o||(o=n());let e=await o;if(null==e?void 0:e.register)try{await e.register()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}async function s(...e){let t=await n();try{var r;await (null==t||null==(r=t.onRequestError)?void 0:r.call(t,...e))}catch(e){console.error("Error in instrumentation.onRequestError:",e)}}let c=null;class l extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class u extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class d extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let p="_N_T_",h={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function f(e){var t,r,i,n,o,a=[],s=0;function c(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,o=!1;c();)if(","===(r=e.charAt(s))){for(i=s,s+=1,c(),n=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(o=!0,s=n,a.push(e.substring(t,i)),t=s):s=i+1}else s+=1;(!o||s>=e.length)&&a.push(e.substring(t,e.length))}return a}function y(e){let t={},r=[];if(e)for(let[i,n]of e.entries())"set-cookie"===i.toLowerCase()?(r.push(...f(n)),t[i]=1===r.length?r[0]:r):t[i]=n;return t}function g(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...h,GROUP:{builtinReact:[h.reactServerComponents,h.actionBrowser],serverOnly:[h.reactServerComponents,h.actionBrowser,h.instrument,h.middleware],neutralTarget:[h.apiNode,h.apiEdge],clientOnly:[h.serverSideRendering,h.appPagesBrowser],bundled:[h.reactServerComponents,h.actionBrowser,h.serverSideRendering,h.appPagesBrowser,h.shared,h.instrument,h.middleware],appPages:[h.reactServerComponents,h.serverSideRendering,h.appPagesBrowser,h.actionBrowser]}});let m=Symbol("response"),v=Symbol("passThrough"),b=Symbol("waitUntil");class w{constructor(e,t){this[v]=!1,this[b]=t?{kind:"external",function:t}:{kind:"internal",promises:[]}}respondWith(e){this[m]||(this[m]=Promise.resolve(e))}passThroughOnException(){this[v]=!0}waitUntil(e){if("external"===this[b].kind)return(0,this[b].function)(e);this[b].promises.push(e)}}class _ extends w{constructor(e){var t;super(e.request,null==(t=e.context)?void 0:t.waitUntil),this.sourcePage=e.page}get request(){throw Object.defineProperty(new l({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new l({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function S(e){return e.replace(/\/$/,"")||"/"}function E(e){let t=e.indexOf("#"),r=e.indexOf("?"),i=r>-1&&(t<0||r<t);return i||t>-1?{pathname:e.substring(0,i?r:t),query:i?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function O(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:n}=E(e);return`${t}${r}${i}${n}`}function A(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:n}=E(e);return`${r}${t}${i}${n}`}function P(e,t){if("string"!=typeof e)return!1;let{pathname:r}=E(e);return r===t||r.startsWith(t+"/")}let k=new WeakMap;function x(e,t){let r;if(!t)return{pathname:e};let i=k.get(t);i||(i=t.map(e=>e.toLowerCase()),k.set(t,i));let n=e.split("/",2);if(!n[1])return{pathname:e};let o=n[1].toLowerCase(),a=i.indexOf(o);return a<0?{pathname:e}:(r=t[a],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}let R=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function C(e,t){return new URL(String(e).replace(R,"localhost"),t&&String(t).replace(R,"localhost"))}let j=Symbol("NextURLInternal");class I{constructor(e,t,r){let i,n;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,n=r||{}):n=r||t||{},this[j]={url:C(e,i??n.base),options:n,basePath:""},this.analyze()}analyze(){var e,t,r,i,n;let o=function(e,t){let{basePath:r,i18n:i,trailingSlash:n}=t.nextConfig??{},o={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):n};r&&P(o.pathname,r)&&(o.pathname=function(e,t){if(!P(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}(o.pathname,r),o.basePath=r);let a=o.pathname;if(o.pathname.startsWith("/_next/data/")&&o.pathname.endsWith(".json")){let e=o.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");o.buildId=e[0],a="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(o.pathname=a)}if(i){let e=t.i18nProvider?t.i18nProvider.analyze(o.pathname):x(o.pathname,i.locales);o.locale=e.detectedLocale,o.pathname=e.pathname??o.pathname,!e.detectedLocale&&o.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(a):x(a,i.locales)).detectedLocale&&(o.locale=e.detectedLocale)}return o}(this[j].url.pathname,{nextConfig:this[j].options.nextConfig,parseData:!0,i18nProvider:this[j].options.i18nProvider}),a=function(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[j].url,this[j].options.headers);this[j].domainLocale=this[j].options.i18nProvider?this[j].options.i18nProvider.detectDomainLocale(a):function(e,t,r){if(e){for(let i of(r&&(r=r.toLowerCase()),e))if(t===i.domain?.split(":",1)[0].toLowerCase()||r===i.defaultLocale.toLowerCase()||i.locales?.some(e=>e.toLowerCase()===r))return i}}(null==(t=this[j].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,a);let s=(null==(r=this[j].domainLocale)?void 0:r.defaultLocale)||(null==(n=this[j].options.nextConfig)||null==(i=n.i18n)?void 0:i.defaultLocale);this[j].url.pathname=o.pathname,this[j].defaultLocale=s,this[j].basePath=o.basePath??"",this[j].buildId=o.buildId,this[j].locale=o.locale??s,this[j].trailingSlash=o.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,i){if(!t||t===r)return e;let n=e.toLowerCase();return!i&&(P(n,"/api")||P(n,`/${t.toLowerCase()}`))?e:O(e,`/${t}`)}((e={basePath:this[j].basePath,buildId:this[j].buildId,defaultLocale:this[j].options.forceLocale?void 0:this[j].defaultLocale,locale:this[j].locale,pathname:this[j].url.pathname,trailingSlash:this[j].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=S(t)),e.buildId&&(t=A(O(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=O(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:A(t,"/"):S(t)}formatSearch(){return this[j].url.search}get buildId(){return this[j].buildId}set buildId(e){this[j].buildId=e}get locale(){return this[j].locale??""}set locale(e){var t,r;if(!this[j].locale||!(null==(r=this[j].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[j].locale=e}get defaultLocale(){return this[j].defaultLocale}get domainLocale(){return this[j].domainLocale}get searchParams(){return this[j].url.searchParams}get host(){return this[j].url.host}set host(e){this[j].url.host=e}get hostname(){return this[j].url.hostname}set hostname(e){this[j].url.hostname=e}get port(){return this[j].url.port}set port(e){this[j].url.port=e}get protocol(){return this[j].url.protocol}set protocol(e){this[j].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[j].url=C(e),this.analyze()}get origin(){return this[j].url.origin}get pathname(){return this[j].url.pathname}set pathname(e){this[j].url.pathname=e}get hash(){return this[j].url.hash}set hash(e){this[j].url.hash=e}get search(){return this[j].url.search}set search(e){this[j].url.search=e}get password(){return this[j].url.password}set password(e){this[j].url.password=e}get username(){return this[j].url.username}set username(e){this[j].url.username=e}get basePath(){return this[j].basePath}set basePath(e){this[j].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new I(String(this),this[j].options)}}var T,B,M,N,D,K,U,L,z,H,W,$,J,V,F,G,q,X,Y=e.i(9254);let Q=Symbol("internal request");class Z extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);g(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);const i=new I(r,{headers:y(this.headers),nextConfig:t.nextConfig});this[Q]={cookies:new Y.RequestCookies(this.headers),nextUrl:i,url:i.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[Q].cookies}get nextUrl(){return this[Q].nextUrl}get page(){throw new u}get ua(){throw new d}get url(){return this[Q].url}}class ee{static get(e,t,r){let i=Reflect.get(e,t,r);return"function"==typeof i?i.bind(e):i}static set(e,t,r,i){return Reflect.set(e,t,r,i)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}let et=Symbol("internal response"),er=new Set([301,302,303,307,308]);function ei(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[i,n]of e.request.headers)t.set("x-middleware-request-"+i,n),r.push(i);t.set("x-middleware-override-headers",r.join(","))}}class en extends Response{constructor(e,t={}){super(e,t);const r=this.headers,i=new Proxy(new Y.ResponseCookies(r),{get(e,i,n){switch(i){case"delete":case"set":return(...n)=>{let o=Reflect.apply(e[i],e,n),a=new Headers(r);return o instanceof Y.ResponseCookies&&r.set("x-middleware-set-cookie",o.getAll().map(e=>(0,Y.stringifyCookie)(e)).join(",")),ei(t,a),o};default:return ee.get(e,i,n)}}});this[et]={cookies:i,url:t.url?new I(t.url,{headers:y(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[et].cookies}static json(e,t){let r=Response.json(e,t);return new en(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!er.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let i="object"==typeof t?t:{},n=new Headers(null==i?void 0:i.headers);return n.set("Location",g(e)),new en(null,{...i,headers:n,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",g(e)),ei(t,r),new en(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),ei(e,t),new en(null,{...e,headers:t})}}function eo(e,t){let r="string"==typeof t?new URL(t):t,i=new URL(e,t),n=i.origin===r.origin;return{url:n?i.toString().slice(r.origin.length):i.toString(),isRelative:n}}let ea="next-router-prefetch",es=["rsc","next-router-state-tree",ea,"next-hmr-refresh","next-router-segment-prefetch"],ec="_rsc";class el extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new el}}class eu extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return ee.get(t,r,i);let n=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===n);if(void 0!==o)return ee.get(t,o,i)},set(t,r,i,n){if("symbol"==typeof r)return ee.set(t,r,i,n);let o=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===o);return ee.set(t,a??r,i,n)},has(t,r){if("symbol"==typeof r)return ee.has(t,r);let i=r.toLowerCase(),n=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==n&&ee.has(t,n)},deleteProperty(t,r){if("symbol"==typeof r)return ee.deleteProperty(t,r);let i=r.toLowerCase(),n=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===n||ee.deleteProperty(t,n)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return el.callable;default:return ee.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new eu(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,i]of this.entries())e.call(t,i,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}var ed=e.i(56704);class ep extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new ep}}class eh{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return ep.callable;default:return ee.get(e,t,r)}}})}}let ef=Symbol.for("next.mutated.cookies");class ey{static wrap(e,t){let r=new Y.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let i=[],n=new Set,o=()=>{let e=ed.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=1),i=r.getAll().filter(e=>n.has(e.name)),t){let e=[];for(let t of i){let r=new Y.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},a=new Proxy(r,{get(e,t,r){switch(t){case ef:return i;case"delete":return function(...t){n.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),a}finally{o()}};case"set":return function(...t){n.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),a}finally{o()}};default:return ee.get(e,t,r)}}});return a}}function eg(e,t){if("action"!==e.phase)throw new ep}var em=((M=em||{}).handleRequest="BaseServer.handleRequest",M.run="BaseServer.run",M.pipe="BaseServer.pipe",M.getStaticHTML="BaseServer.getStaticHTML",M.render="BaseServer.render",M.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",M.renderToResponse="BaseServer.renderToResponse",M.renderToHTML="BaseServer.renderToHTML",M.renderError="BaseServer.renderError",M.renderErrorToResponse="BaseServer.renderErrorToResponse",M.renderErrorToHTML="BaseServer.renderErrorToHTML",M.render404="BaseServer.render404",M),ev=((N=ev||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",N.loadComponents="LoadComponents.loadComponents",N),eb=((D=eb||{}).getRequestHandler="NextServer.getRequestHandler",D.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",D.getServer="NextServer.getServer",D.getServerRequestHandler="NextServer.getServerRequestHandler",D.createServer="createServer.createServer",D),ew=((K=ew||{}).compression="NextNodeServer.compression",K.getBuildId="NextNodeServer.getBuildId",K.createComponentTree="NextNodeServer.createComponentTree",K.clientComponentLoading="NextNodeServer.clientComponentLoading",K.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",K.generateStaticRoutes="NextNodeServer.generateStaticRoutes",K.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",K.generatePublicRoutes="NextNodeServer.generatePublicRoutes",K.generateImageRoutes="NextNodeServer.generateImageRoutes.route",K.sendRenderResult="NextNodeServer.sendRenderResult",K.proxyRequest="NextNodeServer.proxyRequest",K.runApi="NextNodeServer.runApi",K.render="NextNodeServer.render",K.renderHTML="NextNodeServer.renderHTML",K.imageOptimizer="NextNodeServer.imageOptimizer",K.getPagePath="NextNodeServer.getPagePath",K.getRoutesManifest="NextNodeServer.getRoutesManifest",K.findPageComponents="NextNodeServer.findPageComponents",K.getFontManifest="NextNodeServer.getFontManifest",K.getServerComponentManifest="NextNodeServer.getServerComponentManifest",K.getRequestHandler="NextNodeServer.getRequestHandler",K.renderToHTML="NextNodeServer.renderToHTML",K.renderError="NextNodeServer.renderError",K.renderErrorToHTML="NextNodeServer.renderErrorToHTML",K.render404="NextNodeServer.render404",K.startResponse="NextNodeServer.startResponse",K.route="route",K.onProxyReq="onProxyReq",K.apiResolver="apiResolver",K.internalFetch="internalFetch",K),e_=((U=e_||{}).startServer="startServer.startServer",U),eS=((L=eS||{}).getServerSideProps="Render.getServerSideProps",L.getStaticProps="Render.getStaticProps",L.renderToString="Render.renderToString",L.renderDocument="Render.renderDocument",L.createBodyResult="Render.createBodyResult",L),eE=((z=eE||{}).renderToString="AppRender.renderToString",z.renderToReadableStream="AppRender.renderToReadableStream",z.getBodyResult="AppRender.getBodyResult",z.fetch="AppRender.fetch",z),eO=((H=eO||{}).executeRoute="Router.executeRoute",H),eA=((W=eA||{}).runHandler="Node.runHandler",W),eP=(($=eP||{}).runHandler="AppRouteRouteHandlers.runHandler",$),ek=((J=ek||{}).generateMetadata="ResolveMetadata.generateMetadata",J.generateViewport="ResolveMetadata.generateViewport",J),ex=((V=ex||{}).execute="Middleware.execute",V);let eR=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),eC=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]);function ej(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}let eI=process.env.NEXT_OTEL_PERFORMANCE_PREFIX;try{t=e.r(70406)}catch(r){t=e.r(31387)}let{context:eT,propagation:eB,trace:eM,SpanStatusCode:eN,SpanKind:eD,ROOT_CONTEXT:eK}=t;class eU extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let eL=(e,t)=>{"object"==typeof t&&null!==t&&t instanceof eU&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:eN.ERROR,message:null==t?void 0:t.message})),e.end()},ez=new Map,eH=t.createContextKey("next.rootSpanId"),eW=0,e$={set(e,t,r){e.push({key:t,value:r})}},eJ=(i=new class e{getTracerInstance(){return eM.getTracer("next.js","0.0.1")}getContext(){return eT}getTracePropagationData(){let e=eT.active(),t=[];return eB.inject(e,t,e$),t}getActiveScopeSpan(){return eM.getSpan(null==eT?void 0:eT.active())}withPropagatedContext(e,t,r){let i=eT.active();if(eM.getSpanContext(i))return t();let n=eB.extract(i,e,r);return eT.with(n,t)}trace(...e){let[t,r,i]=e,{fn:n,options:o}="function"==typeof r?{fn:r,options:{}}:{fn:i,options:{...r}},a=o.spanName??t;if(!eR.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||o.hideSpan)return n();let s=this.getSpanContext((null==o?void 0:o.parentSpan)??this.getActiveScopeSpan());s||(s=(null==eT?void 0:eT.active())??eK);let c=s.getValue(eH),l="number"!=typeof c||!ez.has(c),u=eW++;return o.attributes={"next.span_name":a,"next.span_type":t,...o.attributes},eT.with(s.setValue(eH,u),()=>this.getTracerInstance().startActiveSpan(a,o,e=>{let r;eI&&t&&eC.has(t)&&(r="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let i=!1,a=()=>{!i&&(i=!0,ez.delete(u),r&&performance.measure(`${eI}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:r,end:performance.now()}))};if(l&&ez.set(u,new Map(Object.entries(o.attributes??{}))),n.length>1)try{return n(e,t=>eL(e,t))}catch(t){throw eL(e,t),t}finally{a()}try{let t=n(e);if(ej(t))return t.then(t=>(e.end(),t)).catch(t=>{throw eL(e,t),t}).finally(a);return e.end(),a(),t}catch(t){throw eL(e,t),a(),t}}))}wrap(...e){let t=this,[r,i,n]=3===e.length?e:[e[0],{},e[1]];return eR.has(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=i;"function"==typeof e&&"function"==typeof n&&(e=e.apply(this,arguments));let o=arguments.length-1,a=arguments[o];if("function"!=typeof a)return t.trace(r,e,()=>n.apply(this,arguments));{let i=t.getContext().bind(eT.active(),a);return t.trace(r,e,(e,t)=>(arguments[o]=function(e){return null==t||t(e),i.apply(this,arguments)},n.apply(this,arguments)))}}:n}startSpan(...e){let[t,r]=e,i=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,i)}getSpanContext(e){return e?eM.setSpan(eT.active(),e):void 0}getRootSpanAttributes(){let e=eT.active().getValue(eH);return ez.get(e)}setRootSpanAttribute(e,t){let r=eT.active().getValue(eH),i=ez.get(r);i&&!i.has(e)&&i.set(e,t)}withSpan(e,t){let r=eM.setSpan(eT.active(),e);return eT.with(r,t)}},()=>i),eV="__prerender_bypass";Symbol("__next_preview_data"),Symbol(eV);class eF{constructor(e,t,r,i){var n;const o=e&&function(e,t){let r=eu.from(e.headers);return{isOnDemandRevalidate:r.get("x-prerender-revalidate")===t.previewModeId,revalidateOnlyGenerated:r.has("x-prerender-revalidate-if-generated")}}(t,e).isOnDemandRevalidate,a=null==(n=r.get(eV))?void 0:n.value;this._isEnabled=!!(!o&&a&&e&&a===e.previewModeId),this._previewModeId=null==e?void 0:e.previewModeId,this._mutableCookies=i}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:eV,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:eV,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function eG(e,t){if("x-middleware-set-cookie"in e.headers&&"string"==typeof e.headers["x-middleware-set-cookie"]){let r=e.headers["x-middleware-set-cookie"],i=new Headers;for(let e of f(r))i.append("set-cookie",e);for(let e of new Y.ResponseCookies(i).getAll())t.set(e)}}var eq=e.i(32319),eX=e.i(47413);class eY extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}e.i(51187),process.env.NEXT_PRIVATE_DEBUG_CACHE,Symbol.for("@next/cache-handlers");let eQ=Symbol.for("@next/cache-handlers-map"),eZ=Symbol.for("@next/cache-handlers-set"),e0=globalThis;function e1(){if(e0[eQ])return e0[eQ].entries()}async function e2(e,t){if(!e)return t();let r=e8(e);try{return await t()}finally{var i,n;let t,o,a=(i=r,n=e8(e),t=new Set(i.pendingRevalidatedTags.map(e=>{let t="object"==typeof e.profile?JSON.stringify(e.profile):e.profile||"";return`${e.tag}:${t}`})),o=new Set(i.pendingRevalidateWrites),{pendingRevalidatedTags:n.pendingRevalidatedTags.filter(e=>{let r="object"==typeof e.profile?JSON.stringify(e.profile):e.profile||"";return!t.has(`${e.tag}:${r}`)}),pendingRevalidates:Object.fromEntries(Object.entries(n.pendingRevalidates).filter(([e])=>!(e in i.pendingRevalidates))),pendingRevalidateWrites:n.pendingRevalidateWrites.filter(e=>!o.has(e))});await e6(e,a)}}function e8(e){return{pendingRevalidatedTags:e.pendingRevalidatedTags?[...e.pendingRevalidatedTags]:[],pendingRevalidates:{...e.pendingRevalidates},pendingRevalidateWrites:e.pendingRevalidateWrites?[...e.pendingRevalidateWrites]:[]}}async function e3(e,t,r){if(0===e.length)return;let i=function(){if(e0[eZ])return e0[eZ].values()}(),n=[],o=new Map;for(let t of e){let e,r=t.profile;for(let[t]of o)if("string"==typeof t&&"string"==typeof r&&t===r||"object"==typeof t&&"object"==typeof r&&JSON.stringify(t)===JSON.stringify(r)||t===r){e=t;break}let i=e||r;o.has(i)||o.set(i,[]),o.get(i).push(t.tag)}for(let[e,s]of o){let o;if(e){let t;if("object"==typeof e)t=e;else if("string"==typeof e){var a;if(!(t=null==r||null==(a=r.cacheLifeProfiles)?void 0:a[e]))throw Object.defineProperty(Error(`Invalid profile provided "${e}" must be configured under cacheLife in next.config or be "max"`),"__NEXT_ERROR_CODE",{value:"E873",enumerable:!1,configurable:!0})}t&&(o={expire:t.expire})}for(let t of i||[])e?n.push(null==t.updateTags?void 0:t.updateTags.call(t,s,o)):n.push(null==t.updateTags?void 0:t.updateTags.call(t,s));t&&n.push(t.revalidateTag(s,o))}await Promise.all(n)}async function e6(e,t){let r=(null==t?void 0:t.pendingRevalidatedTags)??e.pendingRevalidatedTags??[],i=(null==t?void 0:t.pendingRevalidates)??e.pendingRevalidates??{},n=(null==t?void 0:t.pendingRevalidateWrites)??e.pendingRevalidateWrites??[];return Promise.all([e3(r,e.incrementalCache,e),...Object.values(i),...n])}let e5=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class e4{disable(){throw e5}getStore(){}run(){throw e5}exit(){throw e5}enterWith(){throw e5}static bind(e){return e}}let e9="u">typeof globalThis&&globalThis.AsyncLocalStorage;var e7=e.i(24725);class te{constructor({waitUntil:e,onClose:t,onTaskError:r}){this.workUnitStores=new Set,this.waitUntil=e,this.onClose=t,this.onTaskError=r,this.callbackQueue=new eX.default,this.callbackQueue.pause()}after(e){if(ej(e))this.waitUntil||tt(),this.waitUntil(e.catch(e=>this.reportTaskError("promise",e)));else if("function"==typeof e)this.addCallback(e);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(e){var t;this.waitUntil||tt();let r=eq.workUnitAsyncStorage.getStore();r&&this.workUnitStores.add(r);let i=e7.afterTaskAsyncStorage.getStore(),n=i?i.rootTaskSpawnPhase:null==r?void 0:r.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let o=(t=async()=>{try{await e7.afterTaskAsyncStorage.run({rootTaskSpawnPhase:n},()=>e())}catch(e){this.reportTaskError("function",e)}},e9?e9.bind(t):e4.bind(t));this.callbackQueue.add(o)}async runCallbacksOnClose(){return await new Promise(e=>this.onClose(e)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let e of this.workUnitStores)e.phase="after";let e=ed.workAsyncStorage.getStore();if(!e)throw Object.defineProperty(new eY("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return e2(e,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(e,t){if(console.error("promise"===e?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",t),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,t)}catch(e){console.error(Object.defineProperty(new eY("`onTaskError` threw while handling an error thrown from an `after` task",{cause:e}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function tt(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function tr(e){let t,r={then:(i,n)=>(t||(t=Promise.resolve(e())),t.then(e=>{r.value=e}).catch(()=>{}),t.then(i,n))};return r}class ti{onClose(e){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",e),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function tn(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let to=Symbol.for("@next/request-context");async function ta(e,t,r){let i=new Set;for(let t of(e=>{let t=["/layout"];if(e.startsWith("/")){let r=e.split("/");for(let e=1;e<r.length+1;e++){let i=r.slice(0,e).join("/");i&&(i.endsWith("/page")||i.endsWith("/route")||(i=`${i}${!i.endsWith("/")?"/":""}layout`),t.push(i))}}return t})(e))t=`${p}${t}`,i.add(t);if(t.pathname&&(!r||0===r.size)){let e=`${p}${t.pathname}`;i.add(e)}i.has(`${p}/`)&&i.add(`${p}/index`),i.has(`${p}/index`)&&i.add(`${p}/`);let n=Array.from(i);return{tags:n,expirationsByCacheKind:function(e){let t=new Map,r=e1();if(r)for(let[i,n]of r)"getExpiration"in n&&t.set(i,tr(async()=>n.getExpiration(e)));return t}(n)}}class ts extends Z{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw Object.defineProperty(new l({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new l({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new l({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let tc={keys:e=>Array.from(e.keys()),get:(e,t)=>e.get(t)??void 0},tl=(e,t)=>eJ().withPropagatedContext(e.headers,t,tc),tu=!1;async function td(t){var r,i,n,o;let s,l,u,d,p;!function(){if(!tu&&(tu=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:t,wrapRequestHandler:r}=e.r(72103);t(),tl=r(tl)}}(),await (!c&&(c=a()),c);let h=void 0!==globalThis.__BUILD_MANIFEST;t.request.url=t.request.url.replace(/\.rsc($|\?)/,"$1");let f=t.bypassNextUrl?new URL(t.request.url):new I(t.request.url,{headers:t.request.headers,nextConfig:t.request.nextConfig});for(let e of[...f.searchParams.keys()]){let t=f.searchParams.getAll(e),r=function(e){for(let t of["nxtP","nxtI"])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}(e);if(r){for(let e of(f.searchParams.delete(r),t))f.searchParams.append(r,e);f.searchParams.delete(e)}}let y=process.env.__NEXT_BUILD_ID||"";"buildId"in f&&(y=f.buildId||"",f.buildId="");let g=function(e){let t=new Headers;for(let[r,i]of Object.entries(e))for(let e of Array.isArray(i)?i:[i])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}(t.request.headers),m=g.has("x-nextjs-data"),v="1"===g.get("rsc");m&&"/index"===f.pathname&&(f.pathname="/");let w=new Map;if(!h)for(let e of es){let t=g.get(e);null!==t&&(w.set(e,t),g.delete(e))}let S=f.searchParams.get(ec),E=new ts({page:t.page,input:((d=(u="string"==typeof f)?new URL(f):f).searchParams.delete(ec),u?d.toString():d).toString(),init:{body:t.request.body,headers:g,method:t.request.method,nextConfig:t.request.nextConfig,signal:t.request.signal}});m&&Object.defineProperty(E,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&t.IncrementalCache&&(globalThis.__incrementalCache=new t.IncrementalCache({CurCacheHandler:t.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:t.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:tn()})}));let O=t.request.waitUntil??(null==(r=null==(p=globalThis[to])?void 0:p.get())?void 0:r.waitUntil),A=new _({request:E,page:t.page,context:O?{waitUntil:O}:void 0});if((s=await tl(E,()=>{if("/middleware"===t.page||"/src/middleware"===t.page||"/proxy"===t.page||"/src/proxy"===t.page){let e=A.waitUntil.bind(A),r=new ti;return eJ().trace(ex.execute,{spanName:`middleware ${E.method}`,attributes:{"http.target":E.nextUrl.pathname,"http.method":E.method}},async()=>{try{var i,n,o,a,s,c;let u=tn(),d=await ta("/",E.nextUrl,null),p=(s=E.nextUrl,c=e=>{l=e},function(e,t,r,i,n,o,a,s,c,l,u,d){function p(e){r&&r.setHeader("Set-Cookie",e)}let h={};return{type:"request",phase:e,implicitTags:o,url:{pathname:i.pathname,search:i.search??""},rootParams:n,get headers(){return h.headers||(h.headers=function(e){let t=eu.from(e);for(let e of es)t.delete(e);return eu.seal(t)}(t.headers)),h.headers},get cookies(){if(!h.cookies){let e=new Y.RequestCookies(eu.from(t.headers));eG(t,e),h.cookies=eh.seal(e)}return h.cookies},set cookies(value){h.cookies=value},get mutableCookies(){if(!h.mutableCookies){var f,y;let e,i=(f=t.headers,y=a||(r?p:void 0),e=new Y.RequestCookies(eu.from(f)),ey.wrap(e,y));eG(t,i),h.mutableCookies=i}return h.mutableCookies},get userspaceMutableCookies(){if(!h.userspaceMutableCookies){var g;let e;g=this,h.userspaceMutableCookies=e=new Proxy(g.mutableCookies,{get(t,r,i){switch(r){case"delete":return function(...r){return eg(g,"cookies().delete"),t.delete(...r),e};case"set":return function(...r){return eg(g,"cookies().set"),t.set(...r),e};default:return ee.get(t,r,i)}}})}return h.userspaceMutableCookies},get draftMode(){return h.draftMode||(h.draftMode=new eF(c,t,this.cookies,this.mutableCookies)),h.draftMode},renderResumeDataCache:null,isHmrRefresh:l,serverComponentsHmrCache:u||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",E,void 0,s,{},d,c,null,u,!1,void 0,null)),h=function({page:e,renderOpts:t,isPrefetchRequest:r,buildId:i,previouslyRevalidatedTags:n,nonce:o}){var a;let s=!t.shouldWaitOnAllReady&&!t.supportsDynamicResponse&&!t.isDraftMode&&!t.isPossibleServerAction,c=t.dev??!1,l=c||s&&(!!process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS),u={isStaticGeneration:s,page:e,route:(a=e.split("/").reduce((e,t,r,i)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&r===i.length-1?e:`${e}/${t}`:e,"")).startsWith("/")?a:`/${a}`,incrementalCache:t.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:t.cacheLifeProfiles,isBuildTimePrerendering:t.nextExport,hasReadableErrorStacks:t.hasReadableErrorStacks,fetchCache:t.fetchCache,isOnDemandRevalidate:t.isOnDemandRevalidate,isDraftMode:t.isDraftMode,isPrefetchRequest:r,buildId:i,reactLoadableManifest:(null==t?void 0:t.reactLoadableManifest)||{},assetPrefix:(null==t?void 0:t.assetPrefix)||"",nonce:o,afterContext:function(e){let{waitUntil:t,onClose:r,onAfterTaskError:i}=e;return new te({waitUntil:t,onClose:r,onTaskError:i})}(t),cacheComponentsEnabled:t.cacheComponents,dev:c,previouslyRevalidatedTags:n,refreshTagsByCacheKind:function(){let e=new Map,t=e1();if(t)for(let[r,i]of t)"refreshTags"in i&&e.set(r,tr(async()=>i.refreshTags()));return e}(),runInCleanSnapshot:e9?e9.snapshot():function(e,...t){return e(...t)},shouldTrackFetchMetrics:l,reactServerErrorsByDigest:new Map};return t.store=u,u}({page:"/",renderOpts:{cacheLifeProfiles:null==(n=t.request.nextConfig)||null==(i=n.experimental)?void 0:i.cacheLife,cacheComponents:!1,experimental:{isRoutePPREnabled:!1,authInterrupts:!!(null==(a=t.request.nextConfig)||null==(o=a.experimental)?void 0:o.authInterrupts)},supportsDynamicResponse:!0,waitUntil:e,onClose:r.onClose.bind(r),onAfterTaskError:void 0},isPrefetchRequest:"1"===E.headers.get(ea),buildId:y??"",previouslyRevalidatedTags:[]});return await ed.workAsyncStorage.run(h,()=>eq.workUnitAsyncStorage.run(p,t.handler,E,A))}finally{setTimeout(()=>{r.dispatchClose()},0)}})}return t.handler(E,A)}))&&!(s instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});s&&l&&s.headers.set("set-cookie",l);let P=null==s?void 0:s.headers.get("x-middleware-rewrite");if(s&&P&&(v||!h)){let e=new I(P,{forceLocale:!0,headers:t.request.headers,nextConfig:t.request.nextConfig});h||e.host!==E.nextUrl.host||(e.buildId=y||e.buildId,s.headers.set("x-middleware-rewrite",String(e)));let{url:r,isRelative:a}=eo(e.toString(),f.toString());!h&&m&&s.headers.set("x-nextjs-rewrite",r);let c=!a&&(null==(o=t.request.nextConfig)||null==(n=o.experimental)||null==(i=n.clientParamParsingOrigins)?void 0:i.some(t=>new RegExp(t).test(e.origin)));v&&(a||c)&&(f.pathname!==e.pathname&&s.headers.set("x-nextjs-rewritten-path",e.pathname),f.search!==e.search&&s.headers.set("x-nextjs-rewritten-query",e.search.slice(1)))}if(s&&P&&v&&S){let e=new URL(P);e.searchParams.has(ec)||(e.searchParams.set(ec,S),s.headers.set("x-middleware-rewrite",e.toString()))}let k=null==s?void 0:s.headers.get("Location");if(s&&k&&!h){let e=new I(k,{forceLocale:!1,headers:t.request.headers,nextConfig:t.request.nextConfig});s=new Response(s.body,s),e.host===f.host&&(e.buildId=y||e.buildId,s.headers.set("Location",eo(e,f).url)),m&&(s.headers.delete("Location"),s.headers.set("x-nextjs-redirect",eo(e.toString(),f.toString()).url))}let x=s||en.next(),R=x.headers.get("x-middleware-override-headers"),C=[];if(R){for(let[e,t]of w)x.headers.set(`x-middleware-request-${e}`,t),C.push(e);C.length>0&&x.headers.set("x-middleware-override-headers",R+","+C.join(","))}return{response:x,waitUntil:("internal"===A[b].kind?Promise.all(A[b].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:E.fetchMetrics}}var tp=e.i(35231),th={},tf=Array.from({length:64});for(let e=0;e+65<=90;e++){let t=String.fromCharCode(e+65);th[t]=e,tf[e]=t}for(let e=0;e+97<=122;e++){let t=String.fromCharCode(e+97),r=e+26;th[t]=r,tf[r]=t}for(let e=0;e<10;e++){th[e.toString(10)]=e+52;let t=e.toString(10),r=e+52;th[t]=r,tf[r]=t}th["-"]=62,tf[62]="-",th._=63,tf[63]="_";var ty=e=>new TextEncoder().encode(e),tg=e=>{let t=e+"=".repeat((4-e.length%4)%4),r=t.length/4*3;t.endsWith("==")?r-=2:t.endsWith("=")&&r--;let i=new ArrayBuffer(r),n=new DataView(i);for(let e=0;e<t.length;e+=4){let r=0,i=0;for(let n=e,o=e+3;n<=o;n++)if("="===t[n])r>>=6;else{if(!(t[n]in th))throw TypeError(`Invalid character ${t[n]} in base64 string.`);r|=th[t[n]]<<(o-n)*6,i+=6}let o=e/4*3;r>>=i%8;let a=Math.floor(i/8);for(let e=0;e<a;e++){let t=(a-e-1)*8;n.setUint8(o+e,(r&255<<t)>>t)}}return new Uint8Array(i)},tm=e=>{let t="string"==typeof e?ty(e):e,r="";for(let e=0;e<t.length;e+=3){let i=0,n=0;for(let r=e,o=Math.min(e+3,t.length);r<o;r++)i|=t[r]<<(o-r-1)*8,n+=8;let o=Math.ceil(n/6);i<<=6*o-n;for(let e=1;e<=o;e++){let t=(o-e)*6;r+=tf[(i&63<<t)>>t]}}return r},tv={encryption:{saltBits:256,algorithm:"aes-256-cbc",iterations:1,minPasswordlength:32},integrity:{saltBits:256,algorithm:"sha256",iterations:1,minPasswordlength:32},ttl:0,timestampSkewSec:60,localtimeOffsetMsec:0},tb=e=>({...e,encryption:{...e.encryption},integrity:{...e.integrity}}),tw={"aes-128-ctr":{keyBits:128,ivBits:128,name:"AES-CTR"},"aes-256-cbc":{keyBits:256,ivBits:128,name:"AES-CBC"},sha256:{keyBits:256,name:"SHA-256"}},t_="Fe26.2",tS=(e,t)=>{let r;if(t<1)throw Error("Invalid random bits count");return r=new Uint8Array(Math.ceil(t/8)),e.getRandomValues(r),r},tE=async(e,t,r,i,n,o)=>{let a=ty(t),s=await e.subtle.importKey("raw",a,{name:"PBKDF2"},!1,["deriveBits"]),c=ty(r);return await e.subtle.deriveBits({name:"PBKDF2",hash:o,salt:c,iterations:i},s,8*n)},tO=async(e,t,r)=>{var i;if(!(null==t?void 0:t.length))throw Error("Empty password");if(null==r||"object"!=typeof r)throw Error("Bad options");if(!(r.algorithm in tw))throw Error(`Unknown algorithm: ${r.algorithm}`);let n=tw[r.algorithm],o={},a=null!=(i=r.hmac)&&i,s=a?{name:"HMAC",hash:n.name}:{name:n.name},c=a?["sign","verify"]:["encrypt","decrypt"];if("string"==typeof t){if(t.length<r.minPasswordlength)throw Error(`Password string too short (min ${r.minPasswordlength} characters required)`);let{salt:i=""}=r;if(!i){let{saltBits:t=0}=r;if(!t)throw Error("Missing salt and saltBits options");i=[...new Uint8Array(tS(e,t))].map(e=>e.toString(16).padStart(2,"0")).join("")}let a=await tE(e,t,i,r.iterations,n.keyBits/8,"SHA-1");o.key=await e.subtle.importKey("raw",a,s,!1,c),o.salt=i}else{if(t.length<n.keyBits/8)throw Error("Key buffer (password) too small");o.key=await e.subtle.importKey("raw",t,s,!1,c),o.salt=""}return r.iv?o.iv=r.iv:"ivBits"in n&&(o.iv=tS(e,n.ivBits)),o},tA=(e,t,r)=>["aes-128-ctr"===e?{name:"AES-CTR",counter:t.iv,length:128}:{name:"AES-CBC",iv:t.iv},t.key,"string"==typeof r?ty(r):r],tP=async(e,t,r,i)=>{let n=await tO(e,t,r);return{encrypted:new Uint8Array(await e.subtle.encrypt(...tA(r.algorithm,n,i))),key:n}},tk=async(e,t,r,i)=>{let n,o=await tO(e,t,r);return n=new Uint8Array(await e.subtle.decrypt(...tA(r.algorithm,o,i))),new TextDecoder().decode(n)},tx=async(e,t,r,i)=>{let n=await tO(e,t,{...r,hmac:!0}),o=ty(i);return{digest:tm(new Uint8Array(await e.subtle.sign({name:"HMAC"},n.key,o))),salt:n.salt}},tR=e=>"string"==typeof e||e instanceof Uint8Array?{encryption:e,integrity:e}:"secret"in e?{id:e.id,encryption:e.secret,integrity:e.secret}:{id:e.id,encryption:e.encryption,integrity:e.integrity},tC=async(e,t,r,i)=>{if(!r)throw Error("Empty password");let n=tb(i),o=Date.now()+(n.localtimeOffsetMsec||0),a=JSON.stringify(t),{id:s="",encryption:c,integrity:l}=tR(r);if(s&&!/^\w+$/.test(s))throw Error("Invalid password id");let{encrypted:u,key:d}=await tP(e,c,n.encryption,a),p=tm(new Uint8Array(u)),h=tm(d.iv),f=n.ttl?o+n.ttl:"",y=`${t_}*${s}*${d.salt}*${h}*${p}*${f}`,g=await tx(e,l,n.integrity,y);return`${y}*${g.salt}*${g.digest}`},tj=async(e,t,r,i)=>{if(!r)throw Error("Empty password");let n=tb(i),o=Date.now()+(n.localtimeOffsetMsec||0),a=t.split("*");if(8!==a.length)throw Error("Incorrect number of sealed components");let s=a[0],c=a[1],l=a[2],u=a[3],d=a[4],p=a[5],h=a[6],f=a[7],y=`${s}*${c}*${l}*${u}*${d}*${p}`;if(t_!==s)throw Error("Wrong mac prefix");if(p){if(!/^\d+$/.test(p))throw Error("Invalid expiration");if(Number.parseInt(p,10)<=o-1e3*n.timestampSkewSec)throw Error("Expired seal")}let g="";if(c=c||"default","string"==typeof r||r instanceof Uint8Array)g=r;else if(c in r)g=r[c];else throw Error(`Cannot find password: ${c}`);g=tR(g);let m=n.integrity;if(m.salt=h,!((e,t)=>{let r=+(e.length!==t.length);r&&(t=e);for(let i=0;i<e.length;i+=1)r|=e.charCodeAt(i)^t.charCodeAt(i);return 0===r})((await tx(e,g.integrity,m,y)).digest,f))throw Error("Bad hmac value");let v=tg(d),b=n.encryption;b.salt=l,b.iv=tg(u);let w=await tk(e,g.encryption,b,v);return w?JSON.parse(w):null},tI=e.i(66680);let tT=tI.default.webcrypto?.subtle||{},tB=()=>tI.default.randomUUID(),tM=e=>tI.default.webcrypto.getRandomValues(e),tN={randomUUID:tB,getRandomValues:tM,subtle:tT};e.s(["default",()=>tN,"getRandomValues",()=>tM,"randomUUID",()=>tB,"subtle",()=>tT],14097);var tD=e.i(14097),tK={ttl:1209600,cookieOptions:{httpOnly:!0,secure:!0,sameSite:"lax",path:"/"}};function tU(e){return"string"==typeof e?{1:e}:e}var tL=async function(e,{password:t,ttl:r=1209600}){let i=tU(t),n=Math.max(...Object.keys(i).map(Number)),o={id:n.toString(),secret:i[n]},a=await tC(tD,e,o,{...tv,ttl:1e3*r});return`${a}~2`},tz=async function(e,{password:t,ttl:r=1209600}){let i=tU(t),{sealWithoutVersion:n,tokenVersion:o}=function(e){let[t,r]=e.split("~");return{sealWithoutVersion:t,tokenVersion:null==r?null:parseInt(r,10)}}(e);try{let e=await tj(tD,n,i,{...tv,ttl:1e3*r})??{};if(2===o)return e;return{...e.persistent}}catch(e){if(e instanceof Error&&/^(Expired seal|Bad hmac value|Cannot find password|Incorrect number of sealed components)/.test(e.message))return{};throw e}};T=tL,B=tz;var tH=e.i(47299),tW=e.i(43698),t$=e.i(87769);class tJ extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class tV extends tJ{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class tF extends tJ{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class tG extends tJ{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class tq extends tJ{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class tX extends tJ{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class tY extends tJ{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class tQ extends tJ{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class tZ extends tJ{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t)}}class t0 extends tJ{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}class t1 extends tJ{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(e="request timed out",t){super(e,t)}}class t2 extends tJ{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",t){super(e,t)}}let t8=new TextEncoder,t3=new TextDecoder;function t6(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let i of e)t.set(i,r),r+=i.length;return t}let t5=async(e,t,r)=>{let i;switch(e.protocol){case"https:":i=tW.get;break;case"http:":i=tH.get;break;default:throw TypeError("Unsupported URL protocol.")}let{agent:n,headers:o}=r,a=i(e.href,{agent:n,timeout:t,headers:o}),[s]=await Promise.race([(0,t$.once)(a,"response"),(0,t$.once)(a,"timeout")]);if(!s)throw a.destroy(),new t1;if(200!==s.statusCode)throw new tJ("Expected 200 OK from the JSON Web Key Set HTTP response");let c=[];for await(let e of s)c.push(e);try{return JSON.parse(t3.decode(t6(...c)))}catch{throw new tJ("Failed to parse the JSON Web Key Set HTTP response as JSON")}};var t4=e.i(51615);let t9=e=>{let t;return new Uint8Array(t4.Buffer.from(((t=e)instanceof Uint8Array&&(t=t3.decode(t)),t),"base64url"))};function t7(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}async function re(e,t){if(!t7(e))throw TypeError("JWK must be an object");switch(t||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return t9(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new tq('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":var r;return(r={...e,alg:t}).d?(0,tI.createPrivateKey)({format:"jwk",key:r}):(0,tI.createPublicKey)({format:"jwk",key:r});default:throw new tq('Unsupported "kty" (Key Type) Parameter value')}}function rt(e){return t7(e)}function rr(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}class ri{_jwks;_cached=new WeakMap;constructor(e){if(!function(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(rt)}(e))throw new tQ("JSON Web Key Set malformed");this._jwks=rr(e)}async getKey(e,t){let{alg:r,kid:i}={...e,...t?.header},n=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new tq('Unsupported "alg" value for a JSON Web Key Set')}}(r),o=this._jwks.keys.filter(e=>{let t=n===e.kty;if(t&&"string"==typeof i&&(t=i===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv;break;case"Ed25519":t="Ed25519"===e.crv;break;case"EdDSA":t="Ed25519"===e.crv||"Ed448"===e.crv}return t}),{0:a,length:s}=o;if(0===s)throw new tZ;if(1!==s){let e=new t0,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of o)try{yield await rn(t,e,r)}catch{}},e}return rn(this._cached,a,r)}}async function rn(e,t,r){let i=e.get(t)||e.set(t,{}).get(t);if(void 0===i[r]){let e=await re({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new tQ("JSON Web Key Set members must be public keys");i[r]=e}return i[r]}function ro(e){let t=new ri(e),r=async(e,r)=>t.getKey(e,r);return Object.defineProperties(r,{jwks:{value:()=>rr(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),r}("u"<typeof navigator||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(r="jose/v5.10.0");let ra=Symbol();class rs{_url;_timeoutDuration;_cooldownDuration;_cacheMaxAge;_jwksTimestamp;_pendingFetch;_options;_local;_cache;constructor(e,t){if(!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:t?.agent,headers:t?.headers},this._timeoutDuration="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this._cooldownDuration="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,t?.[ra]!==void 0&&(this._cache=t?.[ra],function(e,t){return!("object"!=typeof e||null===e||!("uat"in e)||"number"!=typeof e.uat||Date.now()-e.uat>=t)&&"jwks"in e&&!!t7(e.jwks)&&!!Array.isArray(e.jwks.keys)&&!!Array.prototype.every.call(e.jwks.keys,t7)}(t?.[ra],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=ro(this._cache.jwks)))}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._local&&this.fresh()||await this.reload();try{return await this._local(e,t)}catch(r){if(r instanceof tZ&&!1===this.coolingDown())return await this.reload(),this._local(e,t);throw r}}async reload(){this._pendingFetch&&("u">typeof WebSocketPair||"u">typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"u">typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0);let e=new Headers(this._options.headers);r&&!e.has("User-Agent")&&(e.set("User-Agent",r),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||=t5(this._url,this._timeoutDuration,this._options).then(e=>{this._local=ro(e),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=e),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e}),await this._pendingFetch}}function rc(e){let t,r;if("string"!=typeof e)throw new tY("JWTs must use Compact JWS serialization, JWT must be a string");let{1:i,length:n}=e.split(".");if(5===n)throw new tY("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new tY("Invalid JWT");if(!i)throw new tY("JWTs must contain a payload");try{t=t9(i)}catch{throw new tY("Failed to base64url decode the payload")}try{r=JSON.parse(t3.decode(t))}catch{throw new tY("Failed to parse the decoded payload as JSON")}if(!t7(r))throw new tY("Invalid JWT Claims Set");return r}var rl=e.i(12057);function ru(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"Ed25519":case"EdDSA":return;default:throw new tq(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}let rd=tI.webcrypto;function rp(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let rh=(e,...t)=>rp("Key must be ",e,...t);function rf(e,t,...r){return rp(`Key for the ${e} algorithm must be `,t,...r)}let ry=e=>rl.types.isKeyObject(e)||rl.types.isCryptoKey(e),rg=["KeyObject"];function rm(e){return t7(e)&&"string"==typeof e.kty}(globalThis.CryptoKey||rd?.CryptoKey)&&rg.push("CryptoKey"),new WeakMap;let rv=(e,t)=>{let r;try{r=e instanceof tI.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof r||r<2048)throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)},rb=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function rw(e,t){let r,i,n,o;if(t instanceof tI.KeyObject)r=t.asymmetricKeyType,i=t.asymmetricKeyDetails;else switch(n=!0,t.kty){case"RSA":r="rsa";break;case"EC":r="ec";break;case"OKP":if("Ed25519"===t.crv){r="ed25519";break}if("Ed448"===t.crv){r="ed448";break}throw TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448");default:throw TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}switch(e){case"Ed25519":if("ed25519"!==r)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519");break;case"EdDSA":if(!["ed25519","ed448"].includes(r))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if("rsa"!==r)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");rv(t,e);break;case"PS256":case"PS384":case"PS512":if("rsa-pss"===r){let{hashAlgorithm:t,mgf1HashAlgorithm:r,saltLength:n}=i,o=parseInt(e.slice(-3),10);if(void 0!==t&&(t!==`sha${o}`||r!==t))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==n&&n>o>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==r)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");rv(t,e),o={padding:tI.constants.RSA_PKCS1_PSS_PADDING,saltLength:tI.constants.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==r)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let i=((e,t)=>{let r;if(rl.types.isCryptoKey(e))r=tI.KeyObject.from(e);else if(rl.types.isKeyObject(e))r=e;else if(rm(e))return e.crv;else throw TypeError(rh(e,...rg));if("secret"===r.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(r.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${r.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${r.asymmetricKeyType.slice(1)}`;case"ec":{let e=r.asymmetricKeyDetails.namedCurve;if(t)return e;switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new tq("Unsupported key curve for this operation")}}default:throw TypeError("Invalid asymmetric key type for this operation")}})(t),n=rb.get(e);if(i!==n)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${n}, got ${i}`);o={dsaEncoding:"ieee-p1363"};break}default:throw new tq(`alg ${e} is not supported either by JOSE or your javascript runtime`)}return n?{format:"jwk",key:t,...o}:o?{...o,key:t}:t}function r_(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function rS(e,t){return e.name===t}function rE(e){return parseInt(e.name.slice(4),10)}function rO(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(rh(t,...rg));return(0,tI.createSecretKey)(t)}if(t instanceof tI.KeyObject)return t;if(rl.types.isCryptoKey(t))return!function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!rS(e.algorithm,"HMAC"))throw r_("HMAC");let r=parseInt(t.slice(2),10);if(rE(e.algorithm.hash)!==r)throw r_(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!rS(e.algorithm,"RSASSA-PKCS1-v1_5"))throw r_("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(rE(e.algorithm.hash)!==r)throw r_(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!rS(e.algorithm,"RSA-PSS"))throw r_("RSA-PSS");let r=parseInt(t.slice(2),10);if(rE(e.algorithm.hash)!==r)throw r_(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw r_("Ed25519 or Ed448");break;case"Ed25519":if(!rS(e.algorithm,"Ed25519"))throw r_("Ed25519");break;case"ES256":case"ES384":case"ES512":{if(!rS(e.algorithm,"ECDSA"))throw r_("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw r_(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}if(r.length&&!r.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(r.length>2){let t=r.pop();e+=`one of ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of ${r[0]} or ${r[1]}.`:e+=`${r[0]}.`;throw TypeError(e)}}(t,e,r),tI.KeyObject.from(t);if(rm(t))return e.startsWith("HS")?(0,tI.createSecretKey)(Buffer.from(t.k,"base64url")):t;throw TypeError(rh(t,...rg,"Uint8Array","JSON Web Key"))}let rA=(0,rl.promisify)(tI.sign),rP=async(e,t,r)=>{let i=rO(e,t,"sign");if(e.startsWith("HS")){let t=tI.createHmac(function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new tq(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e),i);return t.update(r),t.digest()}return rA(ru(e),r,rw(e,i))},rk=(0,rl.promisify)(tI.verify),rx=async(e,t,r,i)=>{let n=rO(e,t,"verify");if(e.startsWith("HS")){let t=await rP(e,n,i);try{return tI.timingSafeEqual(r,t)}catch{return!1}}let o=ru(e),a=rw(e,n);try{return await rk(o,i,a,r)}catch{return!1}},rR=e=>e?.[Symbol.toStringTag],rC=(e,t,r)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(r)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0};function rj(e,t,r,i){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?((e,t,r,i)=>{if(!(t instanceof Uint8Array)){if(i&&rm(t)){if(rm(t)&&"oct"===t.kty&&"string"==typeof t.k&&rC(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!ry(t))throw TypeError(rf(e,t,...rg,"Uint8Array",i?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${rR(t)} instances for symmetric algorithms must be of type "secret"`)}})(t,r,i,e):((e,t,r,i)=>{if(i&&rm(t))switch(r){case"sign":if("oct"!==t.kty&&"string"==typeof t.d&&rC(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if("oct"!==t.kty&&void 0===t.d&&rC(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!ry(t))throw TypeError(rf(e,t,...rg,i?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${rR(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${rR(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${rR(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${rR(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${rR(t)} instances for asymmetric algorithm encryption must be of type "public"`)})(t,r,i,e)}rj.bind(void 0,!1);let rI=rj.bind(void 0,!0),rT=function(e,t,r,i,n){let o;if(void 0!==n.crit&&i?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let a of(o=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,i.crit)){if(!o.has(a))throw new tq(`Extension Header Parameter "${a}" is not recognized`);if(void 0===n[a])throw new e(`Extension Header Parameter "${a}" is missing`);if(o.get(a)&&void 0===i[a])throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(i.crit)};async function rB(e,t,r){let i,n;if(!t7(e))throw new tX("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new tX('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new tX("JWS Protected Header incorrect type");if(void 0===e.payload)throw new tX("JWS Payload missing");if("string"!=typeof e.signature)throw new tX("JWS Signature missing or incorrect type");if(void 0!==e.header&&!t7(e.header))throw new tX("JWS Unprotected Header incorrect type");let o={};if(e.protected)try{let t=t9(e.protected);o=JSON.parse(t3.decode(t))}catch{throw new tX("JWS Protected Header is invalid")}if(!((...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0})(o,e.header))throw new tX("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let a={...o,...e.header},s=rT(tX,new Map([["b64",!0]]),r?.crit,o,a),c=!0;if(s.has("b64")&&"boolean"!=typeof(c=o.b64))throw new tX('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:l}=a;if("string"!=typeof l||!l)throw new tX('JWS "alg" (Algorithm) Header Parameter missing or invalid');let u=r&&((e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)})("algorithms",r.algorithms);if(u&&!u.has(l))throw new tG('"alg" (Algorithm) Header Parameter value not allowed');if(c){if("string"!=typeof e.payload)throw new tX("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new tX("JWS Payload must be a string or an Uint8Array instance");let d=!1;"function"==typeof t?(t=await t(o,e),d=!0,rI(l,t,"verify"),rm(t)&&(t=await re(t,l))):rI(l,t,"verify");let p=t6(t8.encode(e.protected??""),t8.encode("."),"string"==typeof e.payload?t8.encode(e.payload):e.payload);try{i=t9(e.signature)}catch{throw new tX("Failed to base64url decode the signature")}if(!await rx(l,t,i,p))throw new t2;if(c)try{n=t9(e.payload)}catch{throw new tX("Failed to base64url decode the payload")}else n="string"==typeof e.payload?t8.encode(e.payload):e.payload;let h={payload:n};return(void 0!==e.protected&&(h.protectedHeader=o),void 0!==e.header&&(h.unprotectedHeader=e.header),d)?{...h,key:t}:h}async function rM(e,t,r){if(e instanceof Uint8Array&&(e=t3.decode(e)),"string"!=typeof e)throw new tX("Compact JWS must be a string or Uint8Array");let{0:i,1:n,2:o,length:a}=e.split(".");if(3!==a)throw new tX("Invalid Compact JWS");let s=await rB({payload:n,protected:i,signature:o},t,r),c={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...c,key:s.key}:c}let rN=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,rD=e=>{let t,r=rN.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let i=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(i);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*i);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*i);break;case"day":case"days":case"d":t=Math.round(86400*i);break;case"week":case"weeks":case"w":t=Math.round(604800*i);break;default:t=Math.round(0x1e187e0*i)}return"-"===r[1]||"ago"===r[4]?-t:t},rK=e=>e.toLowerCase().replace(/^application\//,"");async function rU(e,t,r){let i=await rM(e,t,r);if(i.protectedHeader.crit?.includes("b64")&&!1===i.protectedHeader.b64)throw new tY("JWTs MUST NOT use unencoded payload");let n={payload:((e,t,r={})=>{var i,n;let o,a;try{o=JSON.parse(t3.decode(t))}catch{}if(!t7(o))throw new tY("JWT Claims Set must be a top-level JSON object");let{typ:s}=r;if(s&&("string"!=typeof e.typ||rK(e.typ)!==rK(s)))throw new tV('unexpected "typ" JWT header value',o,"typ","check_failed");let{requiredClaims:c=[],issuer:l,subject:u,audience:d,maxTokenAge:p}=r,h=[...c];for(let e of(void 0!==p&&h.push("iat"),void 0!==d&&h.push("aud"),void 0!==u&&h.push("sub"),void 0!==l&&h.push("iss"),new Set(h.reverse())))if(!(e in o))throw new tV(`missing required "${e}" claim`,o,e,"missing");if(l&&!(Array.isArray(l)?l:[l]).includes(o.iss))throw new tV('unexpected "iss" claim value',o,"iss","check_failed");if(u&&o.sub!==u)throw new tV('unexpected "sub" claim value',o,"sub","check_failed");if(d&&(i=o.aud,n="string"==typeof d?[d]:d,"string"==typeof i?!n.includes(i):!(Array.isArray(i)&&n.some(Set.prototype.has.bind(new Set(i))))))throw new tV('unexpected "aud" claim value',o,"aud","check_failed");switch(typeof r.clockTolerance){case"string":a=rD(r.clockTolerance);break;case"number":a=r.clockTolerance;break;case"undefined":a=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:f}=r,y=Math.floor((f||new Date).getTime()/1e3);if((void 0!==o.iat||p)&&"number"!=typeof o.iat)throw new tV('"iat" claim must be a number',o,"iat","invalid");if(void 0!==o.nbf){if("number"!=typeof o.nbf)throw new tV('"nbf" claim must be a number',o,"nbf","invalid");if(o.nbf>y+a)throw new tV('"nbf" claim timestamp check failed',o,"nbf","check_failed")}if(void 0!==o.exp){if("number"!=typeof o.exp)throw new tV('"exp" claim must be a number',o,"exp","invalid");if(o.exp<=y-a)throw new tF('"exp" claim timestamp check failed',o,"exp","check_failed")}if(p){let e=y-o.iat;if(e-a>("number"==typeof p?p:rD(p)))throw new tF('"iat" claim timestamp check failed (too far in the past)',o,"iat","check_failed");if(e<0-a)throw new tV('"iat" claim timestamp check failed (it should be in the past)',o,"iat","check_failed")}return o})(i.protectedHeader,i.payload,r),protectedHeader:i.protectedHeader};return"function"==typeof t?{...n,key:i.key}:n}var rL=e.i(27180);function rz(e){return process.env[e]}e.i(2318);let rH=rz("WORKOS_API_HOSTNAME"),rW=rz("WORKOS_API_HTTPS"),r$=rz("WORKOS_API_PORT"),rJ=rz("WORKOS_COOKIE_DOMAIN"),rV=rz("WORKOS_COOKIE_MAX_AGE"),rF=rz("WORKOS_COOKIE_NAME"),rG=rz("WORKOS_COOKIE_SAMESITE"),rq=null!=(F=rz("WORKOS_API_KEY"))?F:"",rX=null!=(G=rz("WORKOS_CLIENT_ID"))?G:"",rY=null!=(q=rz("WORKOS_COOKIE_PASSWORD"))?q:"",rQ=null!=(X=process.env.NEXT_PUBLIC_WORKOS_REDIRECT_URI)?X:"";function rZ(e,t=!1,r=!1){let i,n,o=rG||"lax";if(!["lax","strict","none"].includes(o.toLowerCase()))throw Error(`Invalid SameSite value: ${o}`);let a=e||rQ;if("none"===o.toLowerCase())i=!0;else if(a)try{let e=new URL(a);i="https:"===e.protocol}catch(e){i=!0}else i=!0;if(r)n=0;else if(rV){let e=parseInt(rV,10);n=Number.isFinite(e)?e:3456e4}else n=3456e4;if(t){let e=o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),t=["Path=/","HttpOnly",`SameSite=${e}`,`Max-Age=${n}`];return rJ&&t.push(`Domain=${rJ}`),i&&t.push("Secure"),t.join("; ")}return{path:"/",httpOnly:!0,secure:i,sameSite:o,maxAge:n,domain:rJ||""}}function r0(e,t,r){let i=`workos-access-token=${r?"":null!=e?e:""}`,n=!1;if(t)try{let e=new URL(t);n="localhost"!==e.hostname&&"127.0.0.1"!==e.hostname}catch(e){if(n=!0,rQ)try{let e=new URL(rQ);n="https:"===e.protocol}catch(e){n=!1}}else if(rQ)try{let e=new URL(rQ);n="https:"===e.protocol}catch(e){n=!1}let o=[i,"SameSite=Lax",`Max-Age=${30*!r}`];return n&&o.push("Secure"),r&&o.push(`Expires=${new Date(0).toUTCString()}`),o.join("; ")}var r1=e.i(65463),r2=e.i(55207);function r8(e){let t,r=!1;return()=>(r||(t=e(),r=!0),t)}let r3={apiHostname:rH,https:!rW||"true"===rW,port:r$?parseInt(r$):void 0,appInfo:{name:"authkit/nextjs",version:"2.13.0"}},r6=r8(()=>new r1.WorkOS(rq,r3));async function r5(e={}){var t;let{returnPathname:r,screenHint:i,organizationId:n,loginHint:o,prompt:a,state:s}=e,c=e.redirectUri;c||(c=null!=(t=(await (0,rL.headers)()).get("x-redirect-uri"))?t:void 0);let l=r?btoa(JSON.stringify({returnPathname:r})).replace(/\+/g,"-").replace(/\//g,"_"):null,u=l&&s?`${l}.${s}`:l||s||void 0;return r6().userManagement.getAuthorizationUrl({provider:"authkit",clientId:rX,redirectUri:null!=c?c:rQ,state:u,screenHint:i,organizationId:n,loginHint:o,prompt:a})}function r4(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}let r9=["x-workos-middleware","x-url","x-redirect-uri","x-sign-up-paths","x-workos-session"],r7=["set-cookie","cache-control","vary","www-authenticate","proxy-authenticate","link","x-middleware-cache"],ie=["set-cookie","www-authenticate","proxy-authenticate","link"];function it(e){let t=e.toLowerCase();return r9.includes(t)||t.startsWith("x-workos-")}function ir(e,t,r){let i=t.toLowerCase();if(ie.includes(i))e.append(t,r);else if("vary"===i){let i=e.get(t),n=new Set([...i?i.split(",").map(e=>e.trim()):[],...r.split(",").map(e=>e.trim())]);e.set(t,[...n].join(", "))}else e.set(t,r)}function ii(e,t){for(let[r,i]of t)ir(e.headers,r,i);return e}function io(e,t,r={}){let{requestHeaders:i,responseHeaders:n}=function(e,t){let r=new Headers(t),i=new Headers(e.headers);for(let e of[...i.keys()])it(e)&&i.delete(e);for(let e of r9){let t=r.get(e);null!=t&&i.set(e,t)}let n=new Headers;for(let[e,t]of r){let r=e.toLowerCase();!it(r)&&r7.includes(r)&&ir(n,e,t)}return n.has("set-cookie")&&!n.has("cache-control")&&n.set("cache-control","no-store"),{requestHeaders:i,responseHeaders:n}}(e,t),{redirect:o,redirectStatus:a}=r;if(null!=o&&""!==o){let t;try{t=o instanceof URL?o:new URL(o,e.url)}catch(e){throw Error(`Invalid redirect URL: "${o}". Must be a valid absolute or relative URL.`)}let r=e.method.toUpperCase();return ii(r2.NextResponse.redirect(t,null!=a?a:"GET"===r||"HEAD"===r?307:303),n)}return ii(r2.NextResponse.next({request:{headers:i}}),n)}let ia="x-workos-session",is=r8(()=>{let e,t;return e=new rs(new URL(r6().userManagement.getJwksUrl(rX)),void 0),Object.defineProperties(t=async(t,r)=>e.getKey(t,r),{coolingDown:{get:()=>e.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>e.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>e.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!e._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>e._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),t});function ic(e,t,r){if(!(null==r?void 0:r.accessToken)&&!t.cookies.has(rF||"wos-session")&&!t.headers.has("authorization"))return;let i=new Set(["cookie"]);t.headers.has("authorization")&&i.add("authorization");let n=e.get("Vary");n&&n.split(",").forEach(e=>{let t=e.trim().toLowerCase();t&&i.add(t)}),e.set("Vary",Array.from(i).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")),e.set("Cache-Control","private, no-cache, no-store, must-revalidate, max-age=0"),e.set("x-middleware-cache","no-cache")}function il(e){let t=(e.headers.get("accept")||"").includes("text/html"),r=e.headers.has("RSC")||e.headers.has("Next-Router-State-Tree"),i="prefetch"===e.headers.get("Purpose")||"prefetch"===e.headers.get("Sec-Purpose")||e.headers.has("Next-Router-Prefetch");return t&&!r&&!i}async function iu(e){return tL(e,{password:rY,ttl:0})}async function id(e,t,r,i,n,o=!1){var a,s;let c;if(!i&&!rQ)throw Error("You must provide a redirect URI in the AuthKit middleware or in the environment variables.");if(!rY||rY.length<32)throw Error("You must provide a valid cookie password that is at least 32 characters in the environment variables.");c=new URL(i?i:rQ),r.enabled&&c.pathname===e.nextUrl.pathname&&!r.unauthenticatedPaths.includes(c.pathname)&&r.unauthenticatedPaths.push(c.pathname);let l=r.unauthenticatedPaths.filter(t=>ih(t).exec(e.nextUrl.pathname)),{session:u,headers:d,authorizationUrl:p}=await ip(e,{debug:t,redirectUri:i,screenHint:(a=n,s=e.nextUrl.pathname,a&&a.filter(e=>ih(e).exec(s)).length>0?"sign-up":"sign-in"),eagerAuth:o});return(n.length>0&&d.set("x-sign-up-paths",n.join(",")),ic(d,e,u),r.enabled&&0===l.length&&!u.user)?(t&&console.log(`Unauthenticated user on protected route ${e.url}, redirecting to AuthKit`),io(e,d,{redirect:p})):io(e,d)}async function ip(e,t={debug:!1}){var r,i;let n=await ig(e),o=new Headers;if(o.set("x-workos-middleware","true"),o.set("x-url",e.url),t.redirectUri&&o.set("x-redirect-uri",t.redirectUri),o.delete(ia),!n)return t.debug&&console.log("No session found from cookie"),{session:{user:null},headers:o,authorizationUrl:await r5({returnPathname:im(e.url),redirectUri:t.redirectUri||rQ,screenHint:t.screenHint})};let a=await iy(n.accessToken),s=rF||"wos-session";if(ic(o,e,n),a){o.set(ia,e.cookies.get(s).value);let{sid:r,org_id:i,role:a,roles:c,permissions:l,entitlements:u,feature_flags:d}=rc(n.accessToken);if(t.eagerAuth&&il(e)){let t=e.cookies.get("workos-access-token");t&&t.value===n.accessToken||o.append("Set-Cookie",r0(n.accessToken,e.url))}return{session:{sessionId:r,user:n.user,organizationId:i,role:a,roles:c,permissions:l,entitlements:u,featureFlags:d,impersonator:n.impersonator,accessToken:n.accessToken},headers:o}}try{t.debug&&console.log(`Session invalid. ${n.accessToken?`Refreshing access token that ends in ${n.accessToken.slice(-10)}`:"Access token missing."}`);let{org_id:i}=rc(n.accessToken),{accessToken:a,refreshToken:c,user:l,impersonator:u}=await r6().userManagement.authenticateWithRefreshToken({clientId:rX,refreshToken:n.refreshToken,organizationId:i});t.debug&&console.log("Session successfully refreshed");let d=await iu({accessToken:a,refreshToken:c,user:l,impersonator:u});o.append("Set-Cookie",`${s}=${d}; ${rZ(e.url,!0)}`),o.set(ia,d),t.eagerAuth&&il(e)&&o.append("Set-Cookie",r0(a,e.url));let{sid:p,org_id:h,role:f,roles:y,permissions:g,entitlements:m,feature_flags:v}=rc(a);return null==(r=t.onSessionRefreshSuccess)||r.call(t,{accessToken:a,user:l,impersonator:u,organizationId:h}),{session:{sessionId:p,user:l,organizationId:h,role:f,roles:y,permissions:g,entitlements:m,featureFlags:v,impersonator:u,accessToken:a},headers:o}}catch(n){t.debug&&console.log("Failed to refresh. Deleting cookie.",n);let r=`${s}=; Expires=${new Date(0).toUTCString()}; ${rZ(e.url,!0,!0)}`;if(o.append("Set-Cookie",r),t.eagerAuth){let t=r0(null,e.url,!0);o.append("Set-Cookie",t)}return null==(i=t.onSessionRefreshError)||i.call(t,{error:n,request:e}),{session:{user:null},headers:o,authorizationUrl:await r5({returnPathname:im(e.url),redirectUri:t.redirectUri||rQ})}}}function ih(e){try{let t=new URL(e,"https://example.com"),r=`${t.pathname}${t.hash||""}`,i=function(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var i=e[r];if("*"===i||"+"===i||"?"===i){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if("\\"===i){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if("{"===i){t.push({type:"OPEN",index:r,value:e[r++]});continue}if("}"===i){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(":"===i){for(var n="",o=r+1;o<e.length;){var a=e.charCodeAt(o);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||95===a){n+=e[o++];continue}break}if(!n)throw TypeError("Missing parameter name at ".concat(r));t.push({type:"NAME",index:r,value:n}),r=o;continue}if("("===i){var s=1,c="",o=r+1;if("?"===e[o])throw TypeError('Pattern cannot start with "?" at '.concat(o));for(;o<e.length;){if("\\"===e[o]){c+=e[o++]+e[o++];continue}if(")"===e[o]){if(0==--s){o++;break}}else if("("===e[o]&&(s++,"?"!==e[o+1]))throw TypeError("Capturing groups are not allowed at ".concat(o));c+=e[o++]}if(s)throw TypeError("Unbalanced pattern at ".concat(r));if(!c)throw TypeError("Missing pattern at ".concat(r));t.push({type:"PATTERN",index:r,value:c}),r=o;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),i=t.prefixes,n=void 0===i?"./":i,o=t.delimiter,a=void 0===o?"/#?":o,s=[],c=0,l=0,u="",d=function(e){if(l<r.length&&r[l].type===e)return r[l++].value},p=function(e){var t=d(e);if(void 0!==t)return t;var i=r[l],n=i.type,o=i.index;throw TypeError("Unexpected ".concat(n," at ").concat(o,", expected ").concat(e))},h=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t},f=function(e){for(var t=0;t<a.length;t++){var r=a[t];if(e.indexOf(r)>-1)return!0}return!1},y=function(e){var t=s[s.length-1],r=e||(t&&"string"==typeof t?t:"");if(t&&!r)throw TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!r||f(r)?"[^".concat(r4(a),"]+?"):"(?:(?!".concat(r4(r),")[^").concat(r4(a),"])+?")};l<r.length;){var g=d("CHAR"),m=d("NAME"),v=d("PATTERN");if(m||v){var b=g||"";-1===n.indexOf(b)&&(u+=b,b=""),u&&(s.push(u),u=""),s.push({name:m||c++,prefix:b,suffix:"",pattern:v||y(b),modifier:d("MODIFIER")||""});continue}var w=g||d("ESCAPED_CHAR");if(w){u+=w;continue}if(u&&(s.push(u),u=""),d("OPEN")){var b=h(),_=d("NAME")||"",S=d("PATTERN")||"",E=h();p("CLOSE"),s.push({name:_||(S?c++:""),pattern:_&&!S?y(b):S,prefix:b,suffix:E,modifier:d("MODIFIER")||""});continue}p("END")}return s}(r),n=function(e,t,r){void 0===r&&(r={});for(var i,n=r.strict,o=void 0!==n&&n,a=r.start,s=r.end,c=r.encode,l=void 0===c?function(e){return e}:c,u=r.delimiter,d=r.endsWith,p="[".concat(r4(void 0===d?"":d),"]|$"),h="[".concat(r4(void 0===u?"/#?":u),"]"),f=void 0===a||a?"^":"",y=0;y<e.length;y++){var g=e[y];if("string"==typeof g)f+=r4(l(g));else{var m=r4(l(g.prefix)),v=r4(l(g.suffix));if(g.pattern)if(m||v)if("+"===g.modifier||"*"===g.modifier){var b="*"===g.modifier?"?":"";f+="(?:".concat(m,"((?:").concat(g.pattern,")(?:").concat(v).concat(m,"(?:").concat(g.pattern,"))*)").concat(v,")").concat(b)}else f+="(?:".concat(m,"(").concat(g.pattern,")").concat(v,")").concat(g.modifier);else{if("+"===g.modifier||"*"===g.modifier)throw TypeError('Can not repeat "'.concat(g.name,'" without a prefix and suffix'));f+="(".concat(g.pattern,")").concat(g.modifier)}else f+="(?:".concat(m).concat(v,")").concat(g.modifier)}}if(void 0===s||s)o||(f+="".concat(h,"?")),f+=r.endsWith?"(?=".concat(p,")"):"$";else{var w=e[e.length-1],_="string"==typeof w?h.indexOf(w[w.length-1])>-1:void 0===w;o||(f+="(?:".concat(h,"(?=").concat(p,"))?")),_||(f+="(?=".concat(h,"|").concat(p,")"))}return new RegExp(f,(i=r)&&i.sensitive?"":"i")}(i).source;return new RegExp(n)}catch(t){console.log("err",t);let e=t instanceof Error?t.message:String(t);throw Error(`Error parsing routes for middleware auth. Reason: ${e}`)}}async function iy(e){try{return await rU(e,is()),!0}catch(e){return!1}}async function ig(e){let t,r=rF||"wos-session";if(t=e?e.cookies.get(r):(await (0,rL.cookies)()).get(r))return tz(t.value,{password:rY})}function im(e){let t=new URL(e);return`${t.pathname}${t.searchParams.size>0?"?"+t.searchParams.toString():""}`}let iv=function({debug:e=!1,middlewareAuth:t={enabled:!1,unauthenticatedPaths:[]},redirectUri:r=rQ,signUpPaths:i=[],eagerAuth:n=!1}={}){return function(o){return id(o,e,t,r,i,n)}}({redirectUri:process.env.WORKOS_REDIRECT_URI});e.s(["config",0,{matcher:["/((?!api|_next/static|_next/image|favicon.ico).*)"]},"default",0,iv],22685);var ib=e.i(22685);Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401});let iw={...ib},i_="/proxy",iS=iw.proxy||iw.default;if("function"!=typeof iS)throw new class extends Error{constructor(e){super(e),this.stack=""}}(`The Proxy file "${i_}" must export a function named \`proxy\` or a default function.`);e.s(["default",0,e=>td({...e,page:i_,handler:async(...e)=>{try{return await iS(...e)}catch(n){let t=e[0],r=new URL(t.url),i=r.pathname+r.search;throw await s(n,{path:i,method:t.method,headers:Object.fromEntries(t.headers.entries())},{routerKind:"Pages Router",routePath:"/proxy",routeType:"proxy",revalidateReason:void 0}),n}}})],89997)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__99a262e3._.js.map